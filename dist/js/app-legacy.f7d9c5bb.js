(function(){"use strict";var t={1442:function(t,e,n){n.r(e),n.d(e,{default:function(){return d}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"discovery-container"},[n("el-carousel",{attrs:{interval:4e3,type:"card",height:"200px"}},t._l(t.banners,(function(e,i){return n("el-carousel-item",{key:i},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imageUrl,expression:"item.imageUrl"}],attrs:{alt:""},on:{click:function(n){return t.PlayBanner(e)}}}),n("h3",{staticClass:"medium"},[t._v(t._s(e))])])})),1),n("div",{staticClass:"recommend"},[n("h3",{staticClass:"titl"},[t._v("推荐歌单")]),n("div",{staticClass:"items"},t._l(t.list,(function(e,i){return n("div",{key:i,staticClass:"item"},[n("div",{staticClass:"img-wrap"},[n("div",{staticClass:"desc-wrap"},[n("span",{staticClass:"desc"},[t._v("播放量："+t._s(e.playCount))])]),n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"item.picUrl"}],attrs:{alt:""},on:{click:function(n){return t.toPlaylist(e.id)}}}),n("span",{staticClass:"iconfont icon-play",on:{click:function(n){return t.toPlaylist(e.id)}}})]),n("p",{staticClass:"name"},[t._v(t._s(e.name)+" ")])])})),0)]),n("div",{staticClass:"news"},[n("h3",{staticClass:"title"},[t._v("最新音乐")]),n("div",{staticClass:"items"},t._l(t.songs,(function(e,i){return n("div",{key:i,staticClass:"item"},[n("div",{staticClass:"img-wrap"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"item.picUrl"}],attrs:{alt:""}}),n("span",{staticClass:"iconfont icon-play",on:{click:function(n){return t.PlayMusic(e)}}})]),n("div",{staticClass:"song-wrap"},[n("div",{staticClass:"song-name"},[t._v(t._s(e.name))]),n("div",{staticClass:"singer"},[t._v(t._s(e.song.artists[0].name))])])])})),0)]),n("div",{staticClass:"mvs"},[n("h3",{staticClass:"title"},[t._v("MV推荐")]),n("div",{staticClass:"items"},t._l(t.mvs,(function(e,i){return n("div",{key:i,staticClass:"item",on:{click:function(n){return t.toMvDetail(e.id)}}},[n("div",{staticClass:"img-wrap"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"item.picUrl"}],attrs:{alt:""}}),n("span",{staticClass:"iconfont icon-play icon1"}),n("div",{staticClass:"num-wrap"},[n("span",{staticClass:"iconfont icon-play icon2"}),n("div",{staticClass:"num"},[t._v(t._s(e.playCount))])])]),n("div",{staticClass:"info-wrap"},[n("div",{staticClass:"name"},[t._v(t._s(e.name))]),n("div",{staticClass:"singer"},[t._v(t._s(e.artistName))])])])})),0)])],1)},o=[],s=(n(6166),n(4859)),r=n(9059),a={name:"discovery",data:function(){return{banners:[],list:[],songs:[],mvs:[],newSongLimit:15}},created:function(){var t=this;(0,s.pK)().then((function(e){t.banners=e.data.banners})).then((function(){t.loading=!1})),(0,s.AL)({limit:15}).then((function(e){t.list=e.data.result})),(0,s.Db)(this.newSongLimit).then((function(e){t.songs=e.data.result})),(0,s.y7)().then((function(e){t.mvs=e.data.result}))},methods:{PlayMusic:function(t){var e=this;(0,r.Ai)(t.id).then((function(n){(0,r.TS)(t.id).then((function(t){e.$store.dispatch("saveSongUrl",t.data.data[0].url)})),(0,r.Pc)(t.id).then((function(t){console.log("detail",t),e.$store.dispatch("changePlayState",!0),e.$store.dispatch("saveSongDetail",t.data.songs[0]),e.$store.dispatch("addPlayinglist",t.data.songs[0])}))})).catch((function(t){console.log(t),e.$message({message:"暂时无法播放，换首试试",type:"warning",center:!0})}))},PlayBanner:function(t){var e=this;if(0!=t.targetId)if(1==t.targetType||300==t.typeTitle)(0,r.TS)(t.targetId).then((function(t){e.$store.dispatch("saveSongUrl",t.data.data[0].url)})).catch((function(t){return t})),(0,r.Pc)(t.targetId).then((function(t){e.$store.dispatch("saveSongDetail",t.data.songs[0]),e.$store.dispatch("addPlayinglist",t.data.songs[0])})).catch((function(t){return t}));else{if(1e3==t.targetType)return;if(10==t.targetType)return}},toPlaylist:function(t){this.$router.push("/playlist?q=".concat(t))},toMvDetail:function(t){this.$router.push("/mv?q=".concat(t))}}},l=a,c=n(3736),u=(0,c.Z)(l,i,o,!1,null,null,null),d=u.exports},8500:function(t,e,n){var i={};n.r(i),n.d(i,{currentLyric:function(){return Ht},currentRow:function(){return Jt},currentSecond:function(){return Vt},downloadMusicInfo:function(){return Ft},historyPlay:function(){return jt},isLogin:function(){return Bt},isPlaying:function(){return At},isShowSongDetail:function(){return zt},likeSongIds:function(){return Zt},nowSongDetail:function(){return Rt},playingList:function(){return Et},showFloatLyric:function(){return qt},songUrl:function(){return Ut},subAlbumlist:function(){return Mt},subMvlist:function(){return Ot},subSingerlist:function(){return Nt},userFollowsList:function(){return Tt},userInfo:function(){return Dt},userSongList:function(){return $t}});n(6992),n(8674),n(9601),n(7727),n(1539),n(8783),n(3948);var o=n(8935),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("top"),n("index"),n("foot")],1)},r=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("div",{staticClass:"header-title"},[n("h2",{on:{click:t.gohome}},[t._v("云音乐播放器By Alive")])]),n("div",{staticClass:"btns"},[n("i",{staticClass:"el-icon-arrow-left",on:{click:function(e){return t.go(-1)}}}),n("i",{staticClass:"el-icon-arrow-right",on:{click:function(e){return t.go(1)}}}),n("i",{staticClass:"el-icon-picture-outline",attrs:{id:"btbg"},on:{click:function(t){}}})]),n("div",[n("div",{staticClass:"input-box"},[n("el-input",{attrs:{placeholder:t.placeholder,"prefix-icon":"el-icon-search"},on:{focus:t.getSearchData,blur:t.outblur},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1),n("transition",{attrs:{name:"el-fade-in-linear"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showHot,expression:"showHot"}],ref:"hot",staticClass:"search-hot"},[n("el-scrollbar",{staticStyle:{height:"100%"}},[t.history.length?n("div",{staticClass:"history"},[n("span",{staticClass:"hot-title",staticStyle:{display:"inline-block","margin-right":"5px"}},[t._v("搜索历史")]),n("span",{staticClass:"iconfont icon-lajitong",staticStyle:{cursor:"pointer"},attrs:{title:"清空搜索历史"},on:{mousedown:function(e){return t.deleteHistory(0,!0)}}}),n("div",{staticClass:"history-wrap"},t._l(t.history,(function(e,i){return n("div",{key:i,staticClass:"history-item",on:{mousedown:function(n){return t.toHot(e)}}},[t._v(" "+t._s(e)+" "),n("span",{staticClass:"delete-btn",attrs:{title:"删除"},on:{mousedown:function(e){return e.stopPropagation(),t.deleteHistory(i,!1)}}},[t._v("×")])])})),0)]):t._e(),n("div",{staticClass:"hot-title"},[t._v("热搜榜")]),n("ul",t._l(t.hotData,(function(e,i){return n("li",{key:i,staticClass:"hot-item",on:{mousedown:function(n){return t.toHot(e.searchWord)}}},[n("div",{staticClass:"hot-index"},[t._v(t._s(i+1))]),n("div",{staticClass:"hot-info"},[n("div",{staticClass:"hot-top"},[n("div",{staticClass:"hot-name"},[t._v(t._s(e.searchWord))]),n("div",{staticClass:"hot-score"},[t._v(t._s(e.score))]),n("img",{directives:[{name:"show",rawName:"v-show",value:e.iconUrl&&5!=e.iconType,expression:"item.iconUrl && item.iconType != 5"}],staticClass:"hot-icon",attrs:{src:e.iconUrl}})]),n("div",{staticClass:"hot-content"},[t._v(t._s(e.content))])])])})),0)])],1)]),n("transition",{attrs:{name:"el-fade-in-linear"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isAdvice,expression:"isAdvice"}],staticClass:"search-hot"},[n("el-scrollbar",{staticStyle:{height:"100%"}},[n("ul",t._l(t.suggestionList.songs,(function(e,i){return n("li",{key:i,staticClass:"hot-item",on:{mousedown:function(n){return t.toHot(e.name)}}},[n("div",{staticClass:"hot-info"},[n("div",{staticClass:"hot-top"},[n("div",{staticClass:"hot-name"},[t._v(t._s(e.name))])])])])})),0)])],1)])],1),n("div",{staticClass:"sliderBar"},[n("el-slider",{attrs:{"format-tooltip":t.formatTooltip},model:{value:t.sliderValue,callback:function(e){t.sliderValue=e},expression:"sliderValue"}})],1),n("div",{staticClass:"userInfo-wrap"},[n("div",{staticClass:"avater"},[n("span",{directives:[{name:"show",rawName:"v-show",value:!t.isLogin,expression:"!isLogin"}],on:{click:function(e){return t.toLogin()}}},[t._v("登录")]),n("img",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],attrs:{src:t.userInfo.avater},on:{click:function(e){return t.toLogin()}}})]),n("div",{staticClass:"user-wrap"},[n("span",[t._v(t._s(t.userInfo.username))]),n("i",{staticClass:"el-icon-caret-bottom"})])])])},l=[],c=n(4367),u=(n(4603),n(8450),n(4916),n(8386),n(9714),n(7601),n(6699),n(2023),n(4765),n(561),n(6166)),d=n.n(u),f=n(4859),h=n(4549),g=n.n(h),p=n(4482),m=n.n(p),v="/bgapi",y=d().create({baseURL:v,timeout:5e3,changeOrigin:!0});y.interceptors.request.use((function(t){return m().start(),t})),y.interceptors.response.use((function(t){return m().done(),t})),y.interceptors.response.use((function(t){return 200==t.status?Promise.resolve(t):Promise.reject(t)}),(function(t){t&&(0,h.Message)({type:"error",message:"后端接口出了点问题 ~ 请重新刷新~ ",showClose:!0})}));var S=y;function w(){return S({url:"?sort=pc&type=json",method:"get"})}var C=n(2741),b={name:"top",data:function(){return{searchValue:"",showHot:!1,hotData:[],history:[],placeholder:"",isAdvice:!1,suggestionList:[],bg:"",sliderValue:35}},computed:(0,c.Z)({},(0,C.rn)(["userInfo","isLogin","token"])),created:function(){this.getDefaultKeywords()},watch:{searchValue:function(){this.getSuggestion()},sliderValue:function(){this.changeOpacity()}},methods:{gohome:function(){"/discovery"!=this.$route.path&&this.$router.push("/discovery")},go:function(t){this.$router.go(t)},toLogin:function(){this.isLogin||this.token||localStorage.getItem("token")?this.$router.push("/userInfo"):this.$router.push("/login")},changeBg:function(){var t=this;w().then((function(e){console.log("改变背景",e),t.bg=e.data.pic;var n=document.createElement("style"),i=document.createTextNode("body::after{background-image: url(".concat(t.bg,");}"));n.appendChild(i),document.body.appendChild(n)}))},changeOpacity:function(){var t=document.createElement("style"),e=document.createTextNode("body::after{opacity: ".concat(this.sliderValue/100,";}"));t.appendChild(e),document.body.appendChild(t)},prevent:function(){event.preventDefault()},showError:function(){this.$message({showClose:!0,message:"请输入内容",type:"error"})},isNull:function(t){if(""==t)return!0;var e="^[ ]+$",n=new RegExp(e);return n.test(t)},outblur:function(){this.isAdvice=!1,this.showHot=!1},search:function(){this.isNull(this.searchValue)?this.showError():(this.$router.push("/result?q=".concat(this.searchValue)),this.history.includes(this.searchValue)||this.history.push(this.searchValue),this.outblur())},getDefaultKeywords:function(){var t=this;(0,f.jr)().then((function(e){t.placeholder=e.data.data.showKeyword}))},getSuggestion:function(){var t=this;this.isAdvice=!0;var e={keywords:this.searchValue};""!=this.searchValue?(0,f.GB)(e).then((function(e){t.suggestionList=e.data.result})):this.isAdvice=!1},getSearchData:function(){var t=this;""!=this.searchValue?this.getSuggestion():(this.showHot=!0,0==this.hotData.length&&(0,f["if"])().then((function(e){t.hotData=e.data.data})))},toHot:function(t){this.searchValue=t,this.search()},deleteHistory:function(t,e){if(e)this.history=[];else for(var n=0;n<this.history.length;n++)n==t&&this.history.splice(n,1);event.preventDefault()},formatTooltip:function(t){return t/100}}},k=b,L=n(3736),_=(0,L.Z)(k,a,l,!1,null,null,null),I=_.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"index-contain"},[n("el-backtop",{attrs:{target:".index-contain .main",right:40,bottom:100,id:"playBackTop"}}),n("div",{staticClass:"nav"},[n("li",{staticClass:"nav-list"},[n("i",{staticClass:"el-icon-headset"}),n("router-link",{attrs:{to:"/discovery"}},[n("span",{staticClass:"nav-router"},[t._v("发现音乐")])])],1),n("li",{staticClass:"nav-list"},[n("i",{staticClass:"el-icon-trophy"}),n("router-link",{attrs:{to:"/playlists"}},[n("span",{staticClass:"nav-router"},[t._v("推荐歌单")])])],1),n("li",{staticClass:"nav-list"},[n("i",{staticClass:"el-icon-star-off"}),n("router-link",{attrs:{to:"/songs"}},[n("span",{staticClass:"nav-router"},[t._v("最新音乐")])])],1),n("li",{staticClass:"nav-list"},[n("i",{staticClass:"el-icon-film"}),n("router-link",{attrs:{to:"/mvs"}},[n("span",{staticClass:"nav-router"},[t._v("最新MV")])])],1),n("li",{staticClass:"nav-list"},[n("i",{staticClass:"el-icon-s-data"}),n("router-link",{attrs:{to:"/leaderboard"}},[n("span",{staticClass:"nav-router"},[t._v("排行榜")])])],1),n("li",{staticClass:"nav-list"},[n("i",{staticClass:"el-icon-mic"}),n("router-link",{attrs:{to:"/artists"}},[n("span",{staticClass:"nav-router"},[t._v("歌手")])])],1)]),n("div",{staticClass:"Lyric-wrap"},[n("transition",{attrs:{name:"el-fade-in-linear"}},[n("FloatLyric",{directives:[{name:"show",rawName:"v-show",value:t.showFloatLyric,expression:"showFloatLyric"}]})],1)],1),n("div",{staticClass:"main"},[n("div",{staticClass:"container"},[n("router-view",{key:t.key})],1)])],1)},x=[],B=(n(8309),n(1442)),D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"lyric",staticClass:"float-lyric",class:{bg:t.isShowBg},on:{mousedown:t.dragLyric,mouseover:function(e){t.isShowBg=!0},mouseleave:function(e){t.isShowBg=!1}}},[n("div",{staticClass:"lyric"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowBg,expression:"isShowBg"}],staticClass:"close"},[n("span",{staticClass:"iconfont icon-guanbi1",on:{click:t.closeFloatLyric}})]),0==t.currentLyric.length?n("div",{staticClass:"nolyric"},[t._v("暂无歌词")]):n("div",{ref:"floatLyric",attrs:{id:"floatLyric"}},t._l(t.currentLyric,(function(e,i){return n("div",{key:i,staticClass:"lyricRow",class:{currentActive:t.currentRow==i}},[n("span",[t._v(t._s(e.text.trim()))])])})),0)])])},$=[],T=(n(4747),{name:"Floatlyric",data:function(){return{currentRow:"",isShowBg:!0}},computed:(0,c.Z)({},(0,C.Se)(["currentLyric","currentSecond"])),methods:{closeFloatLyric:function(){this.$store.commit("showFloatLyric")},dragLyric:function(t){var e=t.pageX-this.$refs.lyric.offsetLeft,n=t.pageY-this.$refs.lyric.offsetTop,i=this.$refs.lyric;function o(t){i.style.left=t.pageX-e+"px",i.style.top=t.pageY-n+"px"}document.addEventListener("mousemove",o),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",o)}))}},watch:{currentSecond:function(t){var e=this;this.currentLyric.forEach((function(n,i){Math.ceil(t)>=n.time&&(e.$refs.floatLyric.style.top=40*-i+"px",e.currentRow=i)}))}}}),M=T,N=(0,L.Z)(M,D,$,!1,null,"332b250c",null),O=N.exports,Z={name:"index",components:{discovery:B["default"],FloatLyric:O},computed:(0,c.Z)((0,c.Z)({},(0,C.Se)(["nowSongDetail","isShowSongDetail","showFloatLyric"])),{},{key:function(){return this.$route.name?this.$route.name+ +new Date:this.$route+ +new Date}}),data:function(){return{downloadMusicInfo:{name:"",url:""}}},methods:{}},A=Z,U=(0,L.Z)(A,P,x,!1,null,null,null),F=U.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"foot-container",attrs:{id:"footer"}},[n("div",{staticClass:"player"},[n("audio",{ref:"audioplay",attrs:{id:"audio",autoplay:"",src:t.songUrl},on:{play:function(e){return t.changeState(!0)},pause:function(e){return t.changeState(!1)},loadedmetadata:t.onLoadedmetadata,timeupdate:t.onTimeupdate,ended:function(e){3==t.playModel?t.loopPlay():t.toggleSong(1)}}}),n("div",{staticClass:"left-cover-content"},[0!==Object.keys(t.nowSongDetail).length?n("div",{staticClass:"cover-content"},[n("div",{staticClass:"cover",on:{click:t.showSongDetail,mouseenter:function(e){t.showMask=!0},mouseleave:function(e){t.showMask=!1}}},[n("transition",{attrs:{name:"el-fade-in-linear"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showMask,expression:"showMask"}],staticClass:"mask-playicon",staticStyle:{cursor:"pointer",background:"transparent"}},[n("span",{class:t.isShowSongDetail?"iconfont icon-down-arrow":"iconfont icon-xiangshangjiantou"})])]),n("img",{class:{blur:t.showMask},attrs:{src:t.cover,alt:""}})],1),n("div",{staticClass:"songname"},[n("p",{staticStyle:{"padding-bottom":"5px"}},[t._v(t._s(t.nowSongDetail.name))]),n("p",{staticClass:"singer"},[t._v(t._s(t.nowSongDetail.ar[0].name))])]),n("div",{staticClass:"like-song",on:{click:t.likeNowSongBy}},[n("span",{class:t.islike?"iconfont icon-xihuan2":"iconfont icon-xihuan"})]),n("div",{staticClass:"download",attrs:{title:"下载"},on:{click:t.downloadCurrentMusic}},[n("span",{staticClass:"iconfont icon-xiazai"})])]):t._e(),0==Object.keys(t.nowSongDetail).length?n("div",{staticClass:"cover-content",on:{click:t.showSongDetail}},[t._m(0),n("div",{staticClass:"songname"},[t._v("暂无音乐")])]):t._e()]),n("div",{staticClass:"center-play-song"},[n("div",{staticClass:"change-play"},[n("span",{staticClass:"change-box",on:{click:function(e){return t.toggleSong(0)}}},[n("i",{staticClass:"iconfont icon-shangyiqu"})]),t.isPlaying?n("span",{staticClass:"play-box",on:{click:t.pauseMusic}},[n("i",{staticClass:"iconfont icon-pause"})]):n("span",{staticClass:"play-box",on:{click:t.playMusic}},[n("i",{staticClass:"iconfont icon-play"})]),n("span",{staticClass:"change-box",on:{click:function(e){return t.toggleSong(1)}}},[n("i",{staticClass:"iconfont icon-xiayiqu"})])]),n("div",{staticClass:"song-progress"},[n("span",{staticStyle:{cursor:"auto"}},[t._v(t._s(t.currentTime))]),n("div",{staticClass:"s-progress"},[n("Progress",{attrs:{"is-format-tooltip":!0,"format-tooltip":t.formatTooltip,showRadiusBtn:!1,disabled:0==t.playingList.length},on:{onChange:t.changeSongProgress},model:{value:t.songProgress,callback:function(e){t.songProgress=e},expression:"songProgress"}})],1),n("span",{staticStyle:{cursor:"auto"}},[t._v(t._s(t.totalTime))])]),n("div",{staticClass:"playmodel"},[1==t.playModel?n("el-tooltip",{attrs:{effect:"dark",content:"顺序播放",placement:"top"}},[1==t.playModel?n("span",{staticClass:"iconfont icon-orderplay",on:{click:function(e){return t.changePlayModel(2)}}}):t._e()]):t._e(),2==t.playModel?n("el-tooltip",{attrs:{effect:"dark",content:"随机播放",placement:"top"}},[2==t.playModel?n("span",{staticClass:"iconfont icon-random",on:{click:function(e){return t.changePlayModel(3)}}}):t._e()]):t._e(),3==t.playModel?n("el-tooltip",{attrs:{effect:"dark",content:"单曲循环",placement:"top"}},[3==t.playModel?n("span",{staticClass:"iconfont icon-danqu",on:{click:function(e){return t.changePlayModel(1)}}}):t._e()]):t._e(),n("span",{staticClass:"iconfont icon-cibiaoquanyi",on:{click:t.showFloatLyric}})],1)]),n("div",{staticClass:"right-voice"},[n("span",[0==t.voiceProgress?n("i",{staticClass:"iconfont icon-jingyin",on:{click:t.cancelMute}}):n("i",{staticClass:"iconfont icon-laba",on:{click:t.muteVolume}})]),n("div",{staticClass:"v-progress"},[n("Progress",{attrs:{showRadiusBtn:!1,isActiveBar:!1},on:{onChange:t.changeVoiceProgress},model:{value:t.voiceProgress,callback:function(e){t.voiceProgress=e},expression:"voiceProgress"}})],1),n("div",{staticClass:"songplaylist"},[n("el-tooltip",{attrs:{effect:"dark",content:"播放列表",placement:"top"}},[n("span",{staticClass:"iconfont icon-songplaylist",on:{click:function(e){t.isShowDrawer=!t.isShowDrawer}}})])],1)]),n("transition",{attrs:{name:"playlist"}},[t.isShowDrawer?n("PlayingList",{on:{closePlayList:function(e){t.isShowDrawer=!1}}}):t._e()],1)],1)])},E=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cover"},[n("span",{staticClass:"iconfont icon-yinleyanzou"})])}],j=n(3796),z=(n(7941),n(4553),n(3123),n(2707),n(3210),n(9059));n(7327);function V(t){t=parseInt(t),t=t>1e4?Math.floor(t/1e3):Math.floor(t);var e=Math.floor(t/60),n=Math.floor(t%60);return e=e<10?"0"+e:e,n=n<10?"0"+n:n,e+":"+n}function H(t,e){return Math.floor(Math.random()*(e-t+1))+t}var J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"progressBox",staticClass:"progressBox",style:t.progressBoxStyle,on:{mousemove:t.setTooltip,mouseleave:t.progressBoxLeave,click:t.changeProgressBar}},[n("div",{ref:"progressBar",staticClass:"progressBar",style:t.progressBarStyle},[t.isActiveBar?n("div",{staticClass:"activeBar"}):t._e()]),n("transition",{attrs:{name:"el-fade-in-linear"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showRadiusBtn?t.showRadiusBtn:t.hoverShowRadiusBtn,expression:"showRadiusBtn ? showRadiusBtn : hoverShowRadiusBtn"}],ref:"radiusBtn",staticClass:"radiusBtn",style:t.radiusBtnStyle,on:{mouseenter:t.radiusBtnHover,mouseleave:t.radiusBtnLeave,mousedown:t.dragProgressBar}})]),n("transition",{attrs:{name:"el-fade-in-linear"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showToolTip&&t.hoverShowToolTip,expression:"showToolTip && hoverShowToolTip"}],ref:"tooltip",staticClass:"tooltip",style:{bottom:t.progressSize+10+"px"}},[t._v(" "+t._s(t.tooltipTxt)+" ")])])],1)},q=[],K=(n(9653),{name:"Progress",props:{percent:{type:Number,default:0},progressSize:{type:[Number,String],default:6},showRadiusBtn:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},showToolTip:{type:Boolean,default:!0},isFormatTooltip:{type:Boolean,default:!1},formatTooltip:{type:Function},isActiveBar:{type:Boolean,default:!0}},data:function(){return{tooltipTxt:0,hoverShowRadiusBtn:!1,radiusBtnActive:!1,hoverShowToolTip:!1,isDrag:!1}},mounted:function(){this.setProgressBar(this.percent)},model:{prop:"percent",event:"onChange"},computed:{progressBoxStyle:function(){var t={height:"".concat(this.progressSize,"px"),borderRadius:"".concat(this.progressSize,"px"),cursor:this.disabled?"not-allowed":"pointer"};return t},progressBarStyle:function(){var t={borderRadius:"".concat(this.progressSize,"px"),transition:this.isDrag?"none":"all 0.3s ease-out",cursor:this.disabled?"not-allowed":"pointer"};return t},radiusBtnStyle:function(){var t={width:this.radiusBtnActive?"".concat(this.radiusBtnSize+2,"px"):"".concat(this.radiusBtnSize,"px"),height:this.radiusBtnActive?"".concat(this.radiusBtnSize+2,"px"):"".concat(this.radiusBtnSize,"px"),transform:"translate(".concat(5-this.radiusBtnSize,"px,-50%)"),transition:this.isDrag?"none":"all 0.3s ease-out",cursor:this.disabled?"not-allowed":"pointer"};return t},radiusBtnSize:function(){var t=this.progressSize>=8?2*this.progressSize:2.5*this.progressSize;return t=this.progressSize<=3?4*this.progressSize:t,t=t<12?12:t,t}},methods:{getMousePositon:function(t){var e=this.$refs.progressBox.getBoundingClientRect().width,n=this.$refs.progressBox.getBoundingClientRect().left,i=t.clientX-n;i=i<=0?0:i,i=i>=e?e:i;var o=Math.ceil(100*i/e);return o},setProgressBar:function(t){this.$refs.progressBar.style.width=t+"%",this.$refs.radiusBtn.style.left=t+"%"},setTooltip:function(t){if(this.hoverShowRadiusBtn=!0,!this.disabled&&this.showToolTip){this.hoverShowToolTip=!0;var e=this.getMousePositon(t);this.$refs.tooltip.style.left=e+"%",this.tooltipTxt=this.isFormatTooltip&&this.formatTooltip?this.formatTooltip(e):e}},changeProgressBar:function(t){if(!this.disabled){var e=this.getMousePositon(t);this.$emit("onChange",e)}},radiusBtnHover:function(){this.hoverShowRadiusBtn=!0,this.radiusBtnActive=!0},radiusBtnLeave:function(){this.isDrag||(this.hoverShowRadiusBtn=!1,this.radiusBtnActive=!1)},dragProgressBar:function(){var t=this;if(!this.disabled){var e=function(e){t.isDrag=!0;var n=t.getMousePositon(e);t.setProgressBar(n),t.setTooltip(e)},n=function n(i){t.isDrag=!1,document.removeEventListener("mousemove",e),t.changeProgressBar(i),t.progressBoxLeave(),t.radiusBtnActive=!1,document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",e),document.addEventListener("mouseup",n)}},progressBoxLeave:function(){this.hoverShowToolTip=!1,this.hoverShowRadiusBtn=!1}},watch:{percent:function(t){this.isDrag||this.setProgressBar(t)}}}),X=K,G=(0,L.Z)(X,J,q,!1,null,"1c492df8",null),Q=G.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"playing-list",attrs:{id:"playing-song-list"}},[n("div",{staticClass:"top-nav"},[n("TabBar",{attrs:{tabitems:t.tabitems},on:{tabItemClick:t.tabItemClick}})],1),0==t.activeItem?n("div",{staticClass:"play-list"},[n("div",{staticClass:"hd"},[n("h4",{staticStyle:{padding:"0px 10px"}},[t._v("总"+t._s(t.playingList.length)+"首")]),n("span",{on:{click:t.deleteAll}},[n("i",{staticClass:"iconfont icon-delete"}),t._v("清空")])]),n("div",{staticClass:"bd"},[n("el-table",{staticStyle:{width:"100%"},attrs:{size:"mini","show-header":!1,"row-class-name":t.tableRowClassName,data:t.playingList,"empty-text":"暂无歌曲"},on:{"row-dblclick":t.playSongClick}},[n("el-table-column",{attrs:{width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id===t.nowSongDetail.id?n("span",{staticClass:"iconfont",class:t.isPlaying?" icon-voice":"icon-jingyin_laba"}):n("span",[t._v(t._s(t._f("formatIndex")(e.row.index)))])]}}],null,!1,3301611334)}),n("el-table-column",{attrs:{prop:"name",label:"歌曲","show-overflow-tooltip":!0,width:"100"}}),n("el-table-column",{attrs:{prop:"ar[0].name",label:"歌手","show-overflow-tooltip":!0,width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"sname",on:{click:function(n){return t.toSinger(e.row.ar[0].id)}}},[t._v(" "+t._s(e.row.ar[0].name)+" ")])]}}],null,!1,1121264130)}),n("el-table-column",{attrs:{prop:"dt",label:"时长"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(" "+t._s(t._f("formatDuration")(e.row.dt))+" ")])]}}],null,!1,2896966386)}),n("el-table-column",{attrs:{width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"iconfont icon-guanbi",on:{click:function(n){return t.deleteSong(e.row)}}})]}}],null,!1,163286182)})],1)],1)]):t._e(),1==t.activeItem?n("div",{staticClass:"history-list"},[n("div",{staticClass:"hd"},[n("h4",{staticStyle:{padding:"0px 10px"}},[t._v("总"+t._s(t.historyPlay.length)+"首")]),n("span",{staticStyle:{cursor:"pointer"},on:{click:t.deleteAllHistory}},[n("i",{staticClass:"iconfont icon-delete"}),t._v("清空")])]),n("div",{staticClass:"bd"},[n("el-table",{staticStyle:{width:"100%"},attrs:{size:"mini","show-header":!1,"row-class-name":t.tableRowClassName,data:t.historyPlay,"empty-text":"暂无记录"},on:{"row-dblclick":t.playHistorySong}},[n("el-table-column",{attrs:{width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id==t.nowSongDetail.id?n("span",{staticClass:"iconfont",class:t.isPlaying?" icon-voice":"icon-jingyin_laba"}):n("span",[t._v(t._s(t._f("formatIndex")(e.row.index)))])]}}],null,!1,1778329851)}),n("el-table-column",{attrs:{prop:"name",label:"歌曲","show-overflow-tooltip":!0,width:"100"}}),n("el-table-column",{attrs:{prop:"ar[0].name",label:"歌手","show-overflow-tooltip":!0,width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"sname",on:{click:function(n){return t.toSinger(e.row.ar[0].id)}}},[t._v(" "+t._s(e.row.ar[0].name)+" ")])]}}],null,!1,1121264130)}),n("el-table-column",{attrs:{prop:"dt",label:"时长"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(" "+t._s(t._f("formatDuration")(e.row.dt))+" ")])]}}],null,!1,2896966386)}),n("el-table-column",{attrs:{width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"iconfont icon-guanbi",on:{click:function(n){return t.deleteHistory(e.row)}}})]}}],null,!1,2497133713)})],1)],1)]):t._e()])},Y=[],tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tabbar"},[n("div",{staticClass:"tab"},t._l(t.tabitems,(function(e,i){return n("div",{key:i,staticClass:"tab-item",class:{active:t.currentIndex==i},on:{click:function(e){return t.tabItemClick(i)}}},[t._v(" "+t._s(e.name)+" ")])})),0)])},et=[],nt={name:"TabBar",props:{tabitems:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{tabItemClick:function(t){this.currentIndex=t,this.$emit("tabItemClick",t)}}},it=nt,ot=(0,L.Z)(it,tt,et,!1,null,"a042ce20",null),st=ot.exports,rt={name:"PlayingList",components:{TabBar:st},computed:(0,c.Z)({},(0,C.Se)(["playingList","historyPlay","nowSongDetail","isPlaying"])),data:function(){return{tabitems:[{name:"播放列表"},{name:"历史记录"}],activeItem:0}},filters:{formatIndex:function(t){return t<9?"0"+(t+1):t+1}},methods:{tabItemClick:function(t){this.activeItem=t},playSongClick:function(t){var e=this;(0,z.Ai)(t.id).then((function(n){(0,z.TS)(t.id).then((function(t){e.$store.dispatch("saveSongUrl",t.data.data[0].url)})),e.$store.dispatch("changePlayState",!0),e.$store.dispatch("saveSongDetail",t)})).catch((function(n){e.$message({message:"暂时无法播放，换首试试",type:"warning",center:!0}),e.$store.dispatch("deleteSong",t.id)}))},deleteSong:function(t){this.$store.dispatch("deleteSong",t.id)},deleteAll:function(){this.$store.dispatch("deleteAll"),this.$store.dispatch("saveCurrentLyric",[])},playHistorySong:function(t){this.playSongClick(t),this.$store.dispatch("addPlayinglist",t)},deleteAllHistory:function(){this.$store.dispatch("deleteAllHistory")},deleteHistory:function(t){this.$store.dispatch("deleteHistory",t.id)},tableRowClassName:function(t){var e=t.row,n=t.rowIndex;if(e.index=n,n%2!==0)return"rowEven"},toSinger:function(t){this.$router.push("/artist?q=".concat(t))}},mounted:function(){var t=this,e=document.querySelector("#playing-song-list"),n=document.querySelector("#footer");document.addEventListener("mousedown",(function(i){e&&(e.contains(i.target)||n.contains(i.target)||t.$emit("closePlayList"))}))}},at=rt,lt=(0,L.Z)(at,W,Y,!1,null,"38ce1be4",null),ct=lt.exports,ut={name:"foot",components:{PlayingList:ct,Progress:Q},data:function(){return{totalSecond:this.getItem("totalSecond")?this.getItem("totalSecond"):0,totalTime:this.getItem("totalTime")?this.getItem("totalTime"):"00:00",currentTime:this.getItem("currentTime")?this.getItem("currentTime"):"00:00",songProgress:this.getItem("songProgress")?this.getItem("songProgress"):0,voiceProgress:this.getItem("voiceProgress")?this.getItem("voiceProgress"):50,playModel:this.getItem("playModel")?this.getItem("playModel"):1,nowVolume:50,islike:!1,showMask:!1,isShowDrawer:!1,formatlyric:[],currentIndex:null}},computed:(0,c.Z)((0,c.Z)({},(0,C.Se)(["isLogin","userInfo","songUrl","isPlaying","playingList","nowSongDetail","likeSongIds","currentSecond","currentLyric","isShowSongDetail"])),{},{cover:function(){return this.nowSongDetail.al.picUrl+"?param=60y60"}}),created:function(){0!=Object.keys(this.nowSongDetail).length&&this.getNowLyricBy(this.nowSongDetail.id)},mounted:function(){this.$refs.audioplay.volume=this.voiceProgress/100,this.pauseMusic(),this.isLikeNowSong()},methods:{showSongDetail:function(){this.$store.commit("showSongDetail")},showFloatLyric:function(){this.$store.commit("showFloatLyric")},changeState:function(t){this.$store.dispatch("changePlayState",t)},playMusic:function(){var t=this;0==this.playingList.length?this.$message({message:"播放列表为空",type:"warning",center:!0}):(this.$refs.audioplay.currentTime=this.currentSecond," "!=this.songUrl?this.$refs.audioplay.play():(0,z.TS)(this.nowSongDetail.id).then((function(e){t.$store.dispatch("saveSongUrl",e.data.data[0].url)})))},pauseMusic:function(){this.$refs.audioplay.pause()},onLoadedmetadata:function(t){this.totalSecond=t.target.duration,this.totalTime=V(this.totalSecond),this.setItem("totalTime",this.totalTime),this.setItem("totalSecond",this.totalSecond)},onTimeupdate:function(t){this.$store.dispatch("saveCurrentSeconds",t.target.currentTime),this.currentTime=V(t.target.currentTime),this.setItem("currentTime",this.currentTime);var e=Math.ceil(t.target.currentTime/this.totalSecond*100);e==1/0||isNaN(e)||(this.setItem("songProgress",e),this.songProgress=this.getItem("songProgress"))},changeSongProgress:function(t){var e=this,n=Math.ceil(t/100*this.totalSecond);this.$refs.audioplay.currentTime=n,this.currentLyric.forEach((function(t,i){n>=t.time&&e.$store.commit("saveCurrentRow",i)}))},formatTooltip:function(t){return V(t/100*this.totalSecond)},muteVolume:function(){this.nowVolume=this.voiceProgress,this.voiceProgress=0,this.$refs.audioplay.volume=0},cancelMute:function(){this.voiceProgress=this.nowVolume,this.$refs.audioplay.volume=this.voiceProgress/100},changeVoiceProgress:function(t){this.setItem("voiceProgress",t),this.$refs.audioplay.volume=t/100},getSongUrlBy:function(t){var e=this;(0,z.Ai)(t.id).then((function(n){(0,z.TS)(t.id).then((function(n){e.$store.dispatch("saveSongUrl",n.data.data[0].url),e.$store.dispatch("saveSongDetail",t)}))})).catch((function(n){e.$store.dispatch("deleteSong",t.id),e.orderPlay(1)}))},toggleSong:function(t){0!=this.playingList.length?1==this.playingList.length?(this.$message({message:"当前播放列表只有一首歌",type:"warning",center:!0}),this.playMusic()):1===this.playModel||3===this.playModel?this.orderPlay(t):2===this.playModel&&this.randomPlay():this.$message({message:"播放列表为空",type:"warning",center:!0})},changePlayModel:function(t){this.$refs.audioplay.loop=!1,this.playModel=t,this.setItem("playModel",t)},orderPlay:function(t){var e,n=this,i=this.playingList.findIndex((function(t){return n.nowSongDetail.id==t.id}));switch(i){case-1:e=0;break;case 0:e=0===t?this.playingList.length-1:i+1;break;case this.playingList.length-1:e=0===t?i-1:0;break;default:e=0===t?i-1:i+1;break}var o=this.playingList[e];this.getSongUrlBy(o)},randomPlay:function(){var t=H(0,this.playingList.length-1),e=this.playingList[t];this.getSongUrlBy(e)},loopPlay:function(){this.$refs.audioplay.loop=!0,this.$refs.audioplay.play()},getLikSongListBy:function(){var t=this;(0,z.n9)(this.userInfo.userid).then((function(e){console.log("获取喜欢的歌曲id列表",e),t.$store.dispatch("saveLikeSongIds",e.data.ids),t.islike=t.likeSongIds.includes(t.nowSongDetail.id)}))},isLikeNowSong:function(){this.isLogin?0!=this.likeSongIds.length?this.islike=this.likeSongIds.includes(this.nowSongDetail.id):this.getLikSongListBy():this.islike=!1},likeNowSongBy:function(){var t=this;if(this.$store.state.isLogin){var e=!this.islike;(0,z.z1)(this.nowSongDetail.id,e).then((function(n){t.getLikSongListBy(),1==e?t.$message({message:"已添加到我喜欢的音乐",type:"success",center:!0}):t.$message({message:"取消喜欢成功",type:"success",center:!0})}))}else this.$message({type:"warning",message:"登录后才能收藏",showClose:!0,center:!0})},downloadCurrentMusic:function(){var t={url:this.songUrl,name:this.nowSongDetail.name+" - "+this.nowSongDetail.ar[0].name};this.$store.commit("updateDownloadMusicInfo",t)},getNowLyricBy:function(t){var e=this;(0,z.kL)(t).then((function(t){if(!t.data.nolyric){var n=t.data.lrc.lyric;e.formatLyric(n),e.$store.dispatch("saveCurrentLyric",e.formatlyric)}}))},formatLyric:function(t){for(var e=this,n=t.split("\n"),i=function(t){var i=n[t],o=i.split("]"),s=o.pop();o.forEach((function(t,n){var i={},o=t.substr(1,t.length-1).split(":"),r=60*o[0]+Math.ceil(o[1]);0!==s.trim().length&&(i.time=r,i.text=s,e.formatlyric.push(i))}))},o=0;o<n.length;o++)i(o);this.formatlyric.sort((function(t,e){return t.time-e.time}))}},watch:(0,j.Z)({nowSongDetail:function(){this.isLikeNowSong()},likeSongIds:function(){this.isLikeNowSong()},playingList:function(t){0==t.length&&(this.removeItem("songProgress"),this.songProgress=0,this.removeItem("totalTime"),this.totalTime="00:00")}},"nowSongDetail",(function(){0!=Object.keys(this.nowSongDetail).length&&(this.formatlyric=[],this.getNowLyricBy(this.nowSongDetail.id),this.$store.commit("saveCurrentRow",null))}))},dt=ut,ft=(0,L.Z)(dt,R,E,!1,null,null,null),ht=ft.exports,gt={name:"app",components:{top:I,index:F,foot:ht}},pt=gt,mt=(0,L.Z)(pt,s,r,!1,null,null,null),vt=mt.exports,yt=n(2809);o["default"].use(yt.Z);var St=yt.Z.prototype.push;yt.Z.prototype.push=function(t){return St.call(this,t).catch((function(t){return t}))};var wt=new yt.Z({mode:"hash",routes:[{path:"/",redirect:"/discovery"},{path:"/discovery",component:function(){return Promise.resolve().then(n.bind(n,1442))}},{path:"/playlists",component:function(){return n.e(328).then(n.bind(n,3328))}},{path:"/songs",component:function(){return n.e(562).then(n.bind(n,5562))}},{path:"/mvs",component:function(){return n.e(457).then(n.bind(n,6457))}},{path:"/result",component:function(){return n.e(581).then(n.bind(n,6581))}},{path:"/playlist",component:function(){return n.e(65).then(n.bind(n,5065))}},{path:"/mv",component:function(){return n.e(394).then(n.bind(n,394))}},{path:"/leaderboard",component:function(){return n.e(387).then(n.bind(n,1387))}},{path:"/artists",component:function(){return n.e(60).then(n.bind(n,3060))}},{path:"/artist",component:function(){return n.e(896).then(n.bind(n,4896))}},{path:"/login",component:function(){return n.e(496).then(n.bind(n,1496))}},{path:"/userInfo",component:function(){return n.e(954).then(n.bind(n,9954))}}]}),Ct=wt,bt=(n(3112),{filters:{LocaleDateString:function(t){if(!t)return"";var e=new Date(t);return e.toLocaleDateString()+" "},formatDuration:function(t){var e=Math.floor(t/1e3/60).toString().padStart(2,"0"),n=Math.floor(t%60).toString().padStart(2,"0");return e+":"+n},LocaleString:function(t){if(!t)return"";var e=new Date(t);return e.toLocaleString()},ellipsisPlayVolume:function(t){return t<1e4?t:t<1e8?parseInt(t/1e4)+"万":parseInt(t/1e8)+"亿"}}}),kt={isLogin:!!sessionStorage.getItem("isLogin")&&JSON.parse(sessionStorage.getItem("isLogin")),token:sessionStorage.getItem("token")?JSON.parse(sessionStorage.getItem("token")):null,cookie:sessionStorage.getItem("cookie")?JSON.parse(sessionStorage.getItem("cookie")):null,userInfo:sessionStorage.getItem("userInfo")?JSON.parse(sessionStorage.getItem("userInfo")):{username:"",avater:"",userid:""},userSongList:localStorage.getItem("userSongList")?JSON.parse(localStorage.getItem("userSongList")):[],likeSongIds:localStorage.getItem("likeSongIds")?JSON.parse(localStorage.getItem("likeSongIds")):[],userFollowsList:[],subAlbumlist:[],subSingerlist:[],subMvlist:[],loginStatus:!1,showLogin:!1,isPlaying:!1,downloadMusicInfo:{},isShowSongDetail:!1,showFloatLyric:!1,currentLyric:[],songUrl:" ",nowSongDetail:localStorage.getItem("nowSongDetail")?JSON.parse(localStorage.getItem("nowSongDetail")):{},playingList:localStorage.getItem("playingList")?JSON.parse(localStorage.getItem("playingList")):[],historyPlay:localStorage.getItem("historyPlay")?JSON.parse(localStorage.getItem("historyPlay")):[],currentSecond:localStorage.getItem("currentSecond")?JSON.parse(localStorage.getItem("currentSecond")):0,currentRow:localStorage.getItem("currentRow")?JSON.parse(localStorage.getItem("currentRow")):0},Lt=kt,_t=(n(8862),{updateLogin:function(t,e){t.isLogin=e,sessionStorage.setItem("isLogin",JSON.stringify(t.isLogin))},saveUserInfo:function(t,e){t.userInfo=e},saveUserSongList:function(t,e){t.userSongList=e},saveUserFollowsList:function(t,e){t.userFollowsList=e},saveFavoriteAlbum:function(t,e){t.subAlbumlist=e},saveFavoriteSinger:function(t,e){t.subSingerlist=e},saveFavoriteMv:function(t,e){t.subMvlist=e},saveLikeSongIds:function(t,e){t.likeSongIds=e,localStorage.setItem("likeSongIds",JSON.stringify(t.likeSongIds))},changePlayState:function(t,e){t.isPlaying=e},saveSongUrl:function(t,e){t.songUrl=e},saveSongDetail:function(t,e){t.nowSongDetail=e,localStorage.setItem("nowSongDetail",JSON.stringify(t.nowSongDetail));var n=t.historyPlay.findIndex((function(t){return t.id==e.id}));-1==n&&(t.historyPlay.unshift(e),localStorage.setItem("historyPlay",JSON.stringify(t.historyPlay)))},addPlayinglist:function(t,e){var n=t.playingList.findIndex((function(t){return t.id==e.id}));-1==n&&(t.playingList.unshift(e),localStorage.setItem("playingList",JSON.stringify(t.playingList)))},addAllSong:function(t,e){t.playingList=e,localStorage.setItem("playingList",JSON.stringify(t.playingList))},deleteSong:function(t,e){var n=t.playingList.findIndex((function(t){return e==t.id}));t.playingList.splice(n,1),localStorage.setItem("playingList",JSON.stringify(t.playingList))},deleteAll:function(t){t.playingList=[],t.songUrl="",t.nowSongDetail={},t.isPlaying=!1,localStorage.removeItem("playingList"),localStorage.removeItem("nowSongDetail"),localStorage.removeItem("currentRow")},deleteAllHistory:function(t){t.historyPlay=[],localStorage.setItem("historyPlay",JSON.stringify(t.historyPlay))},deleteHistory:function(t,e){var n=t.historyPlay.findIndex((function(t){return e==t.id}));t.historyPlay.splice(n,1),localStorage.setItem("historyPlay",JSON.stringify(t.historyPlay))},showSongDetail:function(t){t.isShowSongDetail=!t.isShowSongDetail},saveCurrentSeconds:function(t,e){t.currentSecond=e,localStorage.setItem("currentSecond",JSON.stringify(t.currentSecond))},saveCurrentRow:function(t,e){t.currentRow=e,localStorage.setItem("currentRow",JSON.stringify(t.currentRow))},saveCurrentLyric:function(t,e){t.currentLyric=e},showFloatLyric:function(t){t.showFloatLyric=!t.showFloatLyric},updateDownloadMusicInfo:function(t,e){t.downloadMusicInfo=e},updataUsrInfo:function(t,e){t.userInfo=e,sessionStorage.setItem("userInfo",JSON.stringify(t.userInfo))},updataToken:function(t,e){t.token=e,sessionStorage.setItem("token",JSON.stringify(t.token))},updataCookie:function(t,e){t.cookie=e,sessionStorage.setItem("cookie",JSON.stringify(t.cookie)),document.cookie=t.cookie}}),It=_t,Pt={updateLogin:function(t,e){var n=t.commit;n("updateLogin",e)},saveUserInfo:function(t,e){var n=t.commit;n("saveUserInfo",e)},saveUserSongList:function(t,e){var n=t.commit;n("saveUserSongList",e)},saveUserFollowsList:function(t,e){var n=t.commit;n("saveUserFollowsList",e)},saveFavoriteAlbum:function(t,e){var n=t.commit;n("saveFavoriteAlbum",e)},saveFavoriteSinger:function(t,e){var n=t.commit;n("saveFavoriteSinger",e)},saveFavoriteMv:function(t,e){var n=t.commit;n("saveFavoriteMv",e)},saveLikeSongIds:function(t,e){var n=t.commit;n("saveLikeSongIds",e)},changePlayState:function(t,e){var n=t.commit;n("changePlayState",e)},saveSongUrl:function(t,e){var n=t.commit;n("saveSongUrl",e)},saveSongDetail:function(t,e){var n=t.commit;n("saveSongDetail",e)},addPlayinglist:function(t,e){var n=t.commit;n("addPlayinglist",e)},addAllSong:function(t,e){var n=t.commit;n("addAllSong",e)},deleteSong:function(t,e){var n=t.commit;n("deleteSong",e)},deleteAll:function(t){var e=t.commit;e("deleteAll")},deleteAllHistory:function(t){var e=t.commit;e("deleteAllHistory")},deleteHistory:function(t,e){var n=t.commit;n("deleteHistory",e)},saveCurrentSeconds:function(t,e){var n=t.commit;n("saveCurrentSeconds",e)},saveCurrentLyric:function(t,e){var n=t.commit;n("saveCurrentLyric",e)}},xt=Pt,Bt=function(t){return t.isLogin},Dt=function(t){return t.userInfo},$t=function(t){return t.userSongList},Tt=function(t){return t.userFollowsList},Mt=function(t){return t.subAlbumlist},Nt=function(t){return t.subSingerlist},Ot=function(t){return t.subMvlist},Zt=function(t){return t.likeSongIds},At=function(t){return t.isPlaying},Ut=function(t){return t.songUrl},Ft=function(t){return t.downloadMusicInfo},Rt=function(t){return t.nowSongDetail},Et=function(t){return t.playingList},jt=function(t){return t.historyPlay},zt=function(t){return t.isShowSongDetail},Vt=function(t){return t.currentSecond},Ht=function(t){return t.currentLyric},Jt=function(t){return t.currentRow},qt=function(t){return t.showFloatLyric};o["default"].use(C.ZP);var Kt=new C.ZP.Store({state:Lt,mutations:It,actions:xt,getters:i}),Xt=n(9619),Gt=n(9726);n(5306),n(1637);var Qt=function(t,e){"object"===(0,Gt.Z)(e)&&(e=JSON.stringify(e)),window.localStorage.setItem(t,e)},Wt=function(t){var e=window.localStorage.getItem(t);try{return JSON.parse(e)}catch(n){return e}},Yt=function(t){window.localStorage.removeItem(t)};Ct.afterEach((function(t,e,n){document.querySelector(".index-contain .main").scrollTop=0})),o["default"].use(Xt.Z,{preLoad:1.3,error:n.e(67).then(n.t.bind(n,8067,17)),loading:n(1651),attempt:3}),o["default"].use(g()),o["default"].mixin(bt),o["default"].config.productionTip=!1,o["default"].prototype.$Bus=new o["default"],o["default"].prototype.setItem=Qt,o["default"].prototype.getItem=Wt,o["default"].prototype.removeItem=Yt,new o["default"]({render:function(t){return t(vt)},el:"#app",router:Ct,store:Kt}).$mount("#app")},4859:function(t,e,n){n.d(e,{AL:function(){return r},Bf:function(){return k},Db:function(){return a},Dh:function(){return o},E4:function(){return f},FR:function(){return m},Ff:function(){return x},GB:function(){return C},Ik:function(){return y},JC:function(){return I},OF:function(){return g},QD:function(){return d},RI:function(){return u},Tz:function(){return p},Uw:function(){return v},hE:function(){return h},if:function(){return S},ix:function(){return _},jr:function(){return w},pK:function(){return s},tQ:function(){return P},td:function(){return b},uS:function(){return c},wj:function(){return L},y7:function(){return l}});var i=n(5972);function o(t){return(0,i.Z)({url:"/top/song",method:"get",params:t})}function s(){return(0,i.Z)({url:"/banner",method:"get"})}function r(t){return(0,i.Z)({url:"/personalized",method:"get",params:t})}function a(t){return(0,i.Z)({url:"/personalized/newsong",method:"get",params:{limit:t}})}function l(t){return(0,i.Z)({url:"/personalized/mv",method:"get",params:{limit:t}})}function c(t){return(0,i.Z)({url:"/top/playlist/highquality",method:"get",params:t})}function u(t){return(0,i.Z)({url:"/top/playlist",method:"get",params:t})}function d(t){return(0,i.Z)({url:"/mv/all",method:"get",params:t})}function f(t){return(0,i.Z)({url:"/playlist/detail",method:"get",params:t})}function h(t,e){return(0,i.Z)({url:"/comment/"+e,method:"get",params:t})}function g(t){return(0,i.Z)({url:"/cloudsearch",method:"get",params:t})}function p(t){return(0,i.Z)({url:"/mv/url",method:"get",params:t})}function m(t){return(0,i.Z)({url:"/simi/mv",method:"get",params:t})}function v(t){return(0,i.Z)({url:"/mv/detail",method:"get",params:t})}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=""==e?"/artists":"/artist/"+e;return"simi"==e&&(n="/simi/artist"),(0,i.Z)({url:n,method:"get",params:t})}function S(){return(0,i.Z)({url:"/search/hot/detail",method:"get"})}function w(){return(0,i.Z)({url:"/search/default",method:"get"})}function C(t){return(0,i.Z)({url:"/search/search/suggest",method:"get",params:t})}function b(){return(0,i.Z)({url:"/toplist",method:"get"})}function k(t){return(0,i.Z)({url:"/artist/list",method:"get",params:t})}function L(t){return(0,i.Z)({url:"/artists",method:"get",params:t})}function _(t){return(0,i.Z)({url:"/login/cellphone",method:"post",params:t})}function I(t){return(0,i.Z)({url:"/login/cellphone",method:"post",params:t})}function P(t){return(0,i.Z)({url:"/captcha/sent",method:"post",params:t})}function x(){return(0,i.Z)({url:"/login/status"})}},9059:function(t,e,n){n.d(e,{Ai:function(){return o},Pc:function(){return a},TS:function(){return s},kL:function(){return r},n9:function(){return c},z1:function(){return l}});var i=n(5972);function o(t){return(0,i.Z)({url:"/check/music",params:{id:t}})}function s(t){return(0,i.Z)({url:"/song/url",params:{id:t}})}function r(t){return(0,i.Z)({url:"/lyric",params:{id:t}})}function a(t){return(0,i.Z)({url:"/song/detail",params:{ids:t}})}function l(t,e){return(0,i.Z)({url:"/like",params:{id:t,like:e,timestamp:Date.parse(new Date)}})}function c(t){return(0,i.Z)({url:"/likelist",params:{uid:t,timestamp:Date.parse(new Date)}})}},5972:function(t,e,n){n(1539);var i=n(6166),o=n.n(i),s=n(4549),r=n(4482),a=n.n(r),l="https://lianghj.top:3000",c=o().create({baseURL:l,timeout:5e3,changeOrigin:!0,withCredentials:!0});c.interceptors.request.use((function(t){return a().start(),t})),c.interceptors.response.use((function(t){return a().done(),t})),c.interceptors.response.use((function(t){return 200==t.status?Promise.resolve(t):Promise.reject(t)}),(function(t){t&&(0,s.Message)({type:"error",message:"网络连接出问题了~ 请重试~ ",showClose:!0})})),e["Z"]=c},1651:function(t,e,n){t.exports=n.p+"img/loading.f5b7bb6b.gif"}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var s=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=t,function(){var t=[];n.O=function(e,i,o,s){if(!i){var r=1/0;for(u=0;u<t.length;u++){i=t[u][0],o=t[u][1],s=t[u][2];for(var a=!0,l=0;l<i.length;l++)(!1&s||r>=s)&&Object.keys(n.O).every((function(t){return n.O[t](i[l])}))?i.splice(l--,1):(a=!1,s<r&&(r=s));if(a){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[i,o,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};n.t=function(i,o){if(1&o&&(i=this(i)),8&o)return i;if("object"===typeof i&&i){if(4&o&&i.__esModule)return i;if(16&o&&"function"===typeof i.then)return i}var s=Object.create(null);n.r(s);var r={};t=t||[null,e({}),e([]),e(e)];for(var a=2&o&&i;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((function(t){r[t]=function(){return i[t]}}));return r["default"]=function(){return i},n.d(s,r),s}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,i){return n.f[i](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+t+"-legacy."+{60:"c043f670",65:"e0fb8821",67:"43082fb4",328:"44e84b7d",387:"7b36d730",394:"0584e410",457:"a5596648",496:"16055b53",562:"a99d12ad",581:"7eccd205",896:"0054d1d5",954:"6685befb"}[t]+".js"}}(),function(){n.miniCssF=function(t){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="cloud-music:";n.l=function(i,o,s,r){if(t[i])t[i].push(o);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==e+s){a=d;break}}a||(l=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",e+s),a.src=i),t[i]=[o];var f=function(e,n){a.onerror=a.onload=null,clearTimeout(h);var o=t[i];if(delete t[i],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((function(t){return t(n)})),e)return e(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),l&&document.head.appendChild(a)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){n.p=""}(),function(){var t={143:0};n.f.j=function(e,i){var o=n.o(t,e)?t[e]:void 0;if(0!==o)if(o)i.push(o[2]);else{var s=new Promise((function(n,i){o=t[e]=[n,i]}));i.push(o[2]=s);var r=n.p+n.u(e),a=new Error,l=function(i){if(n.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var s=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.src;a.message="Loading chunk "+e+" failed.\n("+s+": "+r+")",a.name="ChunkLoadError",a.type=s,a.request=r,o[1](a)}};n.l(r,l,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,i){var o,s,r=i[0],a=i[1],l=i[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(l)var u=l(n)}for(e&&e(i);c<r.length;c++)s=r[c],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(u)},i=self["webpackChunkcloud_music"]=self["webpackChunkcloud_music"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(8500)}));i=n.O(i)})();
//# sourceMappingURL=app-legacy.f7d9c5bb.js.map