{"version":3,"file":"js/54-legacy.2cbede4f.js","mappings":"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","sources":["webpack://cloud-music/./src/components/Mvs/Mv.vue?a3ba","webpack://cloud-music/src/components/Mvs/Mv.vue","webpack://cloud-music/./src/components/Mvs/Mv.vue?acf6","webpack://cloud-music/./src/components/Mvs/Mv.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mv-container\"},[_c('div',{staticClass:\"mv-wrap\"},[_c('h3',[_vm._v(\"MV详情\")]),_c('div',{staticClass:\"video-wrap\"},[_c('video',{attrs:{\"controls\":\"\",\"src\":_vm.mvUrl}},[_vm._v(\" 抱歉，您的浏览器不支持内嵌视频，不过不用担心，你可以 \"),_c('a',{attrs:{\"href\":\"https://www.baidu.com\"}},[_vm._v(\"下载\")]),_vm._v(\" 并用你喜欢的播放器观看! \")])]),_c('div',{staticClass:\"info-wrap\"},[_c('div',{staticClass:\"singer-info\"},[_c('div',{staticClass:\"avatar-wrap\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.artistAvatarUrl),expression:\"artistAvatarUrl\"}],attrs:{\"alt\":\"\"}})]),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.mvInfo.artistName))])]),_c('div',{staticClass:\"mv-info\"},[_c('h2',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.mvInfo.name))]),_c('span',{staticClass:\"date\"},[_vm._v(\"发布：\"+_vm._s(_vm.mvInfo.publishTime))]),_c('span',{staticClass:\"number\"},[_vm._v(\"播放：\"+_vm._s(_vm.mvInfo.playCount)+\" 次\")]),_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(_vm.mvInfo.desc))])])]),(_vm.hotComments.length != 0)?_c('div',{staticClass:\"comment-wrap\"},[_c('p',{staticClass:\"title\"},[_vm._v(\" 热门评论\"),_c('span',{staticClass:\"number\"},[_vm._v(\"(\"+_vm._s(_vm.hotComments.length)+\") \")])]),_c('div',{staticClass:\"comments-wrap\"},_vm._l((_vm.hotComments),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('div',{staticClass:\"icon-wrap\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.user.avatarUrl),expression:\"item.user.avatarUrl\"}],attrs:{\"alt\":\"\"}})]),_c('div',{staticClass:\"content-wrap\"},[_c('div',{staticClass:\"content\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.user.nickname)+\"：\")]),_c('span',{staticClass:\"comment\"},[_vm._v(_vm._s(item.content))])]),(item.beReplied.length != 0)?_c('div',{staticClass:\"re-content\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.beReplied[0].user.nickname)+\"：\")]),_c('span',{staticClass:\"comment\"},[_vm._v(_vm._s(item.beReplied[0].content))])]):_vm._e(),_c('div',{staticClass:\"date\"},[_vm._v(_vm._s(_vm._f(\"LocaleString\")(item.time)))]),_c('span',{staticClass:\"iconfont icon-zan float-right\"},[_vm._v(_vm._s(item.likedCount))])])])}),0)]):_vm._e(),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loadingComments),expression:\"loadingComments\"}],staticClass:\"comment-wrap\"},[_c('p',{staticClass:\"title\"},[_vm._v(\" 最新评论\"),_c('span',{staticClass:\"number\"},[_vm._v(\"(\"+_vm._s(this.total)+\")\")])]),_c('div',{staticClass:\"comments-wrap\"},_vm._l((_vm.comments),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('div',{staticClass:\"icon-wrap\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.user.avatarUrl),expression:\"item.user.avatarUrl\"}],attrs:{\"alt\":\"\"}})]),_c('div',{staticClass:\"content-wrap\"},[_c('div',{staticClass:\"content\"},[_c('span',{staticClass:\"name\"},[_vm._v(\" \"+_vm._s(item.user.nickname)+\" ：\")]),_c('span',{staticClass:\"comment\"},[_vm._v(_vm._s(item.content))])]),(item.beReplied[0])?_c('div',{staticClass:\"re-content\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.beReplied[0].user.nickname)+\"：\")]),_c('span',{staticClass:\"comment\"},[_vm._v(_vm._s(item.beReplied[0].content))])]):_vm._e(),_c('div',{staticClass:\"date\"},[_vm._v(_vm._s(_vm._f(\"LocaleString\")(item.time)))])])])}),0),_c('el-pagination',{attrs:{\"hide-on-single-page\":true,\"background\":\"\",\"current-page\":_vm.page,\"page-size\":_vm.pageSize,\"pager-count\":5,\"layout\":\" prev, pager, next\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1)]),_c('div',{staticClass:\"mv-recommend\"},[_c('h3',{staticClass:\"title\"},[_vm._v(\"相关推荐\")]),_c('div',{staticClass:\"mvs\"},[_c('div',{staticClass:\"items\"},_vm._l((_vm.recommendMvs),function(item,index){return _c('div',{key:index,staticClass:\"item\",on:{\"click\":function($event){return _vm.toMvDetail(item.id)}}},[_c('div',{staticClass:\"img-wrap\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.cover),expression:\"item.cover\"}],attrs:{\"alt\":\"\"}}),_c('span',{staticClass:\"iconfont icon-play\"}),_c('div',{staticClass:\"num-wrap\"},[_c('div',{staticClass:\"iconfont icon-play\"}),_c('div',{staticClass:\"num\"},[_vm._v(_vm._s(_vm._f(\"ellipsisPlayVolume\")(item.playCount)))])]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"formatDuration\")(item.duration)))])]),_c('div',{staticClass:\"info-wrap\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))]),_c('div',{staticClass:\"singer\"},[_vm._v(_vm._s(item.artistName))])])])}),0)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"mv-container\">\r\n    <div class=\"mv-wrap\">\r\n      <h3>MV详情</h3>\r\n      <!-- mv -->\r\n      <div class=\"video-wrap\">\r\n        <!-- controls 属性规定浏览器应该为视频提供播放控件。controls 属性是一个 boolean(布尔) 属性 -->\r\n        <video controls :src =\"mvUrl\">\r\n          抱歉，您的浏览器不支持内嵌视频，不过不用担心，你可以\r\n          <a href=\"https://www.baidu.com\">下载</a>\r\n          并用你喜欢的播放器观看!\r\n        </video>\r\n      </div>\r\n\r\n      <!-- mv信息栏 -->\r\n      <div class=\"info-wrap\">\r\n        <div class=\"singer-info\">\r\n          <div class=\"avatar-wrap\">\r\n            <img v-lazy =\"artistAvatarUrl\" alt=\"\" />\r\n          </div>\r\n          <!-- 发布者名称 -->\r\n          <span class=\"name\">{{ mvInfo.artistName }}</span>\r\n        </div>\r\n        <!-- mv信息 -->\r\n        <div class=\"mv-info\">\r\n          <!-- mv名称  -->\r\n          <h2 class=\"title\">{{ mvInfo.name }}</h2>\r\n          <!-- mv发布时间 -->\r\n          <span class=\"date\">发布：{{ mvInfo.publishTime }}</span>\r\n          <!-- mv播放次数 -->\r\n          <span class=\"number\">播放：{{ mvInfo.playCount }} 次</span>\r\n          <!-- mv描述 -->\r\n          <p class=\"desc\">{{ mvInfo.desc }}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 热门评论 -->\r\n      <div class=\"comment-wrap\" v-if=\"hotComments.length != 0\">\r\n        <p class=\"title\">\r\n          热门评论<span class=\"number\">({{ hotComments.length }}) </span>\r\n        </p>\r\n        <div class=\"comments-wrap\">\r\n          <div class=\"item\" v-for=\"(item, index) in hotComments\" :key=\"index\">\r\n            <div class=\"icon-wrap\">\r\n              <!-- 头像 -->\r\n              <img v-lazy =\"item.user.avatarUrl\" alt=\"\" />\r\n            </div>\r\n            <!-- 评论内容 -->\r\n            <div class=\"content-wrap\">\r\n              <!-- 内容 -->\r\n              <div class=\"content\">\r\n                <!-- 评论人的名字 -->\r\n                <span class=\"name\">{{ item.user.nickname }}：</span>\r\n                <!-- 评论 -->\r\n                <span class=\"comment\">{{ item.content }}</span>\r\n              </div>\r\n              <!-- 评论的评论 -->\r\n              <div class=\"re-content\" v-if=\"item.beReplied.length != 0\">\r\n                <!-- 名字 -->\r\n                <span class=\"name\"\r\n                  >{{ item.beReplied[0].user.nickname }}：</span\r\n                >\r\n                <!-- 回复 -->\r\n                <span class=\"comment\">{{ item.beReplied[0].content }}</span>\r\n              </div>\r\n              <!-- 评论时间 -->\r\n              <div class=\"date\">{{ item.time | LocaleString }}</div>\r\n              <!-- 点赞 -->\r\n              <span class=\"iconfont icon-zan float-right\">{{\r\n                item.likedCount\r\n              }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 最新评论 -->\r\n      <div class=\"comment-wrap\" v-loading=\"loadingComments\">\r\n        <p class=\"title\">\r\n          最新评论<span class=\"number\">({{ this.total }})</span>\r\n        </p>\r\n        <div class=\"comments-wrap\">\r\n          <div\r\n            class=\"item\"\r\n            v-for=\"(item, index) in comments\"\r\n            :key=\"index\"\r\n          >\r\n            <div class=\"icon-wrap\">\r\n              <!-- 头像 -->\r\n              <img v-lazy =\"item.user.avatarUrl\" alt=\"\" />\r\n            </div>\r\n            <!-- 评论内容 -->\r\n            <div class=\"content-wrap\">\r\n              <div class=\"content\">\r\n                <span class=\"name\"> {{ item.user.nickname }} ：</span>\r\n                <span class=\"comment\">{{ item.content }}</span>\r\n              </div>\r\n              <!-- 评论的评论 -->\r\n              <div class=\"re-content\" v-if=\"item.beReplied[0]\">\r\n                <!-- 名字 -->\r\n                <span class=\"name\"\r\n                  >{{ item.beReplied[0].user.nickname }}：</span\r\n                >\r\n                <!-- 回复 -->\r\n                <span class=\"comment\">{{ item.beReplied[0].content }}</span>\r\n              </div>\r\n              <!-- 评论时间 -->\r\n              <div class=\"date\">{{ item.time | LocaleString }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- 分页 -->\r\n        <el-pagination\r\n          :hide-on-single-page=\"true\"\r\n          background\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"page\"\r\n          :page-size=\"pageSize\"\r\n          :pager-count=\"5\"\r\n          layout=\" prev, pager, next\"\r\n          :total=\"total\"\r\n        >\r\n        </el-pagination>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 相关推荐 -->\r\n    <div class=\"mv-recommend\">\r\n      <h3 class=\"title\">相关推荐</h3>\r\n      <div class=\"mvs\">\r\n        <div class=\"items\">\r\n          <div\r\n            class=\"item\"\r\n            @click=\"toMvDetail(item.id)\"\r\n            v-for=\"(item, index) in recommendMvs\"\r\n            :key=\"index\"\r\n          >\r\n            <div class=\"img-wrap\">\r\n              <img v-lazy =\"item.cover\" alt=\"\" />\r\n              <span class=\"iconfont icon-play\"></span>\r\n              <div class=\"num-wrap\">\r\n                <!-- 播放图标 -->\r\n                <div class=\"iconfont icon-play\"></div>\r\n                <!-- 相似mv的播放次数 -->\r\n                <div class=\"num\">{{ item.playCount | ellipsisPlayVolume }}</div>\r\n              </div>\r\n              <!-- 播放时长 -->\r\n              <span class=\"time\">{{ item.duration | formatDuration }}</span>\r\n            </div>\r\n            <div class=\"info-wrap\">\r\n              <!-- mv名字,一般是歌名 -->\r\n              <div class=\"name\">{{ item.name }}</div>\r\n              <!-- 作者名字 -->\r\n              <div class=\"singer\">{{ item.artistName }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 导入 axios\r\nimport { playMVAPI,commentsAPI,simiMVAPI,mvDetailAPI,artistsAPI } from '@/utils/api'\r\nexport default {\r\n  name: \"mv\",\r\n  data() {\r\n    return {\r\n      // 当前mv的id\r\n      mvId: \"\",\r\n      // mv相关信息\r\n      mvUrl: \"\",\r\n      // 相关推荐\r\n      recommendMvs: [],\r\n      // mv详情\r\n      mvInfo: {},\r\n      // 歌手头像\r\n      artistAvatarUrl: \"\",\r\n      // mv热门评论信息\r\n      hotComments: [],\r\n      // 最新评论\r\n      comments: [],\r\n      // 评论总数\r\n      total: 0,\r\n      // 页数\r\n      pageSize: 10,\r\n      page: 1,\r\n      // 评论\r\n      loading: true,\r\n      loadingComments: false,\r\n    };\r\n  },\r\n  watch: {\r\n    // 监听$route.query.q\r\n    $route(newVal) {\r\n      // console.log(newVal);\r\n      this.searchMV(newVal.query.q);\r\n    },\r\n  },\r\n  // 生命周期钩子 回调函数\r\n  created() {\r\n    // console.log(this.$route.query.q);\r\n    let mvId = this.$route.query.q;\r\n    this.mvId = mvId;\r\n    // 调用方法\r\n    this.searchMV(mvId);\r\n  },\r\n  // 方法\r\n  methods: {\r\n    // 跳转到MV页面\r\n    toMvDetail(id) {\r\n      this.$router.push(`/mv?q=${id}`);\r\n    },\r\n    // 换页\r\n    handleCurrentChange(page) {\r\n      this.page = page;\r\n      this.getComments();\r\n    },\r\n    // 获取评论\r\n    getComments() {\r\n      // 开始加载评论\r\n      this.loadingComments = true;\r\n      let params = {\r\n            id: this.$route.query.q,\r\n            limit: this.pageSize,\r\n            offset: (this.page - 1) * this.pageSize,\r\n          }\r\n      commentsAPI(params,'mv').then((res) => {\r\n          // console.log(\"获取评论\", res);\r\n          // 在res.data里面判断是否存在'hotComments'这个数组，返回一个boolen值\r\n          if (Object.prototype.hasOwnProperty.call(res.data, \"hotComments\")) {\r\n            // 如果存在↓\r\n            this.hotComments = res.data.hotComments;\r\n          }\r\n          // 赋值最新评论\r\n          this.comments = res.data.comments;\r\n          // 赋值评论总数\r\n          this.total = this.mvInfo.commentCount - this.hotComments.length;\r\n        })\r\n        .then(() => {\r\n          // 停止加载评论\r\n          this.loadingComments = false;\r\n        });\r\n    },\r\n\r\n    searchMV(id) {\r\n      // 开始加载\r\n      this.loading = true;\r\n      let params = {\r\n            // 传入mvid\r\n            id: id,\r\n          }\r\n      // 获取mv播放url\r\n        playMVAPI(params).then((res) => {\r\n          // console.log(\"MvUrl\", res);\r\n          // 赋值mvUrl\r\n          this.mvUrl = res.data.data.url;\r\n        });\r\n\r\n      // 获取相关Mv推荐,传入mvid\r\n        simiMVAPI({mvid : id}).then((res) => {\r\n          // console.log(\"相似MV\", res);\r\n          // 赋值相似mv数组\r\n          this.recommendMvs = res.data.mvs;\r\n        });\r\n\r\n      // 获取Mv信息\r\n      mvDetailAPI({mvid : id}).then((res) => {\r\n          // console.log(\"Mv详细信息\", res);\r\n          // 赋值mv信息\r\n          this.mvInfo = res.data.data;\r\n          // 获取歌手详细信息，拿到歌手头像\r\n          this.GetArtistDetail(this.mvInfo.artists[0].id);\r\n          // 获取评论信息\r\n          this.getComments()  \r\n        })\r\n        .then(()=>{\r\n          // 停止加载\r\n                this.loading = false\r\n            });    \r\n    },\r\n    // 获取歌手信息, 传入歌手 id, 可获得获取歌手详情\r\n    GetArtistDetail(id) {\r\n      artistsAPI({id},'detail').then((res) => {\r\n          // console.log(\"传入歌手 id, 可获得获取歌手详情:\", res);\r\n          // 获取歌手头像\r\n          this.artistAvatarUrl = res.data.data.artist.cover;\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.mv-container {\r\n    display: flex;\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n    max-width: 1100px;\r\n    margin: 35px 100px;\r\n\r\n    .title {\r\n      margin-bottom: 20px;\r\n    }\r\n\r\n    .mv-wrap {\r\n      width: 700px;\r\n      margin-right: 35px;\r\n\r\n      h3{\r\n        margin-bottom: 20px;\r\n        font-size: 25px;\r\n      }\r\n\r\n      .date {\r\n        margin-right: 25px;\r\n        color: #bebebe;\r\n        font-size: 14px;\r\n      }\r\n\r\n      .video-wrap {\r\n        width: 100%;\r\n        height: 390px;\r\n        margin-bottom: 20px;\r\n\r\n        video {\r\n          border-radius: 5px;\r\n          height: 100%;\r\n          width: 100%;\r\n          outline: none;\r\n        }\r\n      }\r\n\r\n      .info-wrap {\r\n        margin-bottom: 50px;\r\n\r\n        .singer-info {\r\n          display: flex;\r\n          align-items: center;\r\n          margin-bottom: 35px;\r\n\r\n          .avatar-wrap {\r\n            width: 70px;\r\n            height: 70px;\r\n            border-radius: 50%;\r\n            margin-right: 10px;\r\n            overflow: hidden;\r\n\r\n            img {\r\n              object-fit: cover;\r\n              height: 100%;\r\n              width: 100%;\r\n            }\r\n          }\r\n        }\r\n\r\n        .mv-info{\r\n          .title {\r\n            font-size: 30px;\r\n          }\r\n\r\n          .desc {\r\n            font-size: 15px;\r\n            margin-top: 20px;\r\n          }\r\n        }\r\n      }\r\n\r\n      .comment-wrap {\r\n        margin-bottom: 70px;\r\n\r\n        .title {\r\n          font-size: 25px;\r\n\r\n          .number {\r\n            color: black;\r\n            font-size: 20px;\r\n          }\r\n        }\r\n\r\n        .item {\r\n          display: flex;\r\n          padding-top: 20px;\r\n\r\n          .icon-wrap {\r\n            margin-right: 15px;\r\n\r\n            img {\r\n              width: 50px;\r\n              height: 50px;\r\n              border-radius: 50%;\r\n            }\r\n          }\r\n\r\n          &:not(:last-child) .content-wrap{\r\n            padding-bottom: 20px;\r\n            flex: 1;\r\n          }\r\n\r\n          .content-wrap {\r\n            padding-bottom: 20px;\r\n            flex: 1;\r\n\r\n            .name {\r\n              color: #517eaf;\r\n              font-size: 14px;\r\n            }\r\n\r\n            .comment {\r\n              font-size: 14px;\r\n            }\r\n\r\n            .content{\r\n              margin-bottom: 10px;\r\n            }\r\n            \r\n            .re-content{\r\n              padding: 10px;\r\n              background-color: #e6e5e6;\r\n              border-radius: 5px;\r\n              margin-bottom: 10px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .mv-recommend {\r\n      flex: 1;\r\n\r\n      .mvs .items {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n\r\n        .item {\r\n          cursor: pointer;\r\n          width: 100%;\r\n          display: flex;\r\n          align-items: center;\r\n          padding: 10px;\r\n          cursor: pointer;\r\n\r\n          &:hover{\r\n            background-color: #f5f5f5;\r\n          }\r\n\r\n          .img-wrap {\r\n            width: 180px;\r\n            position: relative;\r\n            margin-right: 10px;\r\n\r\n            >.icon-play {\r\n              position: absolute;\r\n              top: 50%;\r\n              left: 50%;\r\n              transform: translate(-50%, -50%);\r\n              width: 40px;\r\n              height: 40px;\r\n              color: #ee0000;\r\n              font-size: 20px;\r\n              border-radius: 50%;\r\n              display: flex;\r\n              align-items: center;\r\n              justify-content: center;\r\n              padding-left: 5px;\r\n              background: rgba(255, 255, 255, 0.8);\r\n              opacity: 0;\r\n\r\n              &::before {\r\n                transform: translateX(3px);\r\n              }\r\n            }\r\n\r\n            &:hover>.icon-play{\r\n              opacity: 1;\r\n            }\r\n\r\n            img {\r\n              width: 100%;\r\n              border-radius: 5px;\r\n            }\r\n\r\n            .num-wrap {\r\n              position: absolute;\r\n              color: white;\r\n              top: 0;\r\n              right: 0;\r\n              display: flex;\r\n              align-content: center;\r\n              font-size: 15px;\r\n              padding-right: 5px;\r\n              padding-top: 2px;\r\n\r\n              .icon-play {\r\n                font-size: 12px;\r\n                display: flex;\r\n                align-items: center;\r\n                margin-right: 5px;\r\n              }\r\n            }\r\n\r\n            .time {\r\n              position: absolute;\r\n              bottom: 5px;\r\n              right: 5px;\r\n              color: white;\r\n              font-size: 15px;\r\n            }\r\n          }\r\n\r\n          .info-wrap {\r\n            flex: 1;\r\n\r\n            .name {\r\n              font-size: 15px;\r\n            }\r\n\r\n            .singer {\r\n              font-size: 14px;\r\n              color: #c5c5c5;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n}\r\n\r\n@media screen and (max-width : 500px) {\r\n    .mv-container{\r\n        margin: 20px 0;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n\r\n    .mv-container .mv-wrap .video-wrap{\r\n        height: 250px;\r\n    }\r\n\r\n    .mv-container .mv-wrap h3{\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    .mv-container .mv-wrap{\r\n        width: 100%;\r\n        margin: 0;\r\n    }\r\n\r\n    .mv-container .mv-recommend{\r\n        display: none;\r\n    }\r\n\r\n    .mv-container .mv-wrap h3{\r\n        text-align: center;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Mv.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Mv.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Mv.vue?vue&type=template&id=4f48c716&scoped=true&\"\nimport script from \"./Mv.vue?vue&type=script&lang=js&\"\nexport * from \"./Mv.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Mv.vue?vue&type=style&index=0&id=4f48c716&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f48c716\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","mvUrl","directives","name","rawName","value","expression","_s","mvInfo","artistName","publishTime","playCount","desc","hotComments","length","_l","item","index","key","user","nickname","content","beReplied","_e","_f","time","likedCount","total","page","pageSize","on","handleCurrentChange","$event","toMvDetail","id","duration","staticRenderFns","data","mvId","recommendMvs","artistAvatarUrl","comments","loading","loadingComments","watch","$route","newVal","searchMV","query","q","created","methods","$router","push","getComments","limit","offset","commentsAPI","params","then","playMVAPI","simiMVAPI","mvid","mvDetailAPI","GetArtistDetail","artistsAPI","component"],"sourceRoot":""}