(function(){"use strict";var t={9439:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"discovery-container"},[s("div",{staticClass:"banner-pc"},[s("el-carousel",{attrs:{interval:4e3,type:"card",height:"200px"}},t._l(t.banners,(function(e,i){return s("el-carousel-item",{key:i},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imageUrl,expression:"item.imageUrl"}],attrs:{alt:""},on:{click:function(s){return t.PlayBanner(e)}}}),s("h3",{staticClass:"medium"},[t._v(t._s(e))])])})),1)],1),s("div",{staticClass:"banner-phone"},[s("el-carousel",{attrs:{"indicator-position":"outside"}},t._l(t.banners,(function(e,i){return s("el-carousel-item",{key:i},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imageUrl,expression:"item.imageUrl"}],attrs:{alt:""},on:{click:function(s){return t.PlayBanner(e)}}}),s("h3",{staticClass:"medium"},[t._v(t._s(e))])])})),1)],1),s("div",{staticClass:"recommend"},[s("h3",{staticClass:"title"},[t._v("推荐歌单")]),s("div",{staticClass:"items"},t._l(t.list,(function(e,i){return s("div",{key:i,staticClass:"item"},[s("div",{staticClass:"img-wrap"},[s("div",{staticClass:"desc-wrap"},[s("span",{staticClass:"desc"},[t._v("播放量："+t._s(t._f("ellipsisPlayVolume")(e.playCount)))])]),s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"item.picUrl"}],attrs:{alt:""},on:{click:function(s){return t.toPlaylist(e.id)}}}),s("span",{staticClass:"iconfont icon-play",on:{click:function(s){return t.toPlaylist(e.id)}}})]),s("p",{staticClass:"name"},[t._v(t._s(e.name)+" ")])])})),0)]),s("div",{staticClass:"news"},[s("h3",{staticClass:"title"},[t._v("最新音乐")]),s("div",{staticClass:"items"},t._l(t.songs,(function(e,i){return s("div",{key:i,staticClass:"item",on:{dblclick:function(s){return t.PlayMusic(e)}}},[s("div",{staticClass:"img-wrap"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"item.picUrl"}],attrs:{alt:""}}),s("span",{staticClass:"iconfont icon-play",on:{click:function(s){return t.PlayMusic(e)}}})]),s("div",{staticClass:"song-wrap"},[s("div",{staticClass:"song-name"},[t._v(t._s(e.name))]),s("div",{staticClass:"singer"},[t._v(t._s(e.song.artists[0].name))])])])})),0)]),s("div",{staticClass:"mvs"},[s("h3",{staticClass:"title"},[t._v("MV推荐")]),s("div",{staticClass:"items"},t._l(t.mvs,(function(e,i){return s("div",{key:i,staticClass:"item",on:{click:function(s){return t.toMvDetail(e.id)}}},[s("div",{staticClass:"img-wrap"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"item.picUrl"}],attrs:{alt:""}}),s("span",{staticClass:"iconfont icon-play icon1"}),s("div",{staticClass:"num-wrap"},[s("span",{staticClass:"iconfont icon-play icon2"}),s("div",{staticClass:"num"},[t._v(t._s(e.playCount))])])]),s("div",{staticClass:"info-wrap"},[s("div",{staticClass:"name"},[t._v(t._s(e.name))]),s("div",{staticClass:"singer"},[t._v(t._s(e.artistName))])])])})),0)])])},n=[],o=s(7496),a={name:"discovery",data(){return{banners:[],list:[],songs:[],mvs:[],newSongLimit:15}},created(){(0,o.pK)().then((t=>{this.banners=t.data.banners})).then((()=>{this.loading=!1})),(0,o.AL)({limit:15}).then((t=>{this.list=t.data.result})),(0,o.Db)(this.newSongLimit).then((t=>{this.songs=t.data.result})),(0,o.y7)().then((t=>{this.mvs=t.data.result}))},methods:{PlayMusic(t){(0,o.GL)(t.id).then((e=>{(0,o.mo)({id:t.id}).then((t=>{this.$store.dispatch("saveSongUrl",t.data.data[0].url)}));const s={ids:t.id};(0,o.oN)(s).then((t=>{this.$store.dispatch("changePlayState",!0),this.$store.dispatch("saveSongDetail",t.data.songs[0]),this.$store.dispatch("addPlayinglist",t.data.songs[0])}))})).catch((t=>{console.log(t),this.$message({message:"暂时无法播放，换首试试",type:"warning",center:!0})}))},PlayBanner(t){if(0!=t.targetId)if(1==t.targetType||300==t.typeTitle){(0,o.mo)({id:t.targetId}).then((t=>{this.$store.dispatch("saveSongUrl",t.data.data[0].url)})).catch((t=>t));const e={ids:t.targetId};(0,o.oN)(e).then((t=>{this.$store.dispatch("saveSongDetail",t.data.songs[0]),this.$store.dispatch("addPlayinglist",t.data.songs[0])})).catch((t=>t))}else{if(1e3==t.targetType)return;if(10==t.targetType)return}},toPlaylist(t){this.$router.push(`/playlist?q=${t}`)},toMvDetail(t){this.$router.push(`/mv?q=${t}`)}}},r=a,l=s(3736),c=(0,l.Z)(r,i,n,!1,null,"265015c4",null),u=c.exports},7662:function(t,e,s){var i={};s.r(i),s.d(i,{currentLyric:function(){return Jt},currentRow:function(){return qt},currentSecond:function(){return Ht},downloadMusicInfo:function(){return Ut},historyPlay:function(){return Vt},isLogin:function(){return xt},isPlaying:function(){return Et},isShowSongDetail:function(){return jt},likeSongIds:function(){return Ot},navPhoneOpen:function(){return At},nowSongDetail:function(){return Rt},playingList:function(){return zt},showFloatLyric:function(){return Zt},songUrl:function(){return Ft},subAlbumlist:function(){return Nt},subMvlist:function(){return Mt},subSingerlist:function(){return Tt},userFollowsList:function(){return Dt},userInfo:function(){return $t},userSongList:function(){return Bt}});var n=Vue,o=s.n(n),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("Top"),s("Index"),s("Foot")],1)},r=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{staticClass:"header-title"},[s("h2",{on:{click:t.gohome}},[t._v("云音乐播放器By Alive")])]),s("div",{staticClass:"btns"},[s("i",{staticClass:"el-icon-arrow-left",on:{click:function(e){return t.go(-1)}}}),s("i",{staticClass:"el-icon-arrow-right",on:{click:function(e){return t.go(1)}}}),s("i",{staticClass:"el-icon-picture-outline",attrs:{id:"btbg"},on:{click:function(t){}}})]),s("div",[s("div",{staticClass:"input-box"},[s("el-input",{attrs:{placeholder:t.placeholder,"prefix-icon":"el-icon-search"},on:{focus:t.getSearchData,blur:t.outblur},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1),s("transition",{attrs:{name:"el-fade-in-linear"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showHot,expression:"showHot"}],ref:"hot",staticClass:"search-hot"},[s("el-scrollbar",{staticStyle:{height:"100%"}},[t.history.length?s("div",{staticClass:"history"},[s("span",{staticClass:"hot-title",staticStyle:{display:"inline-block","margin-right":"5px"}},[t._v("搜索历史")]),s("span",{staticClass:"iconfont icon-lajitong",staticStyle:{cursor:"pointer"},attrs:{title:"清空搜索历史"},on:{mousedown:function(e){return t.deleteHistory(0,!0)}}}),s("div",{staticClass:"history-wrap"},t._l(t.history,(function(e,i){return s("div",{key:i,staticClass:"history-item",on:{mousedown:function(s){return t.toHot(e)}}},[t._v(" "+t._s(e)+" "),s("span",{staticClass:"delete-btn",attrs:{title:"删除"},on:{mousedown:function(e){return e.stopPropagation(),t.deleteHistory(i,!1)}}},[t._v("×")])])})),0)]):t._e(),s("div",{staticClass:"hot-title"},[t._v("热搜榜")]),s("ul",t._l(t.hotData,(function(e,i){return s("li",{key:i,staticClass:"hot-item",on:{mousedown:function(s){return t.toHot(e.searchWord)}}},[s("div",{staticClass:"hot-index"},[t._v(t._s(i+1))]),s("div",{staticClass:"hot-info"},[s("div",{staticClass:"hot-top"},[s("div",{staticClass:"hot-name"},[t._v(t._s(e.searchWord))]),s("div",{staticClass:"hot-score"},[t._v(t._s(e.score))]),s("img",{directives:[{name:"show",rawName:"v-show",value:e.iconUrl&&5!=e.iconType,expression:"item.iconUrl && item.iconType != 5"}],staticClass:"hot-icon",attrs:{src:e.iconUrl}})]),s("div",{staticClass:"hot-content"},[t._v(t._s(e.content))])])])})),0)])],1)]),s("transition",{attrs:{name:"el-fade-in-linear"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isAdvice,expression:"isAdvice"}],staticClass:"search-hot"},[s("el-scrollbar",{staticStyle:{height:"100%"}},[s("ul",t._l(t.suggestionList.songs,(function(e,i){return s("li",{key:i,staticClass:"hot-item",on:{mousedown:function(s){return t.toHot(e.name)}}},[s("div",{staticClass:"hot-info"},[s("div",{staticClass:"hot-top"},[s("div",{staticClass:"hot-name"},[t._v(t._s(e.name))])])])])})),0)])],1)])],1),s("div",{staticClass:"sliderBar"},[s("el-slider",{attrs:{"format-tooltip":t.formatTooltip},model:{value:t.sliderValue,callback:function(e){t.sliderValue=e},expression:"sliderValue"}})],1),s("div",{staticClass:"userInfo-wrap"},[s("div",{staticClass:"avater"},[s("span",{directives:[{name:"show",rawName:"v-show",value:!t.isLogin,expression:"!isLogin"}],on:{click:function(e){return t.toLogin()}}},[t._v("登录")]),s("img",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],attrs:{src:t.userInfo.avater},on:{click:function(e){return t.toLogin()}}})]),s("div",{staticClass:"user-wrap"},[s("span",[t._v(t._s(t.userInfo.username))]),s("i",{staticClass:"el-icon-caret-bottom"})])]),s("div",{staticClass:"nav-phone-btn"},[s("i",{class:t.navPhoneOpen?"el-icon-s-fold":"el-icon-s-unfold",staticStyle:{"font-size":"20px",transition:".3s"},on:{click:function(e){return t.changeNavPhone()}}})])])},c=[],u=s(7496),d=s(6294),h=s.n(d),g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.navPhoneOpen?"open":"close",attrs:{id:"nav-phone"}},[t._m(0),s("div",{staticClass:"site-data is-center"}),s("el-divider"),s("div",{staticClass:"menus_items"},[s("div",{staticClass:"menus_item",on:{click:function(e){return t.hideNav()}}},[s("i",{staticClass:"el-icon-headset"}),s("router-link",{attrs:{to:"/discovery"}},[s("span",{staticClass:"nav-router"},[t._v("发现音乐")])])],1),s("div",{staticClass:"menus_item",on:{click:function(e){return t.hideNav()}}},[s("i",{staticClass:"el-icon-trophy"}),s("router-link",{attrs:{to:"/playlists"}},[s("span",{staticClass:"nav-router"},[t._v("推荐歌单")])])],1),s("div",{staticClass:"menus_item",on:{click:function(e){return t.hideNav()}}},[s("i",{staticClass:"el-icon-star-off"}),s("router-link",{attrs:{to:"/songs"}},[s("span",{staticClass:"nav-router"},[t._v("最新音乐")])])],1),s("div",{staticClass:"menus_item",on:{click:function(e){return t.hideNav()}}},[s("i",{staticClass:"el-icon-film"}),s("router-link",{attrs:{to:"/mvs"}},[s("span",{staticClass:"nav-router"},[t._v("最新MV")])])],1),s("div",{staticClass:"menus_item",on:{click:function(e){return t.hideNav()}}},[s("i",{staticClass:"el-icon-s-data"}),s("router-link",{attrs:{to:"/leaderboard"}},[s("span",{staticClass:"nav-router"},[t._v("排行榜")])])],1),s("div",{staticClass:"menus_item",on:{click:function(e){return t.hideNav()}}},[s("i",{staticClass:"el-icon-mic"}),s("router-link",{attrs:{to:"/artists"}},[s("span",{staticClass:"nav-router"},[t._v("歌手")])])],1)])],1)},p=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"avatar-img is-center"},[s("img",{attrs:{src:"https://pic.imgdb.cn/item/630b81ff16f2c2beb1982bcc.jpg",alt:""}})])}],m={name:"NavPhone",computed:{...(0,d.mapState)(["userInfo","isLogin","token","navPhoneOpen"])},methods:{hideNav(){this.$store.dispatch("changeNavPhone",!1)}}},f=m,v=s(3736),y=(0,v.Z)(f,g,p,!1,null,null,null),S=y.exports,w={name:"Top",components:{NavPhone:S},data(){return{searchValue:"",showHot:!1,hotData:[],history:[],placeholder:"",isAdvice:!1,suggestionList:[],bg:"",sliderValue:35}},computed:{...(0,d.mapState)(["userInfo","isLogin","token","navPhoneOpen"])},created(){this.getDefaultKeywords()},watch:{searchValue(){this.getSuggestion()},sliderValue(){this.changeOpacity()}},methods:{gohome(){"/discovery"!=this.$route.path&&this.$router.push("/discovery")},go(t){this.$router.go(t)},toLogin(){this.isLogin||this.token||localStorage.getItem("token")?this.$router.push("/userInfo"):this.$router.push("/login")},changeNavPhone(){const t=!this.navPhoneOpen;this.$store.dispatch("changeNavPhone",t)},changeOpacity(){let t=document.createElement("style"),e=document.createTextNode(`body::after{opacity: ${this.sliderValue/100};}`);t.appendChild(e),document.body.appendChild(t)},prevent(){event.preventDefault()},showError(){this.$message({showClose:!0,message:"请输入内容",type:"error"})},isNull(t){if(""==t)return!0;var e="^[ ]+$",s=new RegExp(e);return s.test(t)},outblur(){this.isAdvice=!1,this.showHot=!1},search(){this.isNull(this.searchValue)?this.showError():(this.$router.push(`/result?q=${this.searchValue}`),this.history.includes(this.searchValue)||this.history.push(this.searchValue),this.outblur())},getDefaultKeywords(){(0,u.jr)().then((t=>{this.placeholder=t.data.data.showKeyword}))},getSuggestion(){this.isAdvice=!0;let t={keywords:this.searchValue};""!=this.searchValue?(0,u.GB)(t).then((t=>{this.suggestionList=t.data.result})):this.isAdvice=!1},getSearchData(){""!=this.searchValue?this.getSuggestion():(this.showHot=!0,0==this.hotData.length&&(0,u["if"])().then((t=>{console.log("获取热搜:",t),this.hotData=t.data.data})))},toHot(t){this.searchValue=t,this.search()},deleteHistory(t,e){if(e)this.history=[];else for(let s=0;s<this.history.length;s++)s==t&&this.history.splice(s,1);event.preventDefault()},formatTooltip(t){return t/100}}},C=w,b=(0,v.Z)(C,l,c,!1,null,"8dc9932c",null),k=b.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"index-contain"},[s("el-backtop",{attrs:{target:".index-contain .main",right:40,bottom:100,id:"playBackTop"}}),s("div",{staticClass:"nav"},[s("li",{staticClass:"nav-list"},[s("i",{staticClass:"el-icon-headset"}),s("router-link",{attrs:{to:"/discovery"}},[s("span",{staticClass:"nav-router"},[t._v("发现音乐")])])],1),s("li",{staticClass:"nav-list"},[s("i",{staticClass:"el-icon-trophy"}),s("router-link",{attrs:{to:"/playlists"}},[s("span",{staticClass:"nav-router"},[t._v("推荐歌单")])])],1),s("li",{staticClass:"nav-list"},[s("i",{staticClass:"el-icon-star-off"}),s("router-link",{attrs:{to:"/songs"}},[s("span",{staticClass:"nav-router"},[t._v("最新音乐")])])],1),s("li",{staticClass:"nav-list"},[s("i",{staticClass:"el-icon-film"}),s("router-link",{attrs:{to:"/mvs"}},[s("span",{staticClass:"nav-router"},[t._v("最新MV")])])],1),s("li",{staticClass:"nav-list"},[s("i",{staticClass:"el-icon-s-data"}),s("router-link",{attrs:{to:"/leaderboard"}},[s("span",{staticClass:"nav-router"},[t._v("排行榜")])])],1),s("li",{staticClass:"nav-list"},[s("i",{staticClass:"el-icon-mic"}),s("router-link",{attrs:{to:"/artists"}},[s("span",{staticClass:"nav-router"},[t._v("歌手")])])],1)]),s("div",{staticClass:"nav-sec"},[s("transition",{attrs:{name:"el-fade-in-linear"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.navPhoneOpen,expression:"navPhoneOpen"}],attrs:{id:"menu-mask"},on:{click:function(e){return t.hideNav()}}})]),s("NavPhone")],1),s("div",{staticClass:"Lyric-wrap"},[s("transition",{attrs:{name:"el-fade-in-linear"}},[s("FloatLyric",{directives:[{name:"show",rawName:"v-show",value:t.showFloatLyric,expression:"showFloatLyric"}]})],1)],1),s("div",{staticClass:"main"},[s("div",{staticClass:"container"},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("router-view",{key:t.key})],1)],1)])],1)},_=[],P=s(9439),I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"lyric",staticClass:"float-lyric",class:{bg:t.isShowBg},on:{mousedown:t.dragLyric,mouseover:function(e){t.isShowBg=!0},mouseleave:function(e){t.isShowBg=!1}}},[s("div",{staticClass:"lyric"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowBg,expression:"isShowBg"}],staticClass:"close"},[s("span",{staticClass:"iconfont icon-guanbi1",on:{click:t.closeFloatLyric}})]),0==t.currentLyric.length?s("div",{staticClass:"nolyric"},[t._v("暂无歌词")]):s("div",{ref:"floatLyric",attrs:{id:"floatLyric"}},t._l(t.currentLyric,(function(e,i){return s("div",{key:i,staticClass:"lyricRow",class:{currentActive:t.currentRow==i}},[s("span",[t._v(t._s(e.text.trim()))])])})),0)])])},x=[],$={name:"Floatlyric",data(){return{currentRow:"",isShowBg:!0}},computed:{...(0,d.mapGetters)(["currentLyric","currentSecond"])},methods:{closeFloatLyric(){this.$store.commit("showFloatLyric")},dragLyric(t){let e=t.pageX-this.$refs.lyric.offsetLeft,s=t.pageY-this.$refs.lyric.offsetTop,i=this.$refs.lyric;function n(t){i.style.left=t.pageX-e+"px",i.style.top=t.pageY-s+"px"}document.addEventListener("mousemove",n),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",n)}))}},watch:{currentSecond(t){this.currentLyric.forEach(((e,s)=>{Math.ceil(t)>=e.time&&(this.$refs.floatLyric.style.top=40*-s+"px",this.currentRow=s)}))}}},B=$,D=(0,v.Z)(B,I,x,!1,null,"4dab74ec",null),N=D.exports,T={name:"Index",components:{discovery:P["default"],FloatLyric:N,NavPhone:S},computed:{...(0,d.mapGetters)(["nowSongDetail","isShowSongDetail","showFloatLyric"]),...(0,d.mapState)(["navPhoneOpen"]),key(){return this.$route.name?this.$route.name+ +new Date:this.$route+ +new Date}},data(){return{downloadMusicInfo:{name:"",url:""}}},methods:{hideNav(){this.$store.dispatch("changeNavPhone",!1)}}},M=T,O=(0,v.Z)(M,L,_,!1,null,"68d7ba39",null),A=O.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"foot-container",attrs:{id:"footer"}},[s("div",{staticClass:"player"},[s("audio",{ref:"audioplay",attrs:{id:"audio",autoplay:"",src:t.songUrl},on:{play:function(e){return t.changeState(!0)},pause:function(e){return t.changeState(!1)},loadedmetadata:t.onLoadedmetadata,timeupdate:t.onTimeupdate,ended:function(e){3==t.playModel?t.loopPlay():t.toggleSong(1)}}}),s("div",{staticClass:"left-cover-content"},[0!==Object.keys(t.nowSongDetail).length?s("div",{staticClass:"cover-content"},[s("div",{staticClass:"cover",on:{click:t.showSongDetail,mouseenter:function(e){t.showMask=!0},mouseleave:function(e){t.showMask=!1}}},[s("transition",{attrs:{name:"el-fade-in-linear"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showMask,expression:"showMask"}],staticClass:"mask-playicon",staticStyle:{cursor:"pointer",background:"transparent"}},[s("span",{class:t.isShowSongDetail?"iconfont icon-down-arrow":"iconfont icon-xiangshangjiantou"})])]),s("img",{class:{blur:t.showMask},attrs:{src:t.cover,alt:""}})],1),s("div",{staticClass:"songname"},[s("p",{staticStyle:{"padding-bottom":"5px"}},[t._v(t._s(t.nowSongDetail.name))]),s("p",{staticClass:"singer"},[t._v(t._s(t.nowSongDetail.ar[0].name))])]),s("div",{staticClass:"like-song",on:{click:t.likeNowSongBy}},[s("span",{class:t.islike?"iconfont icon-xihuan2":"iconfont icon-xihuan"})]),s("div",{staticClass:"download",attrs:{title:"下载"},on:{click:t.downloadCurrentMusic}},[s("span",{staticClass:"iconfont icon-xiazai"})])]):t._e(),0==Object.keys(t.nowSongDetail).length?s("div",{staticClass:"cover-content",on:{click:t.showSongDetail}},[t._m(0),s("div",{staticClass:"songname"},[t._v("暂无音乐")])]):t._e()]),s("div",{staticClass:"center-play-song"},[s("div",{staticClass:"change-play"},[s("span",{staticClass:"change-box",on:{click:function(e){return t.toggleSong(0)}}},[s("i",{staticClass:"iconfont icon-shangyiqu"})]),t.isPlaying?s("span",{staticClass:"play-box",on:{click:t.pauseMusic}},[s("i",{staticClass:"iconfont icon-pause"})]):s("span",{staticClass:"play-box",on:{click:t.playMusic}},[s("i",{staticClass:"iconfont icon-play"})]),s("span",{staticClass:"change-box",on:{click:function(e){return t.toggleSong(1)}}},[s("i",{staticClass:"iconfont icon-xiayiqu"})])]),s("div",{staticClass:"song-progress"},[s("span",{staticStyle:{cursor:"auto"}},[t._v(t._s(t.currentTime))]),s("div",{staticClass:"s-progress"},[s("Progress",{attrs:{"is-format-tooltip":!0,"format-tooltip":t.formatTooltip,showRadiusBtn:!1,disabled:0==t.playingList.length},on:{onChange:t.changeSongProgress},model:{value:t.songProgress,callback:function(e){t.songProgress=e},expression:"songProgress"}})],1),s("span",{staticStyle:{cursor:"auto"}},[t._v(t._s(t.totalTime))])]),s("div",{staticClass:"playmodel"},[1==t.playModel?s("el-tooltip",{attrs:{effect:"dark",content:"顺序播放",placement:"top"}},[1==t.playModel?s("span",{staticClass:"iconfont icon-orderplay",on:{click:function(e){return t.changePlayModel(2)}}}):t._e()]):t._e(),2==t.playModel?s("el-tooltip",{attrs:{effect:"dark",content:"随机播放",placement:"top"}},[2==t.playModel?s("span",{staticClass:"iconfont icon-random",on:{click:function(e){return t.changePlayModel(3)}}}):t._e()]):t._e(),3==t.playModel?s("el-tooltip",{attrs:{effect:"dark",content:"单曲循环",placement:"top"}},[3==t.playModel?s("span",{staticClass:"iconfont icon-danqu",on:{click:function(e){return t.changePlayModel(1)}}}):t._e()]):t._e(),s("span",{staticClass:"iconfont icon-cibiaoquanyi",on:{click:t.showFloatLyric}})],1)]),s("div",{staticClass:"right-voice"},[s("span",{staticClass:"mute"},[0==t.voiceProgress?s("i",{staticClass:"iconfont icon-jingyin",on:{click:t.cancelMute}}):s("i",{staticClass:"iconfont icon-laba",on:{click:t.muteVolume}})]),s("div",{staticClass:"v-progress"},[s("Progress",{attrs:{showRadiusBtn:!1,isActiveBar:!1},on:{onChange:t.changeVoiceProgress},model:{value:t.voiceProgress,callback:function(e){t.voiceProgress=e},expression:"voiceProgress"}})],1),s("div",{staticClass:"songplaylist"},[s("el-tooltip",{attrs:{effect:"dark",content:"播放列表",placement:"top"}},[s("span",{staticClass:"iconfont icon-songplaylist",on:{click:function(e){t.isShowDrawer=!t.isShowDrawer}}})])],1)]),s("transition",{attrs:{name:"playlist"}},[t.isShowDrawer?s("PlayingList",{on:{closePlayList:function(e){t.isShowDrawer=!1}}}):t._e()],1)],1)])},F=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cover"},[s("span",{staticClass:"iconfont icon-yinleyanzou"})])}];function U(t){t=parseInt(t),t=t>1e4?Math.floor(t/1e3):Math.floor(t);let e=Math.floor(t/60),s=Math.floor(t%60);return e=e<10?"0"+e:e,s=s<10?"0"+s:s,e+":"+s}const R=(t,e)=>Math.floor(Math.random()*(e-t+1))+t,z=(t,e)=>{"object"===typeof e&&(e=JSON.stringify(e)),window.localStorage.setItem(t,e)},V=t=>{const e=window.localStorage.getItem(t);try{return JSON.parse(e)}catch(s){return e}},j=t=>{window.localStorage.removeItem(t)};var H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"progressBox",staticClass:"progressBox",style:t.progressBoxStyle,on:{mousemove:t.setTooltip,mouseleave:t.progressBoxLeave,click:t.changeProgressBar}},[s("div",{ref:"progressBar",staticClass:"progressBar",style:t.progressBarStyle},[t.isActiveBar?s("div",{staticClass:"activeBar"}):t._e()]),s("transition",{attrs:{name:"el-fade-in-linear"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showRadiusBtn?t.showRadiusBtn:t.hoverShowRadiusBtn,expression:"showRadiusBtn ? showRadiusBtn : hoverShowRadiusBtn"}],ref:"radiusBtn",staticClass:"radiusBtn",style:t.radiusBtnStyle,on:{mouseenter:t.radiusBtnHover,mouseleave:t.radiusBtnLeave,mousedown:t.dragProgressBar}})]),s("transition",{attrs:{name:"el-fade-in-linear"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showToolTip&&t.hoverShowToolTip,expression:"showToolTip && hoverShowToolTip"}],ref:"tooltip",staticClass:"tooltip",style:{bottom:t.progressSize+10+"px"}},[t._v(" "+t._s(t.tooltipTxt)+" ")])])],1)},J=[],q={name:"Progress",props:{percent:{type:Number,default:0},progressSize:{type:[Number,String],default:6},showRadiusBtn:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},showToolTip:{type:Boolean,default:!0},isFormatTooltip:{type:Boolean,default:!1},formatTooltip:{type:Function},isActiveBar:{type:Boolean,default:!0}},data(){return{tooltipTxt:0,hoverShowRadiusBtn:!1,radiusBtnActive:!1,hoverShowToolTip:!1,isDrag:!1}},mounted(){this.setProgressBar(this.percent)},model:{prop:"percent",event:"onChange"},computed:{progressBoxStyle(){let t={height:`${this.progressSize}px`,borderRadius:`${this.progressSize}px`,cursor:this.disabled?"not-allowed":"pointer"};return t},progressBarStyle(){let t={borderRadius:`${this.progressSize}px`,transition:this.isDrag?"none":"all 0.3s ease-out",cursor:this.disabled?"not-allowed":"pointer"};return t},radiusBtnStyle(){let t={width:this.radiusBtnActive?`${this.radiusBtnSize+2}px`:`${this.radiusBtnSize}px`,height:this.radiusBtnActive?`${this.radiusBtnSize+2}px`:`${this.radiusBtnSize}px`,transform:`translate(${5-this.radiusBtnSize}px,-50%)`,transition:this.isDrag?"none":"all 0.3s ease-out",cursor:this.disabled?"not-allowed":"pointer"};return t},radiusBtnSize(){let t=this.progressSize>=8?2*this.progressSize:2.5*this.progressSize;return t=this.progressSize<=3?4*this.progressSize:t,t=t<12?12:t,t}},methods:{getMousePositon(t){let e=this.$refs.progressBox.getBoundingClientRect().width,s=this.$refs.progressBox.getBoundingClientRect().left,i=t.clientX-s;i=i<=0?0:i,i=i>=e?e:i;let n=Math.ceil(100*i/e);return n},setProgressBar(t){this.$refs.progressBar.style.width=t+"%",this.$refs.radiusBtn.style.left=t+"%"},setTooltip(t){if(this.hoverShowRadiusBtn=!0,this.disabled)return;if(!this.showToolTip)return;this.hoverShowToolTip=!0;let e=this.getMousePositon(t);this.$refs.tooltip.style.left=e+"%",this.tooltipTxt=this.isFormatTooltip&&this.formatTooltip?this.formatTooltip(e):e},changeProgressBar(t){if(this.disabled)return;let e=this.getMousePositon(t);this.$emit("onChange",e)},radiusBtnHover(){this.hoverShowRadiusBtn=!0,this.radiusBtnActive=!0},radiusBtnLeave(){this.isDrag||(this.hoverShowRadiusBtn=!1,this.radiusBtnActive=!1)},dragProgressBar(){if(this.disabled)return;let t=t=>{this.isDrag=!0;let e=this.getMousePositon(t);this.setProgressBar(e),this.setTooltip(t)},e=s=>{this.isDrag=!1,document.removeEventListener("mousemove",t),this.changeProgressBar(s),this.progressBoxLeave(),this.radiusBtnActive=!1,document.removeEventListener("mouseup",e)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",e)},progressBoxLeave(){this.hoverShowToolTip=!1,this.hoverShowRadiusBtn=!1}},watch:{percent(t){this.isDrag||this.setProgressBar(t)}}},Z=q,G=(0,v.Z)(Z,H,J,!1,null,"507a5dd8",null),K=G.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"playing-list",attrs:{id:"playing-song-list"}},[s("div",{staticClass:"top-nav"},[s("TabBar",{attrs:{tabitems:t.tabitems},on:{tabItemClick:t.tabItemClick}})],1),0==t.activeItem?s("div",{staticClass:"play-list"},[s("div",{staticClass:"hd"},[s("h4",{staticStyle:{padding:"0px 10px"}},[t._v("总"+t._s(t.playingList.length)+"首")]),s("span",{on:{click:t.deleteAll}},[s("i",{staticClass:"iconfont icon-delete"}),t._v("清空")])]),s("div",{staticClass:"bd"},[s("el-table",{staticStyle:{width:"100%"},attrs:{size:"mini","show-header":!1,"row-class-name":t.tableRowClassName,data:t.playingList,"empty-text":"暂无歌曲"},on:{"row-dblclick":t.playSongClick}},[s("el-table-column",{attrs:{width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id===t.nowSongDetail.id?s("span",{staticClass:"iconfont",class:t.isPlaying?" icon-voice":"icon-jingyin_laba"}):s("span",[t._v(t._s(t._f("formatIndex")(e.row.index)))])]}}],null,!1,3301611334)}),s("el-table-column",{attrs:{prop:"name",label:"歌曲","show-overflow-tooltip":!0,width:"100"}}),s("el-table-column",{attrs:{prop:"ar[0].name",label:"歌手","show-overflow-tooltip":!0,width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"sname",on:{click:function(s){return t.toSinger(e.row.ar[0].id)}}},[t._v(" "+t._s(e.row.ar[0].name)+" ")])]}}],null,!1,1121264130)}),s("el-table-column",{attrs:{prop:"dt",label:"时长"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(" "+t._s(t._f("formatDuration")(e.row.dt))+" ")])]}}],null,!1,2896966386)}),s("el-table-column",{attrs:{width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"iconfont icon-guanbi",on:{click:function(s){return t.deleteSong(e.row)}}})]}}],null,!1,163286182)})],1)],1)]):t._e(),1==t.activeItem?s("div",{staticClass:"history-list"},[s("div",{staticClass:"hd"},[s("h4",{staticStyle:{padding:"0px 10px"}},[t._v("总"+t._s(t.historyPlay.length)+"首")]),s("span",{staticStyle:{cursor:"pointer"},on:{click:t.deleteAllHistory}},[s("i",{staticClass:"iconfont icon-delete"}),t._v("清空")])]),s("div",{staticClass:"bd"},[s("el-table",{staticStyle:{width:"100%"},attrs:{size:"mini","show-header":!1,"row-class-name":t.tableRowClassName,data:t.historyPlay,"empty-text":"暂无记录"},on:{"row-dblclick":t.playHistorySong}},[s("el-table-column",{attrs:{width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id==t.nowSongDetail.id?s("span",{staticClass:"iconfont",class:t.isPlaying?" icon-voice":"icon-jingyin_laba"}):s("span",[t._v(t._s(t._f("formatIndex")(e.row.index)))])]}}],null,!1,1778329851)}),s("el-table-column",{attrs:{prop:"name",label:"歌曲","show-overflow-tooltip":!0,width:"100"}}),s("el-table-column",{attrs:{prop:"ar[0].name",label:"歌手","show-overflow-tooltip":!0,width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"sname",on:{click:function(s){return t.toSinger(e.row.ar[0].id)}}},[t._v(" "+t._s(e.row.ar[0].name)+" ")])]}}],null,!1,1121264130)}),s("el-table-column",{attrs:{prop:"dt",label:"时长"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(" "+t._s(t._f("formatDuration")(e.row.dt))+" ")])]}}],null,!1,2896966386)}),s("el-table-column",{attrs:{width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"iconfont icon-guanbi",on:{click:function(s){return t.deleteHistory(e.row)}}})]}}],null,!1,2497133713)})],1)],1)]):t._e()])},X=[],W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tabbar"},[s("div",{staticClass:"tab"},t._l(t.tabitems,(function(e,i){return s("div",{key:i,staticClass:"tab-item",class:{active:t.currentIndex==i},on:{click:function(e){return t.tabItemClick(i)}}},[t._v(" "+t._s(e.name)+" ")])})),0)])},Y=[],tt={name:"TabBar",props:{tabitems:{type:Array,default(){return[]}}},data(){return{currentIndex:0}},methods:{tabItemClick(t){this.currentIndex=t,this.$emit("tabItemClick",t)}}},et=tt,st=(0,v.Z)(et,W,Y,!1,null,"7d2348d0",null),it=st.exports,nt={name:"PlayingList",components:{TabBar:it},computed:{...(0,d.mapGetters)(["playingList","historyPlay","nowSongDetail","isPlaying"])},data(){return{tabitems:[{name:"播放列表"},{name:"历史记录"}],activeItem:0}},filters:{formatIndex(t){return t<9?"0"+(t+1):t+1}},methods:{tabItemClick(t){this.activeItem=t},playSongClick(t){(0,u.GL)(t.id).then((e=>{(0,u.mo)({id:t.id}).then((t=>{this.$store.dispatch("saveSongUrl",t.data.data[0].url)})),this.$store.dispatch("changePlayState",!0),this.$store.dispatch("saveSongDetail",t)})).catch((e=>{this.$message({message:"暂时无法播放，换首试试",type:"warning",center:!0}),this.$store.dispatch("deleteSong",t.id)}))},deleteSong(t){this.$store.dispatch("deleteSong",t.id)},deleteAll(){this.$store.dispatch("deleteAll"),this.$store.dispatch("saveCurrentLyric",[])},playHistorySong(t){this.playSongClick(t),this.$store.dispatch("addPlayinglist",t)},deleteAllHistory(){this.$store.dispatch("deleteAllHistory")},deleteHistory(t){this.$store.dispatch("deleteHistory",t.id)},tableRowClassName({row:t,rowIndex:e}){if(t.index=e,e%2!==0)return"rowEven"},toSinger(t){this.$router.push(`/artist?q=${t}`)}},mounted(){let t=document.querySelector("#playing-song-list"),e=document.querySelector("#footer");document.addEventListener("mousedown",(s=>{t&&(t.contains(s.target)||e.contains(s.target)||this.$emit("closePlayList"))}))}},ot=nt,at=(0,v.Z)(ot,Q,X,!1,null,"0701e225",null),rt=at.exports,lt={name:"Foot",components:{PlayingList:rt,Progress:K},data(){return{totalSecond:this.getItem("totalSecond")?this.getItem("totalSecond"):0,totalTime:this.getItem("totalTime")?this.getItem("totalTime"):"00:00",currentTime:this.getItem("currentTime")?this.getItem("currentTime"):"00:00",songProgress:this.getItem("songProgress")?this.getItem("songProgress"):0,voiceProgress:this.getItem("voiceProgress")?this.getItem("voiceProgress"):50,playModel:this.getItem("playModel")?this.getItem("playModel"):1,nowVolume:50,islike:!1,showMask:!1,isShowDrawer:!1,formatlyric:[],currentIndex:null}},computed:{...(0,d.mapGetters)(["isLogin","userInfo","songUrl","isPlaying","playingList","nowSongDetail","likeSongIds","currentSecond","currentLyric","isShowSongDetail"]),cover(){return this.nowSongDetail.al.picUrl+"?param=60y60"}},created(){0!=Object.keys(this.nowSongDetail).length&&this.getNowLyricBy(this.nowSongDetail.id)},mounted(){this.$refs.audioplay.volume=this.voiceProgress/100,this.pauseMusic(),this.isLikeNowSong()},methods:{showSongDetail(){this.$store.commit("showSongDetail")},showFloatLyric(){this.$store.commit("showFloatLyric")},changeState(t){this.$store.dispatch("changePlayState",t)},playMusic(){0==this.playingList.length?this.$message({message:"播放列表为空",type:"warning",center:!0}):(this.$refs.audioplay.currentTime=this.currentSecond," "!=this.songUrl?this.$refs.audioplay.play():(0,u.mo)({id:this.nowSongDetail.id}).then((t=>{this.$store.dispatch("saveSongUrl",t.data.data[0].url)})))},pauseMusic(){this.$refs.audioplay.pause()},onLoadedmetadata(t){this.totalSecond=t.target.duration,this.totalTime=U(this.totalSecond),this.setItem("totalTime",this.totalTime),this.setItem("totalSecond",this.totalSecond)},onTimeupdate(t){this.$store.dispatch("saveCurrentSeconds",t.target.currentTime),this.currentTime=U(t.target.currentTime),this.setItem("currentTime",this.currentTime);let e=Math.ceil(t.target.currentTime/this.totalSecond*100);e==1/0||isNaN(e)||(this.setItem("songProgress",e),this.songProgress=this.getItem("songProgress"))},changeSongProgress(t){let e=Math.ceil(t/100*this.totalSecond);this.$refs.audioplay.currentTime=e,this.currentLyric.forEach(((t,s)=>{e>=t.time&&this.$store.commit("saveCurrentRow",s)}))},formatTooltip(t){return U(t/100*this.totalSecond)},muteVolume(){this.nowVolume=this.voiceProgress,this.voiceProgress=0,this.$refs.audioplay.volume=0},cancelMute(){this.voiceProgress=this.nowVolume,this.$refs.audioplay.volume=this.voiceProgress/100},changeVoiceProgress(t){this.setItem("voiceProgress",t),this.$refs.audioplay.volume=t/100},getSongUrlBy(t){(0,u.GL)(t.id).then((e=>{(0,u.mo)({id:t.id}).then((e=>{this.$store.dispatch("saveSongUrl",e.data.data[0].url),this.$store.dispatch("saveSongDetail",t)}))})).catch((e=>{this.$store.dispatch("deleteSong",t.id),this.orderPlay(1)}))},toggleSong(t){0!=this.playingList.length?1==this.playingList.length?(this.$message({message:"当前播放列表只有一首歌",type:"warning",center:!0}),this.playMusic()):1===this.playModel||3===this.playModel?this.orderPlay(t):2===this.playModel&&this.randomPlay():this.$message({message:"播放列表为空",type:"warning",center:!0})},changePlayModel(t){this.$refs.audioplay.loop=!1,this.playModel=t,this.setItem("playModel",t)},orderPlay(t){let e,s=this.playingList.findIndex((t=>this.nowSongDetail.id==t.id));switch(s){case-1:e=0;break;case 0:e=0===t?this.playingList.length-1:s+1;break;case this.playingList.length-1:e=0===t?s-1:0;break;default:e=0===t?s-1:s+1;break}let i=this.playingList[e];this.getSongUrlBy(i)},randomPlay(){let t=R(0,this.playingList.length-1),e=this.playingList[t];this.getSongUrlBy(e)},loopPlay(){this.$refs.audioplay.loop=!0,this.$refs.audioplay.play()},getLikSongListBy(){(0,u.Qh)(this.userInfo.userid).then((t=>{console.log("获取喜欢的歌曲id列表",t),this.$store.dispatch("saveLikeSongIds",t.data.ids),this.islike=this.likeSongIds.includes(this.nowSongDetail.id)}))},isLikeNowSong(){this.isLogin?0!=this.likeSongIds.length?this.islike=this.likeSongIds.includes(this.nowSongDetail.id):this.getLikSongListBy():this.islike=!1},likeNowSongBy(){if(!this.$store.state.isLogin)return void this.$message({type:"warning",message:"登录后才能收藏",showClose:!0,center:!0});let t=!this.islike;(0,u.Oq)(this.nowSongDetail.id,t).then((e=>{this.getLikSongListBy(),1==t?this.$message({message:"已添加到我喜欢的音乐",type:"success",center:!0}):this.$message({message:"取消喜欢成功",type:"success",center:!0})}))},downloadCurrentMusic(){let t={url:this.songUrl,name:this.nowSongDetail.name+" - "+this.nowSongDetail.ar[0].name};this.$store.commit("updateDownloadMusicInfo",t)},getNowLyricBy(t){(0,u.gg)(t).then((t=>{if(t.data.nolyric)return;let e=t.data.lrc.lyric;this.formatLyric(e),this.$store.dispatch("saveCurrentLyric",this.formatlyric)}))},formatLyric(t){let e=t.split("\n");for(let s=0;s<e.length;s++){let t=e[s],i=t.split("]"),n=i.pop();i.forEach(((t,e)=>{let s={},i=t.substr(1,t.length-1).split(":"),o=60*i[0]+Math.ceil(i[1]);0!==n.trim().length&&(s.time=o,s.text=n,this.formatlyric.push(s))}))}this.formatlyric.sort(((t,e)=>t.time-e.time))}},watch:{nowSongDetail(){this.isLikeNowSong()},likeSongIds(){this.isLikeNowSong()},playingList(t){0==t.length&&(this.removeItem("songProgress"),this.songProgress=0,this.removeItem("totalTime"),this.totalTime="00:00")},nowSongDetail(){0!=Object.keys(this.nowSongDetail).length&&(this.formatlyric=[],this.getNowLyricBy(this.nowSongDetail.id),this.$store.commit("saveCurrentRow",null))}}},ct=lt,ut=(0,v.Z)(ct,E,F,!1,null,"3632d584",null),dt=ut.exports,ht={name:"app",components:{Top:k,Index:A,Foot:dt}},gt=ht,pt=(0,v.Z)(gt,a,r,!1,null,null,null),mt=pt.exports,ft=VueRouter,vt=s.n(ft);o().use(vt());const yt=vt().prototype.push;vt().prototype.push=function(t){return yt.call(this,t).catch((t=>t))};const St=new(vt())({mode:"hash",routes:[{path:"/",redirect:"/discovery"},{path:"/discovery",component:()=>Promise.resolve().then(s.bind(s,9439))},{path:"/playlists",component:()=>s.e(729).then(s.bind(s,4729))},{path:"/songs",component:()=>s.e(659).then(s.bind(s,8659))},{path:"/mvs",component:()=>s.e(591).then(s.bind(s,7591))},{path:"/result",component:()=>s.e(766).then(s.bind(s,766))},{path:"/playlist",component:()=>s.e(712).then(s.bind(s,2712))},{path:"/mv",component:()=>s.e(54).then(s.bind(s,4054))},{path:"/leaderboard",component:()=>s.e(320).then(s.bind(s,1625))},{path:"/artists",component:()=>s.e(804).then(s.bind(s,9804))},{path:"/artist",component:()=>s.e(154).then(s.bind(s,154))},{path:"/login",component:()=>s.e(123).then(s.bind(s,4123))},{path:"/userInfo",component:()=>s.e(694).then(s.bind(s,3694))}]});var wt=St,Ct={filters:{LocaleDateString(t){if(!t)return"";let e=new Date(t);return e.toLocaleDateString()+" "},formatDuration(t){let e=Math.floor(t/1e3/60).toString().padStart(2,"0"),s=Math.floor(t%60).toString().padStart(2,"0");return e+":"+s},LocaleString(t){if(!t)return"";let e=new Date(t);return e.toLocaleString()},ellipsisPlayVolume(t){return t<1e4?t:t<1e8?parseInt(t/1e4)+"万":parseInt(t/1e8)+"亿"}}};const bt={isLogin:!!sessionStorage.getItem("isLogin")&&JSON.parse(sessionStorage.getItem("isLogin")),token:sessionStorage.getItem("token")?JSON.parse(sessionStorage.getItem("token")):null,cookie:sessionStorage.getItem("cookie")?JSON.parse(sessionStorage.getItem("cookie")):null,userInfo:sessionStorage.getItem("userInfo")?JSON.parse(sessionStorage.getItem("userInfo")):{username:"",avater:"",userid:""},userSongList:localStorage.getItem("userSongList")?JSON.parse(localStorage.getItem("userSongList")):[],likeSongIds:localStorage.getItem("likeSongIds")?JSON.parse(localStorage.getItem("likeSongIds")):[],userFollowsList:[],subAlbumlist:[],subSingerlist:[],subMvlist:[],loginStatus:!1,showLogin:!1,navPhoneOpen:!1,isPlaying:!1,downloadMusicInfo:{},isShowSongDetail:!1,showFloatLyric:!1,currentLyric:[],songUrl:" ",nowSongDetail:localStorage.getItem("nowSongDetail")?JSON.parse(localStorage.getItem("nowSongDetail")):{},playingList:localStorage.getItem("playingList")?JSON.parse(localStorage.getItem("playingList")):[],historyPlay:localStorage.getItem("historyPlay")?JSON.parse(localStorage.getItem("historyPlay")):[],currentSecond:localStorage.getItem("currentSecond")?JSON.parse(localStorage.getItem("currentSecond")):0,currentRow:localStorage.getItem("currentRow")?JSON.parse(localStorage.getItem("currentRow")):0};var kt=bt;const Lt={updateLogin(t,e){t.isLogin=e,sessionStorage.setItem("isLogin",JSON.stringify(t.isLogin))},saveUserInfo(t,e){t.userInfo=e},saveUserSongList(t,e){t.userSongList=e},saveUserFollowsList(t,e){t.userFollowsList=e},saveFavoriteAlbum(t,e){t.subAlbumlist=e},saveFavoriteSinger(t,e){t.subSingerlist=e},saveFavoriteMv(t,e){t.subMvlist=e},updataNavPhone(t,e){t.navPhoneOpen=e},saveLikeSongIds(t,e){t.likeSongIds=e,localStorage.setItem("likeSongIds",JSON.stringify(t.likeSongIds))},changePlayState(t,e){t.isPlaying=e},saveSongUrl(t,e){t.songUrl=e},saveSongDetail(t,e){t.nowSongDetail=e,localStorage.setItem("nowSongDetail",JSON.stringify(t.nowSongDetail));let s=t.historyPlay.findIndex((t=>t.id==e.id));-1==s&&(t.historyPlay.unshift(e),localStorage.setItem("historyPlay",JSON.stringify(t.historyPlay)))},addPlayinglist(t,e){let s=t.playingList.findIndex((t=>t.id==e.id));-1==s&&(t.playingList.unshift(e),localStorage.setItem("playingList",JSON.stringify(t.playingList)))},addAllSong(t,e){t.playingList=e,localStorage.setItem("playingList",JSON.stringify(t.playingList))},deleteSong(t,e){let s=t.playingList.findIndex((t=>e==t.id));t.playingList.splice(s,1),localStorage.setItem("playingList",JSON.stringify(t.playingList))},deleteAll(t){t.playingList=[],t.songUrl="",t.nowSongDetail={},t.isPlaying=!1,localStorage.removeItem("playingList"),localStorage.removeItem("nowSongDetail"),localStorage.removeItem("currentRow")},deleteAllHistory(t){t.historyPlay=[],localStorage.setItem("historyPlay",JSON.stringify(t.historyPlay))},deleteHistory(t,e){let s=t.historyPlay.findIndex((t=>e==t.id));t.historyPlay.splice(s,1),localStorage.setItem("historyPlay",JSON.stringify(t.historyPlay))},showSongDetail(t){t.isShowSongDetail=!t.isShowSongDetail},saveCurrentSeconds(t,e){t.currentSecond=e,localStorage.setItem("currentSecond",JSON.stringify(t.currentSecond))},saveCurrentRow(t,e){t.currentRow=e,localStorage.setItem("currentRow",JSON.stringify(t.currentRow))},saveCurrentLyric(t,e){t.currentLyric=e},showFloatLyric(t){t.showFloatLyric=!t.showFloatLyric},updateDownloadMusicInfo(t,e){t.downloadMusicInfo=e},updataUsrInfo(t,e){t.userInfo=e,sessionStorage.setItem("userInfo",JSON.stringify(t.userInfo))},updataToken(t,e){t.token=e,sessionStorage.setItem("token",JSON.stringify(t.token))},updataCookie(t,e){t.cookie=e,sessionStorage.setItem("cookie",JSON.stringify(t.cookie)),document.cookie=t.cookie}};var _t=Lt;const Pt={updateLogin({commit:t},e){t("updateLogin",e)},saveUserInfo({commit:t},e){t("saveUserInfo",e)},saveUserSongList({commit:t},e){t("saveUserSongList",e)},saveUserFollowsList({commit:t},e){t("saveUserFollowsList",e)},saveFavoriteAlbum({commit:t},e){t("saveFavoriteAlbum",e)},saveFavoriteSinger({commit:t},e){t("saveFavoriteSinger",e)},saveFavoriteMv({commit:t},e){t("saveFavoriteMv",e)},saveLikeSongIds({commit:t},e){t("saveLikeSongIds",e)},changeNavPhone({commit:t},e){t("updataNavPhone",e)},changePlayState({commit:t},e){t("changePlayState",e)},saveSongUrl({commit:t},e){t("saveSongUrl",e)},saveSongDetail({commit:t},e){t("saveSongDetail",e)},addPlayinglist({commit:t},e){t("addPlayinglist",e)},addAllSong({commit:t},e){t("addAllSong",e)},deleteSong({commit:t},e){t("deleteSong",e)},deleteAll({commit:t}){t("deleteAll")},deleteAllHistory({commit:t}){t("deleteAllHistory")},deleteHistory({commit:t},e){t("deleteHistory",e)},saveCurrentSeconds({commit:t},e){t("saveCurrentSeconds",e)},saveCurrentLyric({commit:t},e){t("saveCurrentLyric",e)}};var It=Pt;const xt=t=>t.isLogin,$t=t=>t.userInfo,Bt=t=>t.userSongList,Dt=t=>t.userFollowsList,Nt=t=>t.subAlbumlist,Tt=t=>t.subSingerlist,Mt=t=>t.subMvlist,Ot=t=>t.likeSongIds,At=t=>t.navPhoneOpen,Et=t=>t.isPlaying,Ft=t=>t.songUrl,Ut=t=>t.downloadMusicInfo,Rt=t=>t.nowSongDetail,zt=t=>t.playingList,Vt=t=>t.historyPlay,jt=t=>t.isShowSongDetail,Ht=t=>t.currentSecond,Jt=t=>t.currentLyric,qt=t=>t.currentRow,Zt=t=>t.showFloatLyric;o().use(h());var Gt=new(h().Store)({state:kt,mutations:_t,actions:It,getters:i}),Kt=s(2228),Qt=s(5959),Xt=s.n(Qt);wt.afterEach(((t,e,s)=>{document.querySelector(".index-contain .main").scrollTop=0})),o().use(Kt.ZP,{preLoad:1.3,error:s.e(67).then(s.t.bind(s,8067,17)),loading:"https://i0.hdslb.com/bfs/article/9b019fed41a99f4cdd0856122da95c859e30889f.gif@!web-article-pic.webp",attempt:3}),o().use(Xt()),o().prototype.$ELEMENT={size:"small",zIndex:3e3},o().mixin(Ct),o().config.productionTip=!1,o().prototype.$Bus=new(o()),o().prototype.setItem=z,o().prototype.getItem=V,o().prototype.removeItem=j,new(o())({render:t=>t(mt),el:"#app",router:wt,store:Gt}).$mount("#app")},7496:function(t,e,s){s.d(e,{Ik:function(){return I},pK:function(){return g},GL:function(){return U},hE:function(){return b},Bf:function(){return T},Qh:function(){return z},Dh:function(){return d},mo:function(){return h},td:function(){return N},uS:function(){return v},if:function(){return $},Oq:function(){return R},ix:function(){return O},JC:function(){return A},Ff:function(){return F},gg:function(){return x},Uw:function(){return P},QD:function(){return S},Tz:function(){return L},E4:function(){return w},y7:function(){return f},Db:function(){return m},AL:function(){return p},OF:function(){return k},jr:function(){return B},GB:function(){return D},tQ:function(){return E},FR:function(){return _},wj:function(){return M},oN:function(){return C},RI:function(){return y}});var i=axios,n=s.n(i),o=s(5959),a=s(9879),r=s.n(a);let l="https://api.music.areschang.top/";const c=n().create({baseURL:l,timeout:5e3,changeOrigin:!0,withCredentials:!1,XMLHttpRequest:!0});c.interceptors.request.use((t=>(r().start(),t))),c.interceptors.response.use((t=>(r().done(),t))),c.interceptors.response.use((t=>200==t.status?Promise.resolve(t):Promise.reject(t)),(t=>{t&&(0,o.Message)({type:"error",message:"API接口出了点问题~ 请重新刷新~ ",showClose:!0})}));var u=c;function d(t){return u({url:"/top/song",method:"get",params:t})}function h(t){return u({url:"/song/url",method:"get",params:t})}function g(){return u({url:"/banner",method:"get"})}function p(t){return u({url:"/personalized",method:"get",params:t})}function m(t){return u({url:"/personalized/newsong",method:"get",params:{limit:t}})}function f(t){return u({url:"/personalized/mv",method:"get",params:{limit:t}})}function v(t){return u({url:"/top/playlist/highquality",method:"get",params:t})}function y(t){return u({url:"/top/playlist",method:"get",params:t})}function S(t){return u({url:"/mv/all",method:"get",params:t})}function w(t){return u({url:"/playlist/detail",method:"get",params:t})}function C(t){return u({url:"/song/detail",method:"get",params:t})}function b(t,e){return u({url:"/comment/"+e,method:"get",params:t})}function k(t){return u({url:"/cloudsearch",method:"get",params:t})}function L(t){return u({url:"/mv/url",method:"get",params:t})}function _(t){return u({url:"/simi/mv",method:"get",params:t})}function P(t){return u({url:"/mv/detail",method:"get",params:t})}function I(t,e=""){let s=""==e?"/artists":"/artist/"+e;return"simi"==e&&(s="/simi/artist"),u({url:s,method:"get",params:t})}function x(t){return u({url:"/lyric",method:"get",params:{id:t}})}function $(){return u({url:"/search/hot/detail",method:"get"})}function B(){return u({url:"/search/default",method:"get"})}function D(t){return u({url:"/search/search/suggest",method:"get",params:t})}function N(){return u({url:"/toplist",method:"get"})}function T(t){return u({url:"/artist/list",method:"get",params:t})}function M(t){return u({url:"/artists",method:"get",params:t})}function O(t){return u({url:"/login/cellphone",method:"post",params:t})}function A(t){return u({url:"/login/cellphone",method:"post",params:t})}function E(t){return u({url:"/captcha/sent",method:"post",params:t})}function F(){return u({url:"/login/status"})}function U(t){return u({url:"/check/music",params:{id:t}})}function R(t,e){return u({url:"/like",params:{id:t,like:e,timestamp:Date.parse(new Date)}})}function z(t){return u({url:"/likelist",params:{uid:t,timestamp:Date.parse(new Date)}})}},5959:function(t){t.exports=ELEMENT},6294:function(t){t.exports=Vuex}},e={};function s(i){var n=e[i];if(void 0!==n)return n.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(e,i,n,o){if(!i){var a=1/0;for(u=0;u<t.length;u++){i=t[u][0],n=t[u][1],o=t[u][2];for(var r=!0,l=0;l<i.length;l++)(!1&o||a>=o)&&Object.keys(s.O).every((function(t){return s.O[t](i[l])}))?i.splice(l--,1):(r=!1,o<a&&(a=o));if(r){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[i,n,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};s.t=function(i,n){if(1&n&&(i=this(i)),8&n)return i;if("object"===typeof i&&i){if(4&n&&i.__esModule)return i;if(16&n&&"function"===typeof i.then)return i}var o=Object.create(null);s.r(o);var a={};t=t||[null,e({}),e([]),e(e)];for(var r=2&n&&i;"object"==typeof r&&!~t.indexOf(r);r=e(r))Object.getOwnPropertyNames(r).forEach((function(t){a[t]=function(){return i[t]}}));return a["default"]=function(){return i},s.d(o,a),o}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.f={},s.e=function(t){return Promise.all(Object.keys(s.f).reduce((function(e,i){return s.f[i](t,e),e}),[]))}}(),function(){s.u=function(t){return"js/"+t+"."+{54:"a189c8f9",67:"c3755de4",123:"b4ee7eb2",154:"83069bea",320:"685a382d",591:"c2c2817d",659:"c3808683",694:"b4df2b2b",712:"94266834",729:"acce19b1",766:"10d26f5f",804:"93f2e741"}[t]+".js"}}(),function(){s.miniCssF=function(t){return"css/"+t+"."+{54:"700bb822",123:"240d49f6",154:"876a860b",320:"d0d5cd4d",591:"6b4ab595",659:"82b47b68",712:"12462290",729:"8a11a4e4",766:"73370cec",804:"70886910"}[t]+".css"}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="cloud-music:";s.l=function(i,n,o,a){if(t[i])t[i].push(n);else{var r,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==e+o){r=d;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,s.nc&&r.setAttribute("nonce",s.nc),r.setAttribute("data-webpack",e+o),r.src=i),t[i]=[n];var h=function(e,s){r.onerror=r.onload=null,clearTimeout(g);var n=t[i];if(delete t[i],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((function(t){return t(s)})),e)return e(s)},g=setTimeout(h.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=h.bind(null,r.onerror),r.onload=h.bind(null,r.onload),l&&document.head.appendChild(r)}}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p=""}(),function(){var t=function(t,e,s,i){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var o=function(o){if(n.onerror=n.onload=null,"load"===o.type)s();else{var a=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=r,n.parentNode.removeChild(n),i(l)}};return n.onerror=n.onload=o,n.href=e,document.head.appendChild(n),n},e=function(t,e){for(var s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var n=s[i],o=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(o===t||o===e))return n}var a=document.getElementsByTagName("style");for(i=0;i<a.length;i++){n=a[i],o=n.getAttribute("data-href");if(o===t||o===e)return n}},i=function(i){return new Promise((function(n,o){var a=s.miniCssF(i),r=s.p+a;if(e(a,r))return n();t(i,r,n,o)}))},n={143:0};s.f.miniCss=function(t,e){var s={54:1,123:1,154:1,320:1,591:1,659:1,712:1,729:1,766:1,804:1};n[t]?e.push(n[t]):0!==n[t]&&s[t]&&e.push(n[t]=i(t).then((function(){n[t]=0}),(function(e){throw delete n[t],e})))}}(),function(){var t={143:0};s.f.j=function(e,i){var n=s.o(t,e)?t[e]:void 0;if(0!==n)if(n)i.push(n[2]);else{var o=new Promise((function(s,i){n=t[e]=[s,i]}));i.push(n[2]=o);var a=s.p+s.u(e),r=new Error,l=function(i){if(s.o(t,e)&&(n=t[e],0!==n&&(t[e]=void 0),n)){var o=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;r.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",r.name="ChunkLoadError",r.type=o,r.request=a,n[1](r)}};s.l(a,l,"chunk-"+e,e)}},s.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,o,a=i[0],r=i[1],l=i[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(l)var u=l(s)}for(e&&e(i);c<a.length;c++)o=a[c],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(u)},i=self["webpackChunkcloud_music"]=self["webpackChunkcloud_music"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(7662)}));i=s.O(i)})();
//# sourceMappingURL=app.5ff524ae.js.map