"use strict";(self["webpackChunkcloud_music"]=self["webpackChunkcloud_music"]||[]).push([[289],{3289:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-container"},[a("div",{staticClass:"left"},[a("img",{attrs:{src:t.pic,alt:""}})]),a("div",{staticClass:"right"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"密码登录",name:"login-one"}},[a("form",{attrs:{action:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"tel",attrs:{type:"text",placeholder:"请输入手机号",oninput:"value=value.replace(/^\\.+|[^\\d.]/g,'')"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),a("div",{staticClass:"code-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"code",attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),a("div",{staticClass:"btn-wrap"},[a("div",{staticClass:"btn-register"},[a("el-button",[t._v("注册")])],1),a("div",{staticClass:"btn-login"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.loginByPhone()}}},[t._v("登录")])],1)])]),a("el-tab-pane",{attrs:{label:"短信登录",name:"login-two"}},[a("form",{attrs:{action:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"tel",attrs:{type:"text",placeholder:"请输入手机号",oninput:"value=value.replace(/^\\.+|[^\\d.]/g,'')"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),a("div",{staticClass:"code-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.verification,expression:"verification"}],staticClass:"code",attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:t.verification},on:{input:function(e){e.target.composing||(t.verification=e.target.value)}}}),a("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){return t.sentLoginCode()}}},[t._v("获取验证码")])],1)]),a("div",{staticClass:"btn-wrap"},[a("div",{staticClass:"btn-register"},[a("el-button",[t._v("注册")])],1),a("div",{staticClass:"btn-login"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.loginByPhoneCode()}}},[t._v("登录")])],1)])])],1),t._m(0)],1)])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"other-wrap"},[a("span",[t._v("其他方式登录")])])}],n=a(7871),i=a(2741),r={data(){return{activeName:"login-one",phone:"17858756825",password:"jdm123123",verification:"",pic:"https://www.xdocin.com/xdoc?_key=4usklvd325aqbbzk2tcofoquoe&_func=down&_dir=login.jpg",usr:{usrname:"",avater:"",usrid:"",level:""}}},computed:{...(0,i.rn)(["usrInfo"])},created(){},methods:{...(0,i.OI)(["updataUsrInfo"]),handleClick(t){},loginByPhone(){let t={phone:this.phone,password:this.password};(0,n.ix)(t).then((t=>{200==t.data.code?(this.usr.usrname=t.data.profile.nickname,this.usr.avater=t.data.profile.avatarUrl,this.usr.usrid=t.data.profile.userId,this.$store.commit("updataUsrInfo",this.usr),this.success()):console.log("登录失败，密码或者账号错误"),console.log("手机密码登录",t)}))},loginByPhoneCode(){let t={phone:this.phone,captcha:this.verifiation};(0,n.JC)(t).then((t=>{console.log("手机验证码登录",t)}))},sentLoginCode(){let t={phone:this.phone};(0,n.tQ)(t).then((t=>{console.log("发送验证码",t)}))},loginStatus(){(0,n.Ff)().then((t=>{200==t.data.data.code&&this.$router.go(0)}))},success(){this.$message({message:"登录成功",type:"success"})}}},l=r,c=a(3736),p=(0,c.Z)(l,s,o,!1,null,null,null),u=p.exports}}]);
//# sourceMappingURL=289.9ba84123.js.map