"use strict";(self["webpackChunkcloud_music"]=self["webpackChunkcloud_music"]||[]).push([[289],{3289:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-container"},[a("div",{staticClass:"left"},[a("img",{attrs:{src:t.pic,alt:""}})]),a("div",{staticClass:"right"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"密码登录",name:"login-one"}},[a("form",{attrs:{action:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"tel",attrs:{type:"text",placeholder:"请输入手机号",oninput:"value=value.replace(/^\\.+|[^\\d.]/g,'')"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),a("div",{staticClass:"code-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"code",attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),a("div",{staticClass:"btn-wrap"},[a("div",{staticClass:"btn-register"},[a("el-button",[t._v("注册")])],1),a("div",{staticClass:"btn-login"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.loginByPhone()}}},[t._v("登录")])],1)])]),a("el-tab-pane",{attrs:{label:"短信登录",name:"login-two"}},[a("form",{attrs:{action:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"tel",attrs:{type:"text",placeholder:"请输入手机号",oninput:"value=value.replace(/^\\.+|[^\\d.]/g,'')"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),a("div",{staticClass:"code-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.verification,expression:"verification"}],staticClass:"code",attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:t.verification},on:{input:function(e){e.target.composing||(t.verification=e.target.value)}}}),a("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){return t.sentLoginCode()}}},[t._v("获取验证码")])],1)]),a("div",{staticClass:"btn-wrap"},[a("div",{staticClass:"btn-register"},[a("el-button",[t._v("注册")])],1),a("div",{staticClass:"btn-login"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.loginByPhoneCode()}}},[t._v("登录")])],1)])])],1),t._m(0)],1)])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"other-wrap"},[a("span",[t._v("其他方式登录")])])}],s=a(4367),i=a(4859),r=a(2741),l={data:function(){return{activeName:"login-one",phone:"17858756825",password:"jdm123123",verification:"",pic:"https://www.xdocin.com/xdoc?_key=4usklvd325aqbbzk2tcofoquoe&_func=down&_dir=login.jpg",usr:{usrname:"",avater:"",usrid:"",level:""}}},computed:(0,s.Z)({},(0,r.rn)(["usrInfo"])),created:function(){},methods:(0,s.Z)((0,s.Z)({},(0,r.OI)(["updataUsrInfo"])),{},{handleClick:function(t){},loginByPhone:function(){var t=this,e={phone:this.phone,password:this.password};(0,i.ix)(e).then((function(e){200==e.data.code?(t.usr.usrname=e.data.profile.nickname,t.usr.avater=e.data.profile.avatarUrl,t.usr.usrid=e.data.profile.userId,t.$store.commit("updataUsrInfo",t.usr),t.success()):console.log("登录失败，密码或者账号错误"),console.log("手机密码登录",e)}))},loginByPhoneCode:function(){var t={phone:this.phone,captcha:this.verifiation};(0,i.JC)(t).then((function(t){console.log("手机验证码登录",t)}))},sentLoginCode:function(){var t={phone:this.phone};(0,i.tQ)(t).then((function(t){console.log("发送验证码",t)}))},loginStatus:function(){var t=this;(0,i.Ff)().then((function(e){200==e.data.data.code&&t.$router.go(0)}))},success:function(){this.$message({message:"登录成功",type:"success"})}})},c=l,u=a(3736),p=(0,u.Z)(c,n,o,!1,null,null,null),d=p.exports}}]);
//# sourceMappingURL=289-legacy.bc25e586.js.map