(function(){"use strict";var t={9439:function(t,e,n){n.r(e),n.d(e,{default:function(){return u}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"discovery-container"},[n("div",{staticClass:"banner-pc"},[n("el-carousel",{attrs:{interval:4e3,type:"card",height:"200px"}},t._l(t.banners,(function(e,i){return n("el-carousel-item",{key:i},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imageUrl,expression:"item.imageUrl"}],attrs:{alt:""},on:{click:function(n){return t.PlayBanner(e)}}}),n("h3",{staticClass:"medium"},[t._v(t._s(e))])])})),1)],1),n("div",{staticClass:"banner-phone"},[n("el-carousel",{attrs:{"indicator-position":"outside"}},t._l(t.banners,(function(e,i){return n("el-carousel-item",{key:i},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imageUrl,expression:"item.imageUrl"}],attrs:{alt:""},on:{click:function(n){return t.PlayBanner(e)}}}),n("h3",{staticClass:"medium"},[t._v(t._s(e))])])})),1)],1),n("div",{staticClass:"recommend"},[n("h3",{staticClass:"title"},[t._v("推荐歌单")]),n("div",{staticClass:"items"},t._l(t.list,(function(e,i){return n("div",{key:i,staticClass:"item"},[n("div",{staticClass:"img-wrap"},[n("div",{staticClass:"desc-wrap"},[n("span",{staticClass:"desc"},[t._v("播放量："+t._s(t._f("ellipsisPlayVolume")(e.playCount)))])]),n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"item.picUrl"}],attrs:{alt:""},on:{click:function(n){return t.toPlaylist(e.id)}}}),n("span",{staticClass:"iconfont icon-play",on:{click:function(n){return t.toPlaylist(e.id)}}})]),n("p",{staticClass:"name"},[t._v(t._s(e.name)+" ")])])})),0)]),n("div",{staticClass:"news"},[n("h3",{staticClass:"title"},[t._v("最新音乐")]),n("div",{staticClass:"items"},t._l(t.songs,(function(e,i){return n("div",{key:i,staticClass:"item",on:{dblclick:function(n){return t.PlayMusic(e)}}},[n("div",{staticClass:"img-wrap"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"item.picUrl"}],attrs:{alt:""}}),n("span",{staticClass:"iconfont icon-play",on:{click:function(n){return t.PlayMusic(e)}}})]),n("div",{staticClass:"song-wrap"},[n("div",{staticClass:"song-name"},[t._v(t._s(e.name))]),n("div",{staticClass:"singer"},[t._v(t._s(e.song.artists[0].name))])])])})),0)]),n("div",{staticClass:"mvs"},[n("h3",{staticClass:"title"},[t._v("MV推荐")]),n("div",{staticClass:"items"},t._l(t.mvs,(function(e,i){return n("div",{key:i,staticClass:"item",on:{click:function(n){return t.toMvDetail(e.id)}}},[n("div",{staticClass:"img-wrap"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"item.picUrl"}],attrs:{alt:""}}),n("span",{staticClass:"iconfont icon-play icon1"}),n("div",{staticClass:"num-wrap"},[n("span",{staticClass:"iconfont icon-play icon2"}),n("div",{staticClass:"num"},[t._v(t._s(e.playCount))])])]),n("div",{staticClass:"info-wrap"},[n("div",{staticClass:"name"},[t._v(t._s(e.name))]),n("div",{staticClass:"singer"},[t._v(t._s(e.artistName))])])])})),0)])])},s=[],o=n(7496),a={name:"discovery",data:function(){return{banners:[],list:[],songs:[],mvs:[],newSongLimit:15}},created:function(){var t=this;(0,o.pK)().then((function(e){t.banners=e.data.banners})).then((function(){t.loading=!1})),(0,o.AL)({limit:15}).then((function(e){t.list=e.data.result})),(0,o.Db)(this.newSongLimit).then((function(e){t.songs=e.data.result})),(0,o.y7)().then((function(e){t.mvs=e.data.result}))},methods:{PlayMusic:function(t){var e=this;(0,o.GL)(t.id).then((function(n){(0,o.mo)({id:t.id}).then((function(t){e.$store.dispatch("saveSongUrl",t.data.data[0].url)}));var i={ids:t.id};(0,o.oN)(i).then((function(t){e.$store.dispatch("changePlayState",!0),e.$store.dispatch("saveSongDetail",t.data.songs[0]),e.$store.dispatch("addPlayinglist",t.data.songs[0])}))})).catch((function(t){console.log(t),e.$message({message:"暂时无法播放，换首试试",type:"warning",center:!0})}))},PlayBanner:function(t){var e=this;if(0!=t.targetId)if(1==t.targetType||300==t.typeTitle){(0,o.mo)({id:t.targetId}).then((function(t){e.$store.dispatch("saveSongUrl",t.data.data[0].url)})).catch((function(t){return t}));var n={ids:t.targetId};(0,o.oN)(n).then((function(t){e.$store.dispatch("saveSongDetail",t.data.songs[0]),e.$store.dispatch("addPlayinglist",t.data.songs[0])})).catch((function(t){return t}))}else{if(1e3==t.targetType)return;if(10==t.targetType)return}},toPlaylist:function(t){this.$router.push("/playlist?q=".concat(t))},toMvDetail:function(t){this.$router.push("/mv?q=".concat(t))}}},r=a,c=n(3736),l=(0,c.Z)(r,i,s,!1,null,"265015c4",null),u=l.exports},7662:function(t,e,n){var i={};n.r(i),n.d(i,{currentLyric:function(){return Gt},currentRow:function(){return Kt},currentSecond:function(){return qt},downloadMusicInfo:function(){return Vt},historyPlay:function(){return Jt},isLogin:function(){return Nt},isPlaying:function(){return Rt},isShowSongDetail:function(){return Zt},likeSongIds:function(){return Ft},navPhoneOpen:function(){return Ut},nowSongDetail:function(){return jt},playingList:function(){return Ht},showFloatLyric:function(){return Qt},songUrl:function(){return zt},subAlbumlist:function(){return Ot},subMvlist:function(){return Et},subSingerlist:function(){return At},userFollowsList:function(){return Mt},userInfo:function(){return $t},userSongList:function(){return Tt}});n(6992),n(8674),n(9601),n(7727),n(1539),n(8783),n(3948);var s=Vue,o=n.n(s),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Top"),n("Index"),n("Foot")],1)},r=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("div",{staticClass:"header-title"},[n("h2",{on:{click:t.gohome}},[t._v("云音乐播放器By Alive")])]),n("div",{staticClass:"btns"},[n("i",{staticClass:"el-icon-arrow-left",on:{click:function(e){return t.go(-1)}}}),n("i",{staticClass:"el-icon-arrow-right",on:{click:function(e){return t.go(1)}}}),n("i",{staticClass:"el-icon-picture-outline",attrs:{id:"btbg"},on:{click:function(t){}}})]),n("div",[n("div",{staticClass:"input-box"},[n("el-input",{attrs:{placeholder:t.placeholder,"prefix-icon":"el-icon-search"},on:{focus:t.getSearchData,blur:t.outblur},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1),n("transition",{attrs:{name:"el-fade-in-linear"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showHot,expression:"showHot"}],ref:"hot",staticClass:"search-hot"},[n("el-scrollbar",{staticStyle:{height:"100%"}},[t.history.length?n("div",{staticClass:"history"},[n("span",{staticClass:"hot-title",staticStyle:{display:"inline-block","margin-right":"5px"}},[t._v("搜索历史")]),n("span",{staticClass:"iconfont icon-lajitong",staticStyle:{cursor:"pointer"},attrs:{title:"清空搜索历史"},on:{mousedown:function(e){return t.deleteHistory(0,!0)}}}),n("div",{staticClass:"history-wrap"},t._l(t.history,(function(e,i){return n("div",{key:i,staticClass:"history-item",on:{mousedown:function(n){return t.toHot(e)}}},[t._v(" "+t._s(e)+" "),n("span",{staticClass:"delete-btn",attrs:{title:"删除"},on:{mousedown:function(e){return e.stopPropagation(),t.deleteHistory(i,!1)}}},[t._v("×")])])})),0)]):t._e(),n("div",{staticClass:"hot-title"},[t._v("热搜榜")]),n("ul",t._l(t.hotData,(function(e,i){return n("li",{key:i,staticClass:"hot-item",on:{mousedown:function(n){return t.toHot(e.searchWord)}}},[n("div",{staticClass:"hot-index"},[t._v(t._s(i+1))]),n("div",{staticClass:"hot-info"},[n("div",{staticClass:"hot-top"},[n("div",{staticClass:"hot-name"},[t._v(t._s(e.searchWord))]),n("div",{staticClass:"hot-score"},[t._v(t._s(e.score))]),n("img",{directives:[{name:"show",rawName:"v-show",value:e.iconUrl&&5!=e.iconType,expression:"item.iconUrl && item.iconType != 5"}],staticClass:"hot-icon",attrs:{src:e.iconUrl}})]),n("div",{staticClass:"hot-content"},[t._v(t._s(e.content))])])])})),0)])],1)]),n("transition",{attrs:{name:"el-fade-in-linear"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isAdvice,expression:"isAdvice"}],staticClass:"search-hot"},[n("el-scrollbar",{staticStyle:{height:"100%"}},[n("ul",t._l(t.suggestionList.songs,(function(e,i){return n("li",{key:i,staticClass:"hot-item",on:{mousedown:function(n){return t.toHot(e.name)}}},[n("div",{staticClass:"hot-info"},[n("div",{staticClass:"hot-top"},[n("div",{staticClass:"hot-name"},[t._v(t._s(e.name))])])])])})),0)])],1)])],1),n("div",{staticClass:"sliderBar"},[n("el-slider",{attrs:{"format-tooltip":t.formatTooltip},model:{value:t.sliderValue,callback:function(e){t.sliderValue=e},expression:"sliderValue"}})],1),n("div",{staticClass:"userInfo-wrap"},[n("div",{staticClass:"avater"},[n("span",{directives:[{name:"show",rawName:"v-show",value:!t.isLogin,expression:"!isLogin"}],on:{click:function(e){return t.toLogin()}}},[t._v("登录")]),n("img",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],attrs:{src:t.userInfo.avater},on:{click:function(e){return t.toLogin()}}})]),n("div",{staticClass:"user-wrap"},[n("span",[t._v(t._s(t.userInfo.username))]),n("i",{staticClass:"el-icon-caret-bottom"})])]),n("div",{staticClass:"nav-phone-btn"},[n("i",{class:t.navPhoneOpen?"el-icon-s-fold":"el-icon-s-unfold",staticStyle:{"font-size":"20px",transition:".3s"},on:{click:function(e){return t.changeNavPhone()}}})])])},l=[],u=n(4367),d=(n(4603),n(8450),n(4916),n(8386),n(9714),n(7601),n(6699),n(2023),n(4765),n(561),n(7496)),h=n(6294),f=n.n(h),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.navPhoneOpen?"open":"close",attrs:{id:"nav-phone"}},[t._m(0),n("div",{staticClass:"site-data is-center"}),n("el-divider"),n("div",{staticClass:"menus_items"},[n("div",{staticClass:"menus_item",on:{click:function(e){return t.hideNav()}}},[n("i",{staticClass:"el-icon-headset"}),n("router-link",{attrs:{to:"/discovery"}},[n("span",{staticClass:"nav-router"},[t._v("发现音乐")])])],1),n("div",{staticClass:"menus_item",on:{click:function(e){return t.hideNav()}}},[n("i",{staticClass:"el-icon-trophy"}),n("router-link",{attrs:{to:"/playlists"}},[n("span",{staticClass:"nav-router"},[t._v("推荐歌单")])])],1),n("div",{staticClass:"menus_item",on:{click:function(e){return t.hideNav()}}},[n("i",{staticClass:"el-icon-star-off"}),n("router-link",{attrs:{to:"/songs"}},[n("span",{staticClass:"nav-router"},[t._v("最新音乐")])])],1),n("div",{staticClass:"menus_item",on:{click:function(e){return t.hideNav()}}},[n("i",{staticClass:"el-icon-film"}),n("router-link",{attrs:{to:"/mvs"}},[n("span",{staticClass:"nav-router"},[t._v("最新MV")])])],1),n("div",{staticClass:"menus_item",on:{click:function(e){return t.hideNav()}}},[n("i",{staticClass:"el-icon-s-data"}),n("router-link",{attrs:{to:"/leaderboard"}},[n("span",{staticClass:"nav-router"},[t._v("排行榜")])])],1),n("div",{staticClass:"menus_item",on:{click:function(e){return t.hideNav()}}},[n("i",{staticClass:"el-icon-mic"}),n("router-link",{attrs:{to:"/artists"}},[n("span",{staticClass:"nav-router"},[t._v("歌手")])])],1)])],1)},p=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"avatar-img is-center"},[n("img",{attrs:{src:"https://pic.imgdb.cn/item/630b81ff16f2c2beb1982bcc.jpg",alt:""}})])}],m={name:"NavPhone",computed:(0,u.Z)({},(0,h.mapState)(["userInfo","isLogin","token","navPhoneOpen"])),methods:{hideNav:function(){this.$store.dispatch("changeNavPhone",!1)}}},v=m,y=n(3736),S=(0,y.Z)(v,g,p,!1,null,null,null),w=S.exports,C={name:"Top",components:{NavPhone:w},data:function(){return{searchValue:"",showHot:!1,hotData:[],history:[],placeholder:"",isAdvice:!1,suggestionList:[],bg:"",sliderValue:35}},computed:(0,u.Z)({},(0,h.mapState)(["userInfo","isLogin","token","navPhoneOpen"])),created:function(){this.getDefaultKeywords()},watch:{searchValue:function(){this.getSuggestion()},sliderValue:function(){this.changeOpacity()}},methods:{gohome:function(){"/discovery"!=this.$route.path&&this.$router.push("/discovery")},go:function(t){this.$router.go(t)},toLogin:function(){this.isLogin||this.token||localStorage.getItem("token")?this.$router.push("/userInfo"):this.$router.push("/login")},changeNavPhone:function(){var t=!this.navPhoneOpen;this.$store.dispatch("changeNavPhone",t)},changeOpacity:function(){var t=document.createElement("style"),e=document.createTextNode("body::after{opacity: ".concat(this.sliderValue/100,";}"));t.appendChild(e),document.body.appendChild(t)},prevent:function(){event.preventDefault()},showError:function(){this.$message({showClose:!0,message:"请输入内容",type:"error"})},isNull:function(t){if(""==t)return!0;var e="^[ ]+$",n=new RegExp(e);return n.test(t)},outblur:function(){this.isAdvice=!1,this.showHot=!1},search:function(){this.isNull(this.searchValue)?this.showError():(this.$router.push("/result?q=".concat(this.searchValue)),this.history.includes(this.searchValue)||this.history.push(this.searchValue),this.outblur())},getDefaultKeywords:function(){var t=this;(0,d.jr)().then((function(e){t.placeholder=e.data.data.showKeyword}))},getSuggestion:function(){var t=this;this.isAdvice=!0;var e={keywords:this.searchValue};""!=this.searchValue?(0,d.GB)(e).then((function(e){t.suggestionList=e.data.result})):this.isAdvice=!1},getSearchData:function(){var t=this;""!=this.searchValue?this.getSuggestion():(this.showHot=!0,0==this.hotData.length&&(0,d["if"])().then((function(e){console.log("获取热搜:",e),t.hotData=e.data.data})))},toHot:function(t){this.searchValue=t,this.search()},deleteHistory:function(t,e){if(e)this.history=[];else for(var n=0;n<this.history.length;n++)n==t&&this.history.splice(n,1);event.preventDefault()},formatTooltip:function(t){return t/100}}},b=C,k=(0,y.Z)(b,c,l,!1,null,"8dc9932c",null),L=k.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"index-contain"},[n("el-backtop",{attrs:{target:".index-contain .main",right:40,bottom:100,id:"playBackTop"}}),n("div",{staticClass:"nav"},[n("li",{staticClass:"nav-list"},[n("i",{staticClass:"el-icon-headset"}),n("router-link",{attrs:{to:"/discovery"}},[n("span",{staticClass:"nav-router"},[t._v("发现音乐")])])],1),n("li",{staticClass:"nav-list"},[n("i",{staticClass:"el-icon-trophy"}),n("router-link",{attrs:{to:"/playlists"}},[n("span",{staticClass:"nav-router"},[t._v("推荐歌单")])])],1),n("li",{staticClass:"nav-list"},[n("i",{staticClass:"el-icon-star-off"}),n("router-link",{attrs:{to:"/songs"}},[n("span",{staticClass:"nav-router"},[t._v("最新音乐")])])],1),n("li",{staticClass:"nav-list"},[n("i",{staticClass:"el-icon-film"}),n("router-link",{attrs:{to:"/mvs"}},[n("span",{staticClass:"nav-router"},[t._v("最新MV")])])],1),n("li",{staticClass:"nav-list"},[n("i",{staticClass:"el-icon-s-data"}),n("router-link",{attrs:{to:"/leaderboard"}},[n("span",{staticClass:"nav-router"},[t._v("排行榜")])])],1),n("li",{staticClass:"nav-list"},[n("i",{staticClass:"el-icon-mic"}),n("router-link",{attrs:{to:"/artists"}},[n("span",{staticClass:"nav-router"},[t._v("歌手")])])],1)]),n("div",{staticClass:"nav-sec"},[n("transition",{attrs:{name:"el-fade-in-linear"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.navPhoneOpen,expression:"navPhoneOpen"}],attrs:{id:"menu-mask"},on:{click:function(e){return t.hideNav()}}})]),n("NavPhone")],1),n("div",{staticClass:"Lyric-wrap"},[n("transition",{attrs:{name:"el-fade-in-linear"}},[n("FloatLyric",{directives:[{name:"show",rawName:"v-show",value:t.showFloatLyric,expression:"showFloatLyric"}]})],1)],1),n("div",{staticClass:"main"},[n("div",{staticClass:"container"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view",{key:t.key})],1)],1)])],1)},P=[],I=(n(8309),n(9439)),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"lyric",staticClass:"float-lyric",class:{bg:t.isShowBg},on:{mousedown:t.dragLyric,mouseover:function(e){t.isShowBg=!0},mouseleave:function(e){t.isShowBg=!1}}},[n("div",{staticClass:"lyric"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowBg,expression:"isShowBg"}],staticClass:"close"},[n("span",{staticClass:"iconfont icon-guanbi1",on:{click:t.closeFloatLyric}})]),0==t.currentLyric.length?n("div",{staticClass:"nolyric"},[t._v("暂无歌词")]):n("div",{ref:"floatLyric",attrs:{id:"floatLyric"}},t._l(t.currentLyric,(function(e,i){return n("div",{key:i,staticClass:"lyricRow",class:{currentActive:t.currentRow==i}},[n("span",[t._v(t._s(e.text.trim()))])])})),0)])])},B=[],D=(n(4747),{name:"Floatlyric",data:function(){return{currentRow:"",isShowBg:!0}},computed:(0,u.Z)({},(0,h.mapGetters)(["currentLyric","currentSecond"])),methods:{closeFloatLyric:function(){this.$store.commit("showFloatLyric")},dragLyric:function(t){var e=t.pageX-this.$refs.lyric.offsetLeft,n=t.pageY-this.$refs.lyric.offsetTop,i=this.$refs.lyric;function s(t){i.style.left=t.pageX-e+"px",i.style.top=t.pageY-n+"px"}document.addEventListener("mousemove",s),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",s)}))}},watch:{currentSecond:function(t){var e=this;this.currentLyric.forEach((function(n,i){Math.ceil(t)>=n.time&&(e.$refs.floatLyric.style.top=40*-i+"px",e.currentRow=i)}))}}}),N=D,$=(0,y.Z)(N,x,B,!1,null,"4dab74ec",null),T=$.exports,M={name:"Index",components:{discovery:I["default"],FloatLyric:T,NavPhone:w},computed:(0,u.Z)((0,u.Z)((0,u.Z)({},(0,h.mapGetters)(["nowSongDetail","isShowSongDetail","showFloatLyric"])),(0,h.mapState)(["navPhoneOpen"])),{},{key:function(){return this.$route.name?this.$route.name+ +new Date:this.$route+ +new Date}}),data:function(){return{downloadMusicInfo:{name:"",url:""}}},methods:{hideNav:function(){this.$store.dispatch("changeNavPhone",!1)}}},O=M,A=(0,y.Z)(O,_,P,!1,null,"68d7ba39",null),E=A.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"foot-container",attrs:{id:"footer"}},[n("div",{staticClass:"player"},[n("audio",{ref:"audioplay",attrs:{id:"audio",autoplay:"",src:t.songUrl},on:{play:function(e){return t.changeState(!0)},pause:function(e){return t.changeState(!1)},loadedmetadata:t.onLoadedmetadata,timeupdate:t.onTimeupdate,ended:function(e){3==t.playModel?t.loopPlay():t.toggleSong(1)}}}),n("div",{staticClass:"left-cover-content"},[0!==Object.keys(t.nowSongDetail).length?n("div",{staticClass:"cover-content"},[n("div",{staticClass:"cover",on:{click:t.showSongDetail,mouseenter:function(e){t.showMask=!0},mouseleave:function(e){t.showMask=!1}}},[n("transition",{attrs:{name:"el-fade-in-linear"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showMask,expression:"showMask"}],staticClass:"mask-playicon",staticStyle:{cursor:"pointer",background:"transparent"}},[n("span",{class:t.isShowSongDetail?"iconfont icon-down-arrow":"iconfont icon-xiangshangjiantou"})])]),n("img",{class:{blur:t.showMask},attrs:{src:t.cover,alt:""}})],1),n("div",{staticClass:"songname"},[n("p",{staticStyle:{"padding-bottom":"5px"}},[t._v(t._s(t.nowSongDetail.name))]),n("p",{staticClass:"singer"},[t._v(t._s(t.nowSongDetail.ar[0].name))])]),n("div",{staticClass:"like-song",on:{click:t.likeNowSongBy}},[n("span",{class:t.islike?"iconfont icon-xihuan2":"iconfont icon-xihuan"})]),n("div",{staticClass:"download",attrs:{title:"下载"},on:{click:t.downloadCurrentMusic}},[n("span",{staticClass:"iconfont icon-xiazai"})])]):t._e(),0==Object.keys(t.nowSongDetail).length?n("div",{staticClass:"cover-content",on:{click:t.showSongDetail}},[t._m(0),n("div",{staticClass:"songname"},[t._v("暂无音乐")])]):t._e()]),n("div",{staticClass:"center-play-song"},[n("div",{staticClass:"change-play"},[n("span",{staticClass:"change-box",on:{click:function(e){return t.toggleSong(0)}}},[n("i",{staticClass:"iconfont icon-shangyiqu"})]),t.isPlaying?n("span",{staticClass:"play-box",on:{click:t.pauseMusic}},[n("i",{staticClass:"iconfont icon-pause"})]):n("span",{staticClass:"play-box",on:{click:t.playMusic}},[n("i",{staticClass:"iconfont icon-play"})]),n("span",{staticClass:"change-box",on:{click:function(e){return t.toggleSong(1)}}},[n("i",{staticClass:"iconfont icon-xiayiqu"})])]),n("div",{staticClass:"song-progress"},[n("span",{staticStyle:{cursor:"auto"}},[t._v(t._s(t.currentTime))]),n("div",{staticClass:"s-progress"},[n("Progress",{attrs:{"is-format-tooltip":!0,"format-tooltip":t.formatTooltip,showRadiusBtn:!1,disabled:0==t.playingList.length},on:{onChange:t.changeSongProgress},model:{value:t.songProgress,callback:function(e){t.songProgress=e},expression:"songProgress"}})],1),n("span",{staticStyle:{cursor:"auto"}},[t._v(t._s(t.totalTime))])]),n("div",{staticClass:"playmodel"},[1==t.playModel?n("el-tooltip",{attrs:{effect:"dark",content:"顺序播放",placement:"top"}},[1==t.playModel?n("span",{staticClass:"iconfont icon-orderplay",on:{click:function(e){return t.changePlayModel(2)}}}):t._e()]):t._e(),2==t.playModel?n("el-tooltip",{attrs:{effect:"dark",content:"随机播放",placement:"top"}},[2==t.playModel?n("span",{staticClass:"iconfont icon-random",on:{click:function(e){return t.changePlayModel(3)}}}):t._e()]):t._e(),3==t.playModel?n("el-tooltip",{attrs:{effect:"dark",content:"单曲循环",placement:"top"}},[3==t.playModel?n("span",{staticClass:"iconfont icon-danqu",on:{click:function(e){return t.changePlayModel(1)}}}):t._e()]):t._e(),n("span",{staticClass:"iconfont icon-cibiaoquanyi",on:{click:t.showFloatLyric}})],1)]),n("div",{staticClass:"right-voice"},[n("span",{staticClass:"mute"},[0==t.voiceProgress?n("i",{staticClass:"iconfont icon-jingyin",on:{click:t.cancelMute}}):n("i",{staticClass:"iconfont icon-laba",on:{click:t.muteVolume}})]),n("div",{staticClass:"v-progress"},[n("Progress",{attrs:{showRadiusBtn:!1,isActiveBar:!1},on:{onChange:t.changeVoiceProgress},model:{value:t.voiceProgress,callback:function(e){t.voiceProgress=e},expression:"voiceProgress"}})],1),n("div",{staticClass:"songplaylist"},[n("el-tooltip",{attrs:{effect:"dark",content:"播放列表",placement:"top"}},[n("span",{staticClass:"iconfont icon-songplaylist",on:{click:function(e){t.isShowDrawer=!t.isShowDrawer}}})])],1)]),n("transition",{attrs:{name:"playlist"}},[t.isShowDrawer?n("PlayingList",{on:{closePlayList:function(e){t.isShowDrawer=!1}}}):t._e()],1)],1)])},U=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cover"},[n("span",{staticClass:"iconfont icon-yinleyanzou"})])}],R=n(3796);n(7941),n(4553),n(3123),n(2707),n(3210),n(7327);function z(t){t=parseInt(t),t=t>1e4?Math.floor(t/1e3):Math.floor(t);var e=Math.floor(t/60),n=Math.floor(t%60);return e=e<10?"0"+e:e,n=n<10?"0"+n:n,e+":"+n}var V=n(9726);n(5306),n(8862),n(1637);var j=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},H=function(t,e){"object"===(0,V.Z)(e)&&(e=JSON.stringify(e)),window.localStorage.setItem(t,e)},J=function(t){var e=window.localStorage.getItem(t);try{return JSON.parse(e)}catch(n){return e}},Z=function(t){window.localStorage.removeItem(t)};var q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"progressBox",staticClass:"progressBox",style:t.progressBoxStyle,on:{mousemove:t.setTooltip,mouseleave:t.progressBoxLeave,click:t.changeProgressBar}},[n("div",{ref:"progressBar",staticClass:"progressBar",style:t.progressBarStyle},[t.isActiveBar?n("div",{staticClass:"activeBar"}):t._e()]),n("transition",{attrs:{name:"el-fade-in-linear"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showRadiusBtn?t.showRadiusBtn:t.hoverShowRadiusBtn,expression:"showRadiusBtn ? showRadiusBtn : hoverShowRadiusBtn"}],ref:"radiusBtn",staticClass:"radiusBtn",style:t.radiusBtnStyle,on:{mouseenter:t.radiusBtnHover,mouseleave:t.radiusBtnLeave,mousedown:t.dragProgressBar}})]),n("transition",{attrs:{name:"el-fade-in-linear"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showToolTip&&t.hoverShowToolTip,expression:"showToolTip && hoverShowToolTip"}],ref:"tooltip",staticClass:"tooltip",style:{bottom:t.progressSize+10+"px"}},[t._v(" "+t._s(t.tooltipTxt)+" ")])])],1)},G=[],K=(n(9653),{name:"Progress",props:{percent:{type:Number,default:0},progressSize:{type:[Number,String],default:6},showRadiusBtn:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},showToolTip:{type:Boolean,default:!0},isFormatTooltip:{type:Boolean,default:!1},formatTooltip:{type:Function},isActiveBar:{type:Boolean,default:!0}},data:function(){return{tooltipTxt:0,hoverShowRadiusBtn:!1,radiusBtnActive:!1,hoverShowToolTip:!1,isDrag:!1}},mounted:function(){this.setProgressBar(this.percent)},model:{prop:"percent",event:"onChange"},computed:{progressBoxStyle:function(){var t={height:"".concat(this.progressSize,"px"),borderRadius:"".concat(this.progressSize,"px"),cursor:this.disabled?"not-allowed":"pointer"};return t},progressBarStyle:function(){var t={borderRadius:"".concat(this.progressSize,"px"),transition:this.isDrag?"none":"all 0.3s ease-out",cursor:this.disabled?"not-allowed":"pointer"};return t},radiusBtnStyle:function(){var t={width:this.radiusBtnActive?"".concat(this.radiusBtnSize+2,"px"):"".concat(this.radiusBtnSize,"px"),height:this.radiusBtnActive?"".concat(this.radiusBtnSize+2,"px"):"".concat(this.radiusBtnSize,"px"),transform:"translate(".concat(5-this.radiusBtnSize,"px,-50%)"),transition:this.isDrag?"none":"all 0.3s ease-out",cursor:this.disabled?"not-allowed":"pointer"};return t},radiusBtnSize:function(){var t=this.progressSize>=8?2*this.progressSize:2.5*this.progressSize;return t=this.progressSize<=3?4*this.progressSize:t,t=t<12?12:t,t}},methods:{getMousePositon:function(t){var e=this.$refs.progressBox.getBoundingClientRect().width,n=this.$refs.progressBox.getBoundingClientRect().left,i=t.clientX-n;i=i<=0?0:i,i=i>=e?e:i;var s=Math.ceil(100*i/e);return s},setProgressBar:function(t){this.$refs.progressBar.style.width=t+"%",this.$refs.radiusBtn.style.left=t+"%"},setTooltip:function(t){if(this.hoverShowRadiusBtn=!0,!this.disabled&&this.showToolTip){this.hoverShowToolTip=!0;var e=this.getMousePositon(t);this.$refs.tooltip.style.left=e+"%",this.tooltipTxt=this.isFormatTooltip&&this.formatTooltip?this.formatTooltip(e):e}},changeProgressBar:function(t){if(!this.disabled){var e=this.getMousePositon(t);this.$emit("onChange",e)}},radiusBtnHover:function(){this.hoverShowRadiusBtn=!0,this.radiusBtnActive=!0},radiusBtnLeave:function(){this.isDrag||(this.hoverShowRadiusBtn=!1,this.radiusBtnActive=!1)},dragProgressBar:function(){var t=this;if(!this.disabled){var e=function(e){t.isDrag=!0;var n=t.getMousePositon(e);t.setProgressBar(n),t.setTooltip(e)},n=function n(i){t.isDrag=!1,document.removeEventListener("mousemove",e),t.changeProgressBar(i),t.progressBoxLeave(),t.radiusBtnActive=!1,document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",e),document.addEventListener("mouseup",n)}},progressBoxLeave:function(){this.hoverShowToolTip=!1,this.hoverShowRadiusBtn=!1}},watch:{percent:function(t){this.isDrag||this.setProgressBar(t)}}}),Q=K,X=(0,y.Z)(Q,q,G,!1,null,"507a5dd8",null),W=X.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"playing-list",attrs:{id:"playing-song-list"}},[n("div",{staticClass:"top-nav"},[n("TabBar",{attrs:{tabitems:t.tabitems},on:{tabItemClick:t.tabItemClick}})],1),0==t.activeItem?n("div",{staticClass:"play-list"},[n("div",{staticClass:"hd"},[n("h4",{staticStyle:{padding:"0px 10px"}},[t._v("总"+t._s(t.playingList.length)+"首")]),n("span",{on:{click:t.deleteAll}},[n("i",{staticClass:"iconfont icon-delete"}),t._v("清空")])]),n("div",{staticClass:"bd"},[n("el-table",{staticStyle:{width:"100%"},attrs:{size:"mini","show-header":!1,"row-class-name":t.tableRowClassName,data:t.playingList,"empty-text":"暂无歌曲"},on:{"row-dblclick":t.playSongClick}},[n("el-table-column",{attrs:{width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id===t.nowSongDetail.id?n("span",{staticClass:"iconfont",class:t.isPlaying?" icon-voice":"icon-jingyin_laba"}):n("span",[t._v(t._s(t._f("formatIndex")(e.row.index)))])]}}],null,!1,3301611334)}),n("el-table-column",{attrs:{prop:"name",label:"歌曲","show-overflow-tooltip":!0,width:"100"}}),n("el-table-column",{attrs:{prop:"ar[0].name",label:"歌手","show-overflow-tooltip":!0,width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"sname",on:{click:function(n){return t.toSinger(e.row.ar[0].id)}}},[t._v(" "+t._s(e.row.ar[0].name)+" ")])]}}],null,!1,1121264130)}),n("el-table-column",{attrs:{prop:"dt",label:"时长"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(" "+t._s(t._f("formatDuration")(e.row.dt))+" ")])]}}],null,!1,2896966386)}),n("el-table-column",{attrs:{width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"iconfont icon-guanbi",on:{click:function(n){return t.deleteSong(e.row)}}})]}}],null,!1,163286182)})],1)],1)]):t._e(),1==t.activeItem?n("div",{staticClass:"history-list"},[n("div",{staticClass:"hd"},[n("h4",{staticStyle:{padding:"0px 10px"}},[t._v("总"+t._s(t.historyPlay.length)+"首")]),n("span",{staticStyle:{cursor:"pointer"},on:{click:t.deleteAllHistory}},[n("i",{staticClass:"iconfont icon-delete"}),t._v("清空")])]),n("div",{staticClass:"bd"},[n("el-table",{staticStyle:{width:"100%"},attrs:{size:"mini","show-header":!1,"row-class-name":t.tableRowClassName,data:t.historyPlay,"empty-text":"暂无记录"},on:{"row-dblclick":t.playHistorySong}},[n("el-table-column",{attrs:{width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id==t.nowSongDetail.id?n("span",{staticClass:"iconfont",class:t.isPlaying?" icon-voice":"icon-jingyin_laba"}):n("span",[t._v(t._s(t._f("formatIndex")(e.row.index)))])]}}],null,!1,1778329851)}),n("el-table-column",{attrs:{prop:"name",label:"歌曲","show-overflow-tooltip":!0,width:"100"}}),n("el-table-column",{attrs:{prop:"ar[0].name",label:"歌手","show-overflow-tooltip":!0,width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"sname",on:{click:function(n){return t.toSinger(e.row.ar[0].id)}}},[t._v(" "+t._s(e.row.ar[0].name)+" ")])]}}],null,!1,1121264130)}),n("el-table-column",{attrs:{prop:"dt",label:"时长"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(" "+t._s(t._f("formatDuration")(e.row.dt))+" ")])]}}],null,!1,2896966386)}),n("el-table-column",{attrs:{width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"iconfont icon-guanbi",on:{click:function(n){return t.deleteHistory(e.row)}}})]}}],null,!1,2497133713)})],1)],1)]):t._e()])},tt=[],et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tabbar"},[n("div",{staticClass:"tab"},t._l(t.tabitems,(function(e,i){return n("div",{key:i,staticClass:"tab-item",class:{active:t.currentIndex==i},on:{click:function(e){return t.tabItemClick(i)}}},[t._v(" "+t._s(e.name)+" ")])})),0)])},nt=[],it={name:"TabBar",props:{tabitems:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{tabItemClick:function(t){this.currentIndex=t,this.$emit("tabItemClick",t)}}},st=it,ot=(0,y.Z)(st,et,nt,!1,null,"7d2348d0",null),at=ot.exports,rt={name:"PlayingList",components:{TabBar:at},computed:(0,u.Z)({},(0,h.mapGetters)(["playingList","historyPlay","nowSongDetail","isPlaying"])),data:function(){return{tabitems:[{name:"播放列表"},{name:"历史记录"}],activeItem:0}},filters:{formatIndex:function(t){return t<9?"0"+(t+1):t+1}},methods:{tabItemClick:function(t){this.activeItem=t},playSongClick:function(t){var e=this;(0,d.GL)(t.id).then((function(n){(0,d.mo)({id:t.id}).then((function(t){e.$store.dispatch("saveSongUrl",t.data.data[0].url)})),e.$store.dispatch("changePlayState",!0),e.$store.dispatch("saveSongDetail",t)})).catch((function(n){e.$message({message:"暂时无法播放，换首试试",type:"warning",center:!0}),e.$store.dispatch("deleteSong",t.id)}))},deleteSong:function(t){this.$store.dispatch("deleteSong",t.id)},deleteAll:function(){this.$store.dispatch("deleteAll"),this.$store.dispatch("saveCurrentLyric",[])},playHistorySong:function(t){this.playSongClick(t),this.$store.dispatch("addPlayinglist",t)},deleteAllHistory:function(){this.$store.dispatch("deleteAllHistory")},deleteHistory:function(t){this.$store.dispatch("deleteHistory",t.id)},tableRowClassName:function(t){var e=t.row,n=t.rowIndex;if(e.index=n,n%2!==0)return"rowEven"},toSinger:function(t){this.$router.push("/artist?q=".concat(t))}},mounted:function(){var t=this,e=document.querySelector("#playing-song-list"),n=document.querySelector("#footer");document.addEventListener("mousedown",(function(i){e&&(e.contains(i.target)||n.contains(i.target)||t.$emit("closePlayList"))}))}},ct=rt,lt=(0,y.Z)(ct,Y,tt,!1,null,"0701e225",null),ut=lt.exports,dt={name:"Foot",components:{PlayingList:ut,Progress:W},data:function(){return{totalSecond:this.getItem("totalSecond")?this.getItem("totalSecond"):0,totalTime:this.getItem("totalTime")?this.getItem("totalTime"):"00:00",currentTime:this.getItem("currentTime")?this.getItem("currentTime"):"00:00",songProgress:this.getItem("songProgress")?this.getItem("songProgress"):0,voiceProgress:this.getItem("voiceProgress")?this.getItem("voiceProgress"):50,playModel:this.getItem("playModel")?this.getItem("playModel"):1,nowVolume:50,islike:!1,showMask:!1,isShowDrawer:!1,formatlyric:[],currentIndex:null}},computed:(0,u.Z)((0,u.Z)({},(0,h.mapGetters)(["isLogin","userInfo","songUrl","isPlaying","playingList","nowSongDetail","likeSongIds","currentSecond","currentLyric","isShowSongDetail"])),{},{cover:function(){return this.nowSongDetail.al.picUrl+"?param=60y60"}}),created:function(){0!=Object.keys(this.nowSongDetail).length&&this.getNowLyricBy(this.nowSongDetail.id)},mounted:function(){this.$refs.audioplay.volume=this.voiceProgress/100,this.pauseMusic(),this.isLikeNowSong()},methods:{showSongDetail:function(){this.$store.commit("showSongDetail")},showFloatLyric:function(){this.$store.commit("showFloatLyric")},changeState:function(t){this.$store.dispatch("changePlayState",t)},playMusic:function(){var t=this;0==this.playingList.length?this.$message({message:"播放列表为空",type:"warning",center:!0}):(this.$refs.audioplay.currentTime=this.currentSecond," "!=this.songUrl?this.$refs.audioplay.play():(0,d.mo)({id:this.nowSongDetail.id}).then((function(e){t.$store.dispatch("saveSongUrl",e.data.data[0].url)})))},pauseMusic:function(){this.$refs.audioplay.pause()},onLoadedmetadata:function(t){this.totalSecond=t.target.duration,this.totalTime=z(this.totalSecond),this.setItem("totalTime",this.totalTime),this.setItem("totalSecond",this.totalSecond)},onTimeupdate:function(t){this.$store.dispatch("saveCurrentSeconds",t.target.currentTime),this.currentTime=z(t.target.currentTime),this.setItem("currentTime",this.currentTime);var e=Math.ceil(t.target.currentTime/this.totalSecond*100);e==1/0||isNaN(e)||(this.setItem("songProgress",e),this.songProgress=this.getItem("songProgress"))},changeSongProgress:function(t){var e=this,n=Math.ceil(t/100*this.totalSecond);this.$refs.audioplay.currentTime=n,this.currentLyric.forEach((function(t,i){n>=t.time&&e.$store.commit("saveCurrentRow",i)}))},formatTooltip:function(t){return z(t/100*this.totalSecond)},muteVolume:function(){this.nowVolume=this.voiceProgress,this.voiceProgress=0,this.$refs.audioplay.volume=0},cancelMute:function(){this.voiceProgress=this.nowVolume,this.$refs.audioplay.volume=this.voiceProgress/100},changeVoiceProgress:function(t){this.setItem("voiceProgress",t),this.$refs.audioplay.volume=t/100},getSongUrlBy:function(t){var e=this;(0,d.GL)(t.id).then((function(n){(0,d.mo)({id:t.id}).then((function(n){e.$store.dispatch("saveSongUrl",n.data.data[0].url),e.$store.dispatch("saveSongDetail",t)}))})).catch((function(n){e.$store.dispatch("deleteSong",t.id),e.orderPlay(1)}))},toggleSong:function(t){0!=this.playingList.length?1==this.playingList.length?(this.$message({message:"当前播放列表只有一首歌",type:"warning",center:!0}),this.playMusic()):1===this.playModel||3===this.playModel?this.orderPlay(t):2===this.playModel&&this.randomPlay():this.$message({message:"播放列表为空",type:"warning",center:!0})},changePlayModel:function(t){this.$refs.audioplay.loop=!1,this.playModel=t,this.setItem("playModel",t)},orderPlay:function(t){var e,n=this,i=this.playingList.findIndex((function(t){return n.nowSongDetail.id==t.id}));switch(i){case-1:e=0;break;case 0:e=0===t?this.playingList.length-1:i+1;break;case this.playingList.length-1:e=0===t?i-1:0;break;default:e=0===t?i-1:i+1;break}var s=this.playingList[e];this.getSongUrlBy(s)},randomPlay:function(){var t=j(0,this.playingList.length-1),e=this.playingList[t];this.getSongUrlBy(e)},loopPlay:function(){this.$refs.audioplay.loop=!0,this.$refs.audioplay.play()},getLikSongListBy:function(){var t=this;(0,d.Qh)(this.userInfo.userid).then((function(e){console.log("获取喜欢的歌曲id列表",e),t.$store.dispatch("saveLikeSongIds",e.data.ids),t.islike=t.likeSongIds.includes(t.nowSongDetail.id)}))},isLikeNowSong:function(){this.isLogin?0!=this.likeSongIds.length?this.islike=this.likeSongIds.includes(this.nowSongDetail.id):this.getLikSongListBy():this.islike=!1},likeNowSongBy:function(){var t=this;if(this.$store.state.isLogin){var e=!this.islike;(0,d.Oq)(this.nowSongDetail.id,e).then((function(n){t.getLikSongListBy(),1==e?t.$message({message:"已添加到我喜欢的音乐",type:"success",center:!0}):t.$message({message:"取消喜欢成功",type:"success",center:!0})}))}else this.$message({type:"warning",message:"登录后才能收藏",showClose:!0,center:!0})},downloadCurrentMusic:function(){var t={url:this.songUrl,name:this.nowSongDetail.name+" - "+this.nowSongDetail.ar[0].name};this.$store.commit("updateDownloadMusicInfo",t)},getNowLyricBy:function(t){var e=this;(0,d.gg)(t).then((function(t){if(!t.data.nolyric){var n=t.data.lrc.lyric;e.formatLyric(n),e.$store.dispatch("saveCurrentLyric",e.formatlyric)}}))},formatLyric:function(t){for(var e=this,n=t.split("\n"),i=function(t){var i=n[t],s=i.split("]"),o=s.pop();s.forEach((function(t,n){var i={},s=t.substr(1,t.length-1).split(":"),a=60*s[0]+Math.ceil(s[1]);0!==o.trim().length&&(i.time=a,i.text=o,e.formatlyric.push(i))}))},s=0;s<n.length;s++)i(s);this.formatlyric.sort((function(t,e){return t.time-e.time}))}},watch:(0,R.Z)({nowSongDetail:function(){this.isLikeNowSong()},likeSongIds:function(){this.isLikeNowSong()},playingList:function(t){0==t.length&&(this.removeItem("songProgress"),this.songProgress=0,this.removeItem("totalTime"),this.totalTime="00:00")}},"nowSongDetail",(function(){0!=Object.keys(this.nowSongDetail).length&&(this.formatlyric=[],this.getNowLyricBy(this.nowSongDetail.id),this.$store.commit("saveCurrentRow",null))}))},ht=dt,ft=(0,y.Z)(ht,F,U,!1,null,"3632d584",null),gt=ft.exports,pt={name:"app",components:{Top:L,Index:E,Foot:gt}},mt=pt,vt=(0,y.Z)(mt,a,r,!1,null,null,null),yt=vt.exports,St=VueRouter,wt=n.n(St);o().use(wt());var Ct=wt().prototype.push;wt().prototype.push=function(t){return Ct.call(this,t).catch((function(t){return t}))};var bt=new(wt())({mode:"hash",routes:[{path:"/",redirect:"/discovery"},{path:"/discovery",component:function(){return Promise.resolve().then(n.bind(n,9439))}},{path:"/playlists",component:function(){return Promise.all([n.e(868),n.e(729)]).then(n.bind(n,4729))}},{path:"/songs",component:function(){return n.e(659).then(n.bind(n,8659))}},{path:"/mvs",component:function(){return n.e(591).then(n.bind(n,7591))}},{path:"/result",component:function(){return n.e(766).then(n.bind(n,766))}},{path:"/playlist",component:function(){return Promise.all([n.e(868),n.e(712)]).then(n.bind(n,2712))}},{path:"/mv",component:function(){return n.e(54).then(n.bind(n,4054))}},{path:"/leaderboard",component:function(){return n.e(320).then(n.bind(n,1625))}},{path:"/artists",component:function(){return n.e(804).then(n.bind(n,9804))}},{path:"/artist",component:function(){return n.e(154).then(n.bind(n,154))}},{path:"/login",component:function(){return n.e(123).then(n.bind(n,4123))}},{path:"/userInfo",component:function(){return n.e(694).then(n.bind(n,3694))}}]}),kt=bt,Lt=(n(3112),{filters:{LocaleDateString:function(t){if(!t)return"";var e=new Date(t);return e.toLocaleDateString()+" "},formatDuration:function(t){var e=Math.floor(t/1e3/60).toString().padStart(2,"0"),n=Math.floor(t%60).toString().padStart(2,"0");return e+":"+n},LocaleString:function(t){if(!t)return"";var e=new Date(t);return e.toLocaleString()},ellipsisPlayVolume:function(t){return t<1e4?t:t<1e8?parseInt(t/1e4)+"万":parseInt(t/1e8)+"亿"}}}),_t={isLogin:!!sessionStorage.getItem("isLogin")&&JSON.parse(sessionStorage.getItem("isLogin")),token:sessionStorage.getItem("token")?JSON.parse(sessionStorage.getItem("token")):null,cookie:sessionStorage.getItem("cookie")?JSON.parse(sessionStorage.getItem("cookie")):null,userInfo:sessionStorage.getItem("userInfo")?JSON.parse(sessionStorage.getItem("userInfo")):{username:"",avater:"",userid:""},userSongList:localStorage.getItem("userSongList")?JSON.parse(localStorage.getItem("userSongList")):[],likeSongIds:localStorage.getItem("likeSongIds")?JSON.parse(localStorage.getItem("likeSongIds")):[],userFollowsList:[],subAlbumlist:[],subSingerlist:[],subMvlist:[],loginStatus:!1,showLogin:!1,navPhoneOpen:!1,isPlaying:!1,downloadMusicInfo:{},isShowSongDetail:!1,showFloatLyric:!1,currentLyric:[],songUrl:" ",nowSongDetail:localStorage.getItem("nowSongDetail")?JSON.parse(localStorage.getItem("nowSongDetail")):{},playingList:localStorage.getItem("playingList")?JSON.parse(localStorage.getItem("playingList")):[],historyPlay:localStorage.getItem("historyPlay")?JSON.parse(localStorage.getItem("historyPlay")):[],currentSecond:localStorage.getItem("currentSecond")?JSON.parse(localStorage.getItem("currentSecond")):0,currentRow:localStorage.getItem("currentRow")?JSON.parse(localStorage.getItem("currentRow")):0},Pt=_t,It={updateLogin:function(t,e){t.isLogin=e,sessionStorage.setItem("isLogin",JSON.stringify(t.isLogin))},saveUserInfo:function(t,e){t.userInfo=e},saveUserSongList:function(t,e){t.userSongList=e},saveUserFollowsList:function(t,e){t.userFollowsList=e},saveFavoriteAlbum:function(t,e){t.subAlbumlist=e},saveFavoriteSinger:function(t,e){t.subSingerlist=e},saveFavoriteMv:function(t,e){t.subMvlist=e},updataNavPhone:function(t,e){t.navPhoneOpen=e},saveLikeSongIds:function(t,e){t.likeSongIds=e,localStorage.setItem("likeSongIds",JSON.stringify(t.likeSongIds))},changePlayState:function(t,e){t.isPlaying=e},saveSongUrl:function(t,e){t.songUrl=e},saveSongDetail:function(t,e){t.nowSongDetail=e,localStorage.setItem("nowSongDetail",JSON.stringify(t.nowSongDetail));var n=t.historyPlay.findIndex((function(t){return t.id==e.id}));-1==n&&(t.historyPlay.unshift(e),localStorage.setItem("historyPlay",JSON.stringify(t.historyPlay)))},addPlayinglist:function(t,e){var n=t.playingList.findIndex((function(t){return t.id==e.id}));-1==n&&(t.playingList.unshift(e),localStorage.setItem("playingList",JSON.stringify(t.playingList)))},addAllSong:function(t,e){t.playingList=e,localStorage.setItem("playingList",JSON.stringify(t.playingList))},deleteSong:function(t,e){var n=t.playingList.findIndex((function(t){return e==t.id}));t.playingList.splice(n,1),localStorage.setItem("playingList",JSON.stringify(t.playingList))},deleteAll:function(t){t.playingList=[],t.songUrl="",t.nowSongDetail={},t.isPlaying=!1,localStorage.removeItem("playingList"),localStorage.removeItem("nowSongDetail"),localStorage.removeItem("currentRow")},deleteAllHistory:function(t){t.historyPlay=[],localStorage.setItem("historyPlay",JSON.stringify(t.historyPlay))},deleteHistory:function(t,e){var n=t.historyPlay.findIndex((function(t){return e==t.id}));t.historyPlay.splice(n,1),localStorage.setItem("historyPlay",JSON.stringify(t.historyPlay))},showSongDetail:function(t){t.isShowSongDetail=!t.isShowSongDetail},saveCurrentSeconds:function(t,e){t.currentSecond=e,localStorage.setItem("currentSecond",JSON.stringify(t.currentSecond))},saveCurrentRow:function(t,e){t.currentRow=e,localStorage.setItem("currentRow",JSON.stringify(t.currentRow))},saveCurrentLyric:function(t,e){t.currentLyric=e},showFloatLyric:function(t){t.showFloatLyric=!t.showFloatLyric},updateDownloadMusicInfo:function(t,e){t.downloadMusicInfo=e},updataUsrInfo:function(t,e){t.userInfo=e,sessionStorage.setItem("userInfo",JSON.stringify(t.userInfo))},updataToken:function(t,e){t.token=e,sessionStorage.setItem("token",JSON.stringify(t.token))},updataCookie:function(t,e){t.cookie=e,sessionStorage.setItem("cookie",JSON.stringify(t.cookie)),document.cookie=t.cookie}},xt=It,Bt={updateLogin:function(t,e){var n=t.commit;n("updateLogin",e)},saveUserInfo:function(t,e){var n=t.commit;n("saveUserInfo",e)},saveUserSongList:function(t,e){var n=t.commit;n("saveUserSongList",e)},saveUserFollowsList:function(t,e){var n=t.commit;n("saveUserFollowsList",e)},saveFavoriteAlbum:function(t,e){var n=t.commit;n("saveFavoriteAlbum",e)},saveFavoriteSinger:function(t,e){var n=t.commit;n("saveFavoriteSinger",e)},saveFavoriteMv:function(t,e){var n=t.commit;n("saveFavoriteMv",e)},saveLikeSongIds:function(t,e){var n=t.commit;n("saveLikeSongIds",e)},changeNavPhone:function(t,e){var n=t.commit;n("updataNavPhone",e)},changePlayState:function(t,e){var n=t.commit;n("changePlayState",e)},saveSongUrl:function(t,e){var n=t.commit;n("saveSongUrl",e)},saveSongDetail:function(t,e){var n=t.commit;n("saveSongDetail",e)},addPlayinglist:function(t,e){var n=t.commit;n("addPlayinglist",e)},addAllSong:function(t,e){var n=t.commit;n("addAllSong",e)},deleteSong:function(t,e){var n=t.commit;n("deleteSong",e)},deleteAll:function(t){var e=t.commit;e("deleteAll")},deleteAllHistory:function(t){var e=t.commit;e("deleteAllHistory")},deleteHistory:function(t,e){var n=t.commit;n("deleteHistory",e)},saveCurrentSeconds:function(t,e){var n=t.commit;n("saveCurrentSeconds",e)},saveCurrentLyric:function(t,e){var n=t.commit;n("saveCurrentLyric",e)}},Dt=Bt,Nt=function(t){return t.isLogin},$t=function(t){return t.userInfo},Tt=function(t){return t.userSongList},Mt=function(t){return t.userFollowsList},Ot=function(t){return t.subAlbumlist},At=function(t){return t.subSingerlist},Et=function(t){return t.subMvlist},Ft=function(t){return t.likeSongIds},Ut=function(t){return t.navPhoneOpen},Rt=function(t){return t.isPlaying},zt=function(t){return t.songUrl},Vt=function(t){return t.downloadMusicInfo},jt=function(t){return t.nowSongDetail},Ht=function(t){return t.playingList},Jt=function(t){return t.historyPlay},Zt=function(t){return t.isShowSongDetail},qt=function(t){return t.currentSecond},Gt=function(t){return t.currentLyric},Kt=function(t){return t.currentRow},Qt=function(t){return t.showFloatLyric};o().use(f());var Xt=new(f().Store)({state:Pt,mutations:xt,actions:Dt,getters:i}),Wt=n(2228),Yt=n(5959),te=n.n(Yt);kt.afterEach((function(t,e,n){document.querySelector(".index-contain .main").scrollTop=0})),o().use(Wt.ZP,{preLoad:1.3,error:n.e(67).then(n.t.bind(n,8067,17)),loading:"https://i0.hdslb.com/bfs/article/9b019fed41a99f4cdd0856122da95c859e30889f.gif@!web-article-pic.webp",attempt:3}),o().use(te()),o().prototype.$ELEMENT={size:"small",zIndex:3e3},o().mixin(Lt),o().config.productionTip=!1,o().prototype.$Bus=new(o()),o().prototype.setItem=H,o().prototype.getItem=J,o().prototype.removeItem=Z,new(o())({render:function(t){return t(yt)},el:"#app",router:kt,store:Xt}).$mount("#app")},7496:function(t,e,n){n.d(e,{Ik:function(){return I},pK:function(){return f},GL:function(){return U},hE:function(){return b},Bf:function(){return T},Qh:function(){return z},Dh:function(){return d},mo:function(){return h},td:function(){return $},uS:function(){return v},if:function(){return B},Oq:function(){return R},ix:function(){return O},JC:function(){return A},Ff:function(){return F},gg:function(){return x},Uw:function(){return P},QD:function(){return S},Tz:function(){return L},E4:function(){return w},y7:function(){return m},Db:function(){return p},AL:function(){return g},OF:function(){return k},jr:function(){return D},GB:function(){return N},tQ:function(){return E},FR:function(){return _},wj:function(){return M},oN:function(){return C},RI:function(){return y}});n(1539);var i=axios,s=n.n(i),o=n(5959),a=n(9879),r=n.n(a),c="https://api.music.areschang.top/",l=s().create({baseURL:c,timeout:5e3,changeOrigin:!0,withCredentials:!1,XMLHttpRequest:!0});l.interceptors.request.use((function(t){return r().start(),t})),l.interceptors.response.use((function(t){return r().done(),t})),l.interceptors.response.use((function(t){return 200==t.status?Promise.resolve(t):Promise.reject(t)}),(function(t){t&&(0,o.Message)({type:"error",message:"API接口出了点问题~ 请重新刷新~ ",showClose:!0})}));var u=l;function d(t){return u({url:"/top/song",method:"get",params:t})}function h(t){return u({url:"/song/url",method:"get",params:t})}function f(){return u({url:"/banner",method:"get"})}function g(t){return u({url:"/personalized",method:"get",params:t})}function p(t){return u({url:"/personalized/newsong",method:"get",params:{limit:t}})}function m(t){return u({url:"/personalized/mv",method:"get",params:{limit:t}})}function v(t){return u({url:"/top/playlist/highquality",method:"get",params:t})}function y(t){return u({url:"/top/playlist",method:"get",params:t})}function S(t){return u({url:"/mv/all",method:"get",params:t})}function w(t){return u({url:"/playlist/detail",method:"get",params:t})}function C(t){return u({url:"/song/detail",method:"get",params:t})}function b(t,e){return u({url:"/comment/"+e,method:"get",params:t})}function k(t){return u({url:"/cloudsearch",method:"get",params:t})}function L(t){return u({url:"/mv/url",method:"get",params:t})}function _(t){return u({url:"/simi/mv",method:"get",params:t})}function P(t){return u({url:"/mv/detail",method:"get",params:t})}function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=""==e?"/artists":"/artist/"+e;return"simi"==e&&(n="/simi/artist"),u({url:n,method:"get",params:t})}function x(t){return u({url:"/lyric",method:"get",params:{id:t}})}function B(){return u({url:"/search/hot/detail",method:"get"})}function D(){return u({url:"/search/default",method:"get"})}function N(t){return u({url:"/search/search/suggest",method:"get",params:t})}function $(){return u({url:"/toplist",method:"get"})}function T(t){return u({url:"/artist/list",method:"get",params:t})}function M(t){return u({url:"/artists",method:"get",params:t})}function O(t){return u({url:"/login/cellphone",method:"post",params:t})}function A(t){return u({url:"/login/cellphone",method:"post",params:t})}function E(t){return u({url:"/captcha/sent",method:"post",params:t})}function F(){return u({url:"/login/status"})}function U(t){return u({url:"/check/music",params:{id:t}})}function R(t,e){return u({url:"/like",params:{id:t,like:e,timestamp:Date.parse(new Date)}})}function z(t){return u({url:"/likelist",params:{uid:t,timestamp:Date.parse(new Date)}})}},5959:function(t){t.exports=ELEMENT},6294:function(t){t.exports=Vuex}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var o=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,function(){var t=[];n.O=function(e,i,s,o){if(!i){var a=1/0;for(u=0;u<t.length;u++){i=t[u][0],s=t[u][1],o=t[u][2];for(var r=!0,c=0;c<i.length;c++)(!1&o||a>=o)&&Object.keys(n.O).every((function(t){return n.O[t](i[c])}))?i.splice(c--,1):(r=!1,o<a&&(a=o));if(r){t.splice(u--,1);var l=s();void 0!==l&&(e=l)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[i,s,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};n.t=function(i,s){if(1&s&&(i=this(i)),8&s)return i;if("object"===typeof i&&i){if(4&s&&i.__esModule)return i;if(16&s&&"function"===typeof i.then)return i}var o=Object.create(null);n.r(o);var a={};t=t||[null,e({}),e([]),e(e)];for(var r=2&s&&i;"object"==typeof r&&!~t.indexOf(r);r=e(r))Object.getOwnPropertyNames(r).forEach((function(t){a[t]=function(){return i[t]}}));return a["default"]=function(){return i},n.d(o,a),o}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,i){return n.f[i](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+t+"-legacy."+{54:"2cbede4f",67:"c3755de4",123:"061937b4",154:"b72a8699",320:"d3f8b7a4",591:"d58d4a20",659:"1fad107f",694:"b4df2b2b",712:"53b48486",729:"3aa30e0c",766:"6719aac4",804:"ad4973ce",868:"9a20297b"}[t]+".js"}}(),function(){n.miniCssF=function(t){return"css/"+t+"."+{54:"700bb822",123:"240d49f6",154:"876a860b",320:"d0d5cd4d",591:"6b4ab595",659:"82b47b68",712:"12462290",729:"8a11a4e4",766:"73370cec",804:"70886910"}[t]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="cloud-music:";n.l=function(i,s,o,a){if(t[i])t[i].push(s);else{var r,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==e+o){r=d;break}}r||(c=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",e+o),r.src=i),t[i]=[s];var h=function(e,n){r.onerror=r.onload=null,clearTimeout(f);var s=t[i];if(delete t[i],r.parentNode&&r.parentNode.removeChild(r),s&&s.forEach((function(t){return t(n)})),e)return e(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=h.bind(null,r.onerror),r.onload=h.bind(null,r.onload),c&&document.head.appendChild(r)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){n.p=""}(),function(){var t=function(t,e,n,i){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css";var o=function(o){if(s.onerror=s.onload=null,"load"===o.type)n();else{var a=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=r,s.parentNode.removeChild(s),i(c)}};return s.onerror=s.onload=o,s.href=e,document.head.appendChild(s),s},e=function(t,e){for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var s=n[i],o=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(o===t||o===e))return s}var a=document.getElementsByTagName("style");for(i=0;i<a.length;i++){s=a[i],o=s.getAttribute("data-href");if(o===t||o===e)return s}},i=function(i){return new Promise((function(s,o){var a=n.miniCssF(i),r=n.p+a;if(e(a,r))return s();t(i,r,s,o)}))},s={143:0};n.f.miniCss=function(t,e){var n={54:1,123:1,154:1,320:1,591:1,659:1,712:1,729:1,766:1,804:1};s[t]?e.push(s[t]):0!==s[t]&&n[t]&&e.push(s[t]=i(t).then((function(){s[t]=0}),(function(e){throw delete s[t],e})))}}(),function(){var t={143:0};n.f.j=function(e,i){var s=n.o(t,e)?t[e]:void 0;if(0!==s)if(s)i.push(s[2]);else{var o=new Promise((function(n,i){s=t[e]=[n,i]}));i.push(s[2]=o);var a=n.p+n.u(e),r=new Error,c=function(i){if(n.o(t,e)&&(s=t[e],0!==s&&(t[e]=void 0),s)){var o=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;r.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",r.name="ChunkLoadError",r.type=o,r.request=a,s[1](r)}};n.l(a,c,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,o,a=i[0],r=i[1],c=i[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(c)var u=c(n)}for(e&&e(i);l<a.length;l++)o=a[l],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(u)},i=self["webpackChunkcloud_music"]=self["webpackChunkcloud_music"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(7662)}));i=n.O(i)})();
//# sourceMappingURL=app-legacy.d56e35f0.js.map