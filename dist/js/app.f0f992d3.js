(function(){"use strict";var t={3492:function(t,e,s){var i={};s.r(i),s.d(i,{currentLyric:function(){return Wt},currentRow:function(){return Yt},currentSecond:function(){return Xt},downloadMusicInfo:function(){return qt},historyPlay:function(){return Kt},isLogin:function(){return Ot},isPlaying:function(){return Ht},isShowSongDetail:function(){return Qt},likeSongIds:function(){return Et},navPhoneOpen:function(){return Vt},nowSongDetail:function(){return Zt},playingList:function(){return Gt},showFloatLyric:function(){return te},songUrl:function(){return Jt},subAlbumlist:function(){return Ft},subMvlist:function(){return jt},subSingerlist:function(){return zt},userFollowsList:function(){return Rt},userInfo:function(){return Ut},userSongList:function(){return At}});var n=Vue,o=s.n(n),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("top"),e("index"),e("foot")],1)},r=[],l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("div",{staticClass:"header-title"},[e("h2",{on:{click:t.gohome}},[t._v("云音乐播放器By Alive")])]),e("div",{staticClass:"btns"},[e("i",{staticClass:"el-icon-arrow-left",on:{click:function(e){return t.go(-1)}}}),e("i",{staticClass:"el-icon-arrow-right",on:{click:function(e){return t.go(1)}}}),e("i",{staticClass:"el-icon-picture-outline",attrs:{id:"btbg"},on:{click:function(t){}}})]),e("div",[e("div",{staticClass:"input-box"},[e("el-input",{attrs:{placeholder:t.placeholder,"prefix-icon":"el-icon-search"},on:{focus:t.getSearchData,blur:t.outblur},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1),e("transition",{attrs:{name:"el-fade-in-linear"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showHot,expression:"showHot"}],ref:"hot",staticClass:"search-hot"},[e("el-scrollbar",{staticStyle:{height:"100%"}},[t.history.length?e("div",{staticClass:"history"},[e("span",{staticClass:"hot-title",staticStyle:{display:"inline-block","margin-right":"5px"}},[t._v("搜索历史")]),e("span",{staticClass:"iconfont icon-lajitong",staticStyle:{cursor:"pointer"},attrs:{title:"清空搜索历史"},on:{mousedown:function(e){return t.deleteHistory(0,!0)}}}),e("div",{staticClass:"history-wrap"},t._l(t.history,(function(s,i){return e("div",{key:i,staticClass:"history-item",on:{mousedown:function(e){return t.toHot(s)}}},[t._v(" "+t._s(s)+" "),e("span",{staticClass:"delete-btn",attrs:{title:"删除"},on:{mousedown:function(e){return e.stopPropagation(),t.deleteHistory(i,!1)}}},[t._v("×")])])})),0)]):t._e(),e("div",{staticClass:"hot-title"},[t._v("热搜榜")]),e("ul",t._l(t.hotData,(function(s,i){return e("li",{key:i,staticClass:"hot-item",on:{mousedown:function(e){return t.toHot(s.searchWord)}}},[e("div",{staticClass:"hot-index"},[t._v(t._s(i+1))]),e("div",{staticClass:"hot-info"},[e("div",{staticClass:"hot-top"},[e("div",{staticClass:"hot-name"},[t._v(t._s(s.searchWord))]),e("div",{staticClass:"hot-score"},[t._v(t._s(s.score))]),e("img",{directives:[{name:"show",rawName:"v-show",value:s.iconUrl&&5!=s.iconType,expression:"item.iconUrl && item.iconType != 5"}],staticClass:"hot-icon",attrs:{src:s.iconUrl}})]),e("div",{staticClass:"hot-content"},[t._v(t._s(s.content))])])])})),0)])],1)]),e("transition",{attrs:{name:"el-fade-in-linear"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isAdvice,expression:"isAdvice"}],staticClass:"search-hot"},[e("el-scrollbar",{staticStyle:{height:"100%"}},[e("ul",t._l(t.suggestionList.songs,(function(s,i){return e("li",{key:i,staticClass:"hot-item",on:{mousedown:function(e){return t.toHot(s.name)}}},[e("div",{staticClass:"hot-info"},[e("div",{staticClass:"hot-top"},[e("div",{staticClass:"hot-name"},[t._v(t._s(s.name))])])])])})),0)])],1)])],1),e("div",{staticClass:"sliderBar"},[e("el-slider",{attrs:{"format-tooltip":t.formatTooltip},model:{value:t.sliderValue,callback:function(e){t.sliderValue=e},expression:"sliderValue"}})],1),e("div",{staticClass:"userInfo-wrap"},[e("div",{staticClass:"avater"},[e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isLogin,expression:"!isLogin"}],on:{click:function(e){return t.toLogin()}}},[t._v("登录")]),e("img",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],attrs:{src:t.userInfo.avater},on:{click:function(e){return t.toLogin()}}})]),e("div",{staticClass:"user-wrap"},[e("span",[t._v(t._s(t.userInfo.username))]),e("i",{staticClass:"el-icon-caret-bottom"})])]),e("div",{staticClass:"nav-phone-btn"},[e("i",{class:t.navPhoneOpen?"el-icon-s-fold":"el-icon-s-unfold",staticStyle:{"font-size":"20px",transition:".3s"},on:{click:function(e){return t.changeNavPhone()}}})])])},c=[],u=s(1833),d=s(7467),h=s.n(d),g=s(5959),p=s.n(g),m=s(1070),f=s.n(m);let v="/bgapi";const y=h().create({baseURL:v,timeout:5e3,changeOrigin:!0});y.interceptors.request.use((t=>(f().start(),t))),y.interceptors.response.use((t=>(f().done(),t))),y.interceptors.response.use((t=>200==t.status?Promise.resolve(t):Promise.reject(t)),(t=>{t&&(0,g.Message)({type:"error",message:"后端接口出了点问题 ~ 请重新刷新~ ",showClose:!0})}));var S=y;function w(){return S({url:"?sort=pc&type=json",method:"get"})}var C=s(6294),b=s.n(C),k=function(){var t=this,e=t._self._c;return e("div",{class:t.navPhoneOpen?"open":"close",attrs:{id:"nav-phone"}},[t._m(0),e("div",{staticClass:"site-data is-center"}),e("el-divider"),e("div",{staticClass:"menus_items"},[e("div",{staticClass:"menus_item",on:{click:function(e){return t.hideNav()}}},[e("i",{staticClass:"el-icon-headset"}),e("router-link",{attrs:{to:"/discovery"}},[e("span",{staticClass:"nav-router"},[t._v("发现音乐")])])],1),e("div",{staticClass:"menus_item",on:{click:function(e){return t.hideNav()}}},[e("i",{staticClass:"el-icon-trophy"}),e("router-link",{attrs:{to:"/playlists"}},[e("span",{staticClass:"nav-router"},[t._v("推荐歌单")])])],1),e("div",{staticClass:"menus_item",on:{click:function(e){return t.hideNav()}}},[e("i",{staticClass:"el-icon-star-off"}),e("router-link",{attrs:{to:"/songs"}},[e("span",{staticClass:"nav-router"},[t._v("最新音乐")])])],1),e("div",{staticClass:"menus_item",on:{click:function(e){return t.hideNav()}}},[e("i",{staticClass:"el-icon-film"}),e("router-link",{attrs:{to:"/mvs"}},[e("span",{staticClass:"nav-router"},[t._v("最新MV")])])],1),e("div",{staticClass:"menus_item",on:{click:function(e){return t.hideNav()}}},[e("i",{staticClass:"el-icon-s-data"}),e("router-link",{attrs:{to:"/leaderboard"}},[e("span",{staticClass:"nav-router"},[t._v("排行榜")])])],1),e("div",{staticClass:"menus_item",on:{click:function(e){return t.hideNav()}}},[e("i",{staticClass:"el-icon-mic"}),e("router-link",{attrs:{to:"/artists"}},[e("span",{staticClass:"nav-router"},[t._v("歌手")])])],1)])],1)},L=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"avatar-img is-center"},[e("img",{attrs:{src:"https://pic.imgdb.cn/item/630b81ff16f2c2beb1982bcc.jpg",alt:""}})])}],_={name:"NavPhone",computed:{...(0,C.mapState)(["userInfo","isLogin","token","navPhoneOpen"])},methods:{hideNav(){this.$store.dispatch("changeNavPhone",!1)}}},P=_,I=s(2349),x=(0,I.Z)(P,k,L,!1,null,null,null),B=x.exports,$={name:"top",components:{NavPhone:B},data(){return{searchValue:"",showHot:!1,hotData:[],history:[],placeholder:"",isAdvice:!1,suggestionList:[],bg:"",sliderValue:35}},computed:{...(0,C.mapState)(["userInfo","isLogin","token","navPhoneOpen"])},created(){this.getDefaultKeywords()},watch:{searchValue(){this.getSuggestion()},sliderValue(){this.changeOpacity()}},methods:{gohome(){"/discovery"!=this.$route.path&&this.$router.push("/discovery")},go(t){this.$router.go(t)},toLogin(){this.isLogin||this.token||localStorage.getItem("token")?this.$router.push("/userInfo"):this.$router.push("/login")},changeBg(){w().then((t=>{console.log("改变背景",t),this.bg=t.data.pic;let e=document.createElement("style"),s=document.createTextNode(`body::after{background-image: url(${this.bg});}`);e.appendChild(s),document.body.appendChild(e)}))},changeNavPhone(){const t=!this.navPhoneOpen;this.$store.dispatch("changeNavPhone",t)},changeOpacity(){let t=document.createElement("style"),e=document.createTextNode(`body::after{opacity: ${this.sliderValue/100};}`);t.appendChild(e),document.body.appendChild(t)},prevent(){event.preventDefault()},showError(){this.$message({showClose:!0,message:"请输入内容",type:"error"})},isNull(t){if(""==t)return!0;var e="^[ ]+$",s=new RegExp(e);return s.test(t)},outblur(){this.isAdvice=!1,this.showHot=!1},search(){this.isNull(this.searchValue)?this.showError():(this.$router.push(`/result?q=${this.searchValue}`),this.history.includes(this.searchValue)||this.history.push(this.searchValue),this.outblur())},getDefaultKeywords(){(0,u.jr)().then((t=>{this.placeholder=t.data.data.showKeyword}))},getSuggestion(){this.isAdvice=!0;let t={keywords:this.searchValue};""!=this.searchValue?(0,u.GB)(t).then((t=>{this.suggestionList=t.data.result})):this.isAdvice=!1},getSearchData(){""!=this.searchValue?this.getSuggestion():(this.showHot=!0,0==this.hotData.length&&(0,u["if"])().then((t=>{this.hotData=t.data.data})))},toHot(t){this.searchValue=t,this.search()},deleteHistory(t,e){if(e)this.history=[];else for(let s=0;s<this.history.length;s++)s==t&&this.history.splice(s,1);event.preventDefault()},formatTooltip(t){return t/100}}},D=$,N=(0,I.Z)(D,l,c,!1,null,null,null),M=N.exports,T=function(){var t=this,e=t._self._c;return e("div",{staticClass:"index-contain"},[e("el-backtop",{attrs:{target:".index-contain .main",right:40,bottom:100,id:"playBackTop"}}),e("div",{staticClass:"nav"},[e("li",{staticClass:"nav-list"},[e("i",{staticClass:"el-icon-headset"}),e("router-link",{attrs:{to:"/discovery"}},[e("span",{staticClass:"nav-router"},[t._v("发现音乐")])])],1),e("li",{staticClass:"nav-list"},[e("i",{staticClass:"el-icon-trophy"}),e("router-link",{attrs:{to:"/playlists"}},[e("span",{staticClass:"nav-router"},[t._v("推荐歌单")])])],1),e("li",{staticClass:"nav-list"},[e("i",{staticClass:"el-icon-star-off"}),e("router-link",{attrs:{to:"/songs"}},[e("span",{staticClass:"nav-router"},[t._v("最新音乐")])])],1),e("li",{staticClass:"nav-list"},[e("i",{staticClass:"el-icon-film"}),e("router-link",{attrs:{to:"/mvs"}},[e("span",{staticClass:"nav-router"},[t._v("最新MV")])])],1),e("li",{staticClass:"nav-list"},[e("i",{staticClass:"el-icon-s-data"}),e("router-link",{attrs:{to:"/leaderboard"}},[e("span",{staticClass:"nav-router"},[t._v("排行榜")])])],1),e("li",{staticClass:"nav-list"},[e("i",{staticClass:"el-icon-mic"}),e("router-link",{attrs:{to:"/artists"}},[e("span",{staticClass:"nav-router"},[t._v("歌手")])])],1)]),e("div",{staticClass:"nav-sec"},[e("transition",{attrs:{name:"el-fade-in-linear"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.navPhoneOpen,expression:"navPhoneOpen"}],attrs:{id:"menu-mask"},on:{click:function(e){return t.hideNav()}}})]),e("NavPhone")],1),e("div",{staticClass:"Lyric-wrap"},[e("transition",{attrs:{name:"el-fade-in-linear"}},[e("FloatLyric",{directives:[{name:"show",rawName:"v-show",value:t.showFloatLyric,expression:"showFloatLyric"}]})],1)],1),e("div",{staticClass:"main"},[e("div",{staticClass:"container"},[e("router-view",{key:t.key})],1)])],1)},O=[],U=s(8118),A=function(){var t=this,e=t._self._c;return e("div",{ref:"lyric",staticClass:"float-lyric",class:{bg:t.isShowBg},on:{mousedown:t.dragLyric,mouseover:function(e){t.isShowBg=!0},mouseleave:function(e){t.isShowBg=!1}}},[e("div",{staticClass:"lyric"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowBg,expression:"isShowBg"}],staticClass:"close"},[e("span",{staticClass:"iconfont icon-guanbi1",on:{click:t.closeFloatLyric}})]),0==t.currentLyric.length?e("div",{staticClass:"nolyric"},[t._v("暂无歌词")]):e("div",{ref:"floatLyric",attrs:{id:"floatLyric"}},t._l(t.currentLyric,(function(s,i){return e("div",{key:i,staticClass:"lyricRow",class:{currentActive:t.currentRow==i}},[e("span",[t._v(t._s(s.text.trim()))])])})),0)])])},R=[],F={name:"Floatlyric",data(){return{currentRow:"",isShowBg:!0}},computed:{...(0,C.mapGetters)(["currentLyric","currentSecond"])},methods:{closeFloatLyric(){this.$store.commit("showFloatLyric")},dragLyric(t){let e=t.pageX-this.$refs.lyric.offsetLeft,s=t.pageY-this.$refs.lyric.offsetTop,i=this.$refs.lyric;function n(t){i.style.left=t.pageX-e+"px",i.style.top=t.pageY-s+"px"}document.addEventListener("mousemove",n),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",n)}))}},watch:{currentSecond(t){this.currentLyric.forEach(((e,s)=>{Math.ceil(t)>=e.time&&(this.$refs.floatLyric.style.top=40*-s+"px",this.currentRow=s)}))}}},z=F,j=(0,I.Z)(z,A,R,!1,null,"332b250c",null),E=j.exports,V={name:"index",components:{discovery:U["default"],FloatLyric:E,NavPhone:B},computed:{...(0,C.mapGetters)(["nowSongDetail","isShowSongDetail","showFloatLyric"]),...(0,C.mapState)(["navPhoneOpen"]),key(){return this.$route.name?this.$route.name+ +new Date:this.$route+ +new Date}},data(){return{downloadMusicInfo:{name:"",url:""}}},methods:{hideNav(){this.$store.dispatch("changeNavPhone",!1)}}},H=V,J=(0,I.Z)(H,T,O,!1,null,null,null),q=J.exports,Z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"foot-container",attrs:{id:"footer"}},[e("div",{staticClass:"player"},[e("audio",{ref:"audioplay",attrs:{id:"audio",autoplay:"",src:t.songUrl},on:{play:function(e){return t.changeState(!0)},pause:function(e){return t.changeState(!1)},loadedmetadata:t.onLoadedmetadata,timeupdate:t.onTimeupdate,ended:function(e){3==t.playModel?t.loopPlay():t.toggleSong(1)}}}),e("div",{staticClass:"left-cover-content"},[0!==Object.keys(t.nowSongDetail).length?e("div",{staticClass:"cover-content"},[e("div",{staticClass:"cover",on:{click:t.showSongDetail,mouseenter:function(e){t.showMask=!0},mouseleave:function(e){t.showMask=!1}}},[e("transition",{attrs:{name:"el-fade-in-linear"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showMask,expression:"showMask"}],staticClass:"mask-playicon",staticStyle:{cursor:"pointer",background:"transparent"}},[e("span",{class:t.isShowSongDetail?"iconfont icon-down-arrow":"iconfont icon-xiangshangjiantou"})])]),e("img",{class:{blur:t.showMask},attrs:{src:t.cover,alt:""}})],1),e("div",{staticClass:"songname"},[e("p",{staticStyle:{"padding-bottom":"5px"}},[t._v(t._s(t.nowSongDetail.name))]),e("p",{staticClass:"singer"},[t._v(t._s(t.nowSongDetail.ar[0].name))])]),e("div",{staticClass:"like-song",on:{click:t.likeNowSongBy}},[e("span",{class:t.islike?"iconfont icon-xihuan2":"iconfont icon-xihuan"})]),e("div",{staticClass:"download",attrs:{title:"下载"},on:{click:t.downloadCurrentMusic}},[e("span",{staticClass:"iconfont icon-xiazai"})])]):t._e(),0==Object.keys(t.nowSongDetail).length?e("div",{staticClass:"cover-content",on:{click:t.showSongDetail}},[t._m(0),e("div",{staticClass:"songname"},[t._v("暂无音乐")])]):t._e()]),e("div",{staticClass:"center-play-song"},[e("div",{staticClass:"change-play"},[e("span",{staticClass:"change-box",on:{click:function(e){return t.toggleSong(0)}}},[e("i",{staticClass:"iconfont icon-shangyiqu"})]),t.isPlaying?e("span",{staticClass:"play-box",on:{click:t.pauseMusic}},[e("i",{staticClass:"iconfont icon-pause"})]):e("span",{staticClass:"play-box",on:{click:t.playMusic}},[e("i",{staticClass:"iconfont icon-play"})]),e("span",{staticClass:"change-box",on:{click:function(e){return t.toggleSong(1)}}},[e("i",{staticClass:"iconfont icon-xiayiqu"})])]),e("div",{staticClass:"song-progress"},[e("span",{staticStyle:{cursor:"auto"}},[t._v(t._s(t.currentTime))]),e("div",{staticClass:"s-progress"},[e("Progress",{attrs:{"is-format-tooltip":!0,"format-tooltip":t.formatTooltip,showRadiusBtn:!1,disabled:0==t.playingList.length},on:{onChange:t.changeSongProgress},model:{value:t.songProgress,callback:function(e){t.songProgress=e},expression:"songProgress"}})],1),e("span",{staticStyle:{cursor:"auto"}},[t._v(t._s(t.totalTime))])]),e("div",{staticClass:"playmodel"},[1==t.playModel?e("el-tooltip",{attrs:{effect:"dark",content:"顺序播放",placement:"top"}},[1==t.playModel?e("span",{staticClass:"iconfont icon-orderplay",on:{click:function(e){return t.changePlayModel(2)}}}):t._e()]):t._e(),2==t.playModel?e("el-tooltip",{attrs:{effect:"dark",content:"随机播放",placement:"top"}},[2==t.playModel?e("span",{staticClass:"iconfont icon-random",on:{click:function(e){return t.changePlayModel(3)}}}):t._e()]):t._e(),3==t.playModel?e("el-tooltip",{attrs:{effect:"dark",content:"单曲循环",placement:"top"}},[3==t.playModel?e("span",{staticClass:"iconfont icon-danqu",on:{click:function(e){return t.changePlayModel(1)}}}):t._e()]):t._e(),e("span",{staticClass:"iconfont icon-cibiaoquanyi",on:{click:t.showFloatLyric}})],1)]),e("div",{staticClass:"right-voice"},[e("span",{staticClass:"mute"},[0==t.voiceProgress?e("i",{staticClass:"iconfont icon-jingyin",on:{click:t.cancelMute}}):e("i",{staticClass:"iconfont icon-laba",on:{click:t.muteVolume}})]),e("div",{staticClass:"v-progress"},[e("Progress",{attrs:{showRadiusBtn:!1,isActiveBar:!1},on:{onChange:t.changeVoiceProgress},model:{value:t.voiceProgress,callback:function(e){t.voiceProgress=e},expression:"voiceProgress"}})],1),e("div",{staticClass:"songplaylist"},[e("el-tooltip",{attrs:{effect:"dark",content:"播放列表",placement:"top"}},[e("span",{staticClass:"iconfont icon-songplaylist",on:{click:function(e){t.isShowDrawer=!t.isShowDrawer}}})])],1)]),e("transition",{attrs:{name:"playlist"}},[t.isShowDrawer?e("PlayingList",{on:{closePlayList:function(e){t.isShowDrawer=!1}}}):t._e()],1)],1)])},G=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"cover"},[e("span",{staticClass:"iconfont icon-yinleyanzou"})])}];function K(t){t=parseInt(t),t=t>1e4?Math.floor(t/1e3):Math.floor(t);let e=Math.floor(t/60),s=Math.floor(t%60);return e=e<10?"0"+e:e,s=s<10?"0"+s:s,e+":"+s}function Q(t,e){return Math.floor(Math.random()*(e-t+1))+t}var X=function(){var t=this,e=t._self._c;return e("div",{ref:"progressBox",staticClass:"progressBox",style:t.progressBoxStyle,on:{mousemove:t.setTooltip,mouseleave:t.progressBoxLeave,click:t.changeProgressBar}},[e("div",{ref:"progressBar",staticClass:"progressBar",style:t.progressBarStyle},[t.isActiveBar?e("div",{staticClass:"activeBar"}):t._e()]),e("transition",{attrs:{name:"el-fade-in-linear"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showRadiusBtn?t.showRadiusBtn:t.hoverShowRadiusBtn,expression:"showRadiusBtn ? showRadiusBtn : hoverShowRadiusBtn"}],ref:"radiusBtn",staticClass:"radiusBtn",style:t.radiusBtnStyle,on:{mouseenter:t.radiusBtnHover,mouseleave:t.radiusBtnLeave,mousedown:t.dragProgressBar}})]),e("transition",{attrs:{name:"el-fade-in-linear"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showToolTip&&t.hoverShowToolTip,expression:"showToolTip && hoverShowToolTip"}],ref:"tooltip",staticClass:"tooltip",style:{bottom:`${t.progressSize+10}px`}},[t._v(" "+t._s(t.tooltipTxt)+" ")])])],1)},W=[],Y={name:"Progress",props:{percent:{type:Number,default:0},progressSize:{type:[Number,String],default:6},showRadiusBtn:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},showToolTip:{type:Boolean,default:!0},isFormatTooltip:{type:Boolean,default:!1},formatTooltip:{type:Function},isActiveBar:{type:Boolean,default:!0}},data(){return{tooltipTxt:0,hoverShowRadiusBtn:!1,radiusBtnActive:!1,hoverShowToolTip:!1,isDrag:!1}},mounted(){this.setProgressBar(this.percent)},model:{prop:"percent",event:"onChange"},computed:{progressBoxStyle(){let t={height:`${this.progressSize}px`,borderRadius:`${this.progressSize}px`,cursor:this.disabled?"not-allowed":"pointer"};return t},progressBarStyle(){let t={borderRadius:`${this.progressSize}px`,transition:this.isDrag?"none":"all 0.3s ease-out",cursor:this.disabled?"not-allowed":"pointer"};return t},radiusBtnStyle(){let t={width:this.radiusBtnActive?`${this.radiusBtnSize+2}px`:`${this.radiusBtnSize}px`,height:this.radiusBtnActive?`${this.radiusBtnSize+2}px`:`${this.radiusBtnSize}px`,transform:`translate(${5-this.radiusBtnSize}px,-50%)`,transition:this.isDrag?"none":"all 0.3s ease-out",cursor:this.disabled?"not-allowed":"pointer"};return t},radiusBtnSize(){let t=this.progressSize>=8?2*this.progressSize:2.5*this.progressSize;return t=this.progressSize<=3?4*this.progressSize:t,t=t<12?12:t,t}},methods:{getMousePositon(t){let e=this.$refs.progressBox.getBoundingClientRect().width,s=this.$refs.progressBox.getBoundingClientRect().left,i=t.clientX-s;i=i<=0?0:i,i=i>=e?e:i;let n=Math.ceil(100*i/e);return n},setProgressBar(t){this.$refs.progressBar.style.width=t+"%",this.$refs.radiusBtn.style.left=t+"%"},setTooltip(t){if(this.hoverShowRadiusBtn=!0,this.disabled)return;if(!this.showToolTip)return;this.hoverShowToolTip=!0;let e=this.getMousePositon(t);this.$refs.tooltip.style.left=e+"%",this.tooltipTxt=this.isFormatTooltip&&this.formatTooltip?this.formatTooltip(e):e},changeProgressBar(t){if(this.disabled)return;let e=this.getMousePositon(t);this.$emit("onChange",e)},radiusBtnHover(){this.hoverShowRadiusBtn=!0,this.radiusBtnActive=!0},radiusBtnLeave(){this.isDrag||(this.hoverShowRadiusBtn=!1,this.radiusBtnActive=!1)},dragProgressBar(){if(this.disabled)return;let t=t=>{this.isDrag=!0;let e=this.getMousePositon(t);this.setProgressBar(e),this.setTooltip(t)},e=s=>{this.isDrag=!1,document.removeEventListener("mousemove",t),this.changeProgressBar(s),this.progressBoxLeave(),this.radiusBtnActive=!1,document.removeEventListener("mouseup",e)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",e)},progressBoxLeave(){this.hoverShowToolTip=!1,this.hoverShowRadiusBtn=!1}},watch:{percent(t){this.isDrag||this.setProgressBar(t)}}},tt=Y,et=(0,I.Z)(tt,X,W,!1,null,"1c492df8",null),st=et.exports,it=function(){var t=this,e=t._self._c;return e("div",{staticClass:"playing-list",attrs:{id:"playing-song-list"}},[e("div",{staticClass:"top-nav"},[e("TabBar",{attrs:{tabitems:t.tabitems},on:{tabItemClick:t.tabItemClick}})],1),0==t.activeItem?e("div",{staticClass:"play-list"},[e("div",{staticClass:"hd"},[e("h4",{staticStyle:{padding:"0px 10px"}},[t._v("总"+t._s(t.playingList.length)+"首")]),e("span",{on:{click:t.deleteAll}},[e("i",{staticClass:"iconfont icon-delete"}),t._v("清空")])]),e("div",{staticClass:"bd"},[e("el-table",{staticStyle:{width:"100%"},attrs:{size:"mini","show-header":!1,"row-class-name":t.tableRowClassName,data:t.playingList,"empty-text":"暂无歌曲"},on:{"row-dblclick":t.playSongClick}},[e("el-table-column",{attrs:{width:"50"},scopedSlots:t._u([{key:"default",fn:function(s){return[s.row.id===t.nowSongDetail.id?e("span",{staticClass:"iconfont",class:t.isPlaying?" icon-voice":"icon-jingyin_laba"}):e("span",[t._v(t._s(t._f("formatIndex")(s.row.index)))])]}}],null,!1,3301611334)}),e("el-table-column",{attrs:{prop:"name",label:"歌曲","show-overflow-tooltip":!0,width:"100"}}),e("el-table-column",{attrs:{prop:"ar[0].name",label:"歌手","show-overflow-tooltip":!0,width:"100"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",{staticClass:"sname",on:{click:function(e){return t.toSinger(s.row.ar[0].id)}}},[t._v(" "+t._s(s.row.ar[0].name)+" ")])]}}],null,!1,1121264130)}),e("el-table-column",{attrs:{prop:"dt",label:"时长"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",[t._v(" "+t._s(t._f("formatDuration")(s.row.dt))+" ")])]}}],null,!1,2896966386)}),e("el-table-column",{attrs:{width:"60"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",{staticClass:"iconfont icon-guanbi",on:{click:function(e){return t.deleteSong(s.row)}}})]}}],null,!1,163286182)})],1)],1)]):t._e(),1==t.activeItem?e("div",{staticClass:"history-list"},[e("div",{staticClass:"hd"},[e("h4",{staticStyle:{padding:"0px 10px"}},[t._v("总"+t._s(t.historyPlay.length)+"首")]),e("span",{staticStyle:{cursor:"pointer"},on:{click:t.deleteAllHistory}},[e("i",{staticClass:"iconfont icon-delete"}),t._v("清空")])]),e("div",{staticClass:"bd"},[e("el-table",{staticStyle:{width:"100%"},attrs:{size:"mini","show-header":!1,"row-class-name":t.tableRowClassName,data:t.historyPlay,"empty-text":"暂无记录"},on:{"row-dblclick":t.playHistorySong}},[e("el-table-column",{attrs:{width:"50"},scopedSlots:t._u([{key:"default",fn:function(s){return[s.row.id==t.nowSongDetail.id?e("span",{staticClass:"iconfont",class:t.isPlaying?" icon-voice":"icon-jingyin_laba"}):e("span",[t._v(t._s(t._f("formatIndex")(s.row.index)))])]}}],null,!1,1778329851)}),e("el-table-column",{attrs:{prop:"name",label:"歌曲","show-overflow-tooltip":!0,width:"100"}}),e("el-table-column",{attrs:{prop:"ar[0].name",label:"歌手","show-overflow-tooltip":!0,width:"100"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",{staticClass:"sname",on:{click:function(e){return t.toSinger(s.row.ar[0].id)}}},[t._v(" "+t._s(s.row.ar[0].name)+" ")])]}}],null,!1,1121264130)}),e("el-table-column",{attrs:{prop:"dt",label:"时长"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",[t._v(" "+t._s(t._f("formatDuration")(s.row.dt))+" ")])]}}],null,!1,2896966386)}),e("el-table-column",{attrs:{width:"60"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",{staticClass:"iconfont icon-guanbi",on:{click:function(e){return t.deleteHistory(s.row)}}})]}}],null,!1,2497133713)})],1)],1)]):t._e()])},nt=[],ot=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tabbar"},[e("div",{staticClass:"tab"},t._l(t.tabitems,(function(s,i){return e("div",{key:i,staticClass:"tab-item",class:{active:t.currentIndex==i},on:{click:function(e){return t.tabItemClick(i)}}},[t._v(" "+t._s(s.name)+" ")])})),0)])},at=[],rt={name:"TabBar",props:{tabitems:{type:Array,default(){return[]}}},data(){return{currentIndex:0}},methods:{tabItemClick(t){this.currentIndex=t,this.$emit("tabItemClick",t)}}},lt=rt,ct=(0,I.Z)(lt,ot,at,!1,null,"a042ce20",null),ut=ct.exports,dt={name:"PlayingList",components:{TabBar:ut},computed:{...(0,C.mapGetters)(["playingList","historyPlay","nowSongDetail","isPlaying"])},data(){return{tabitems:[{name:"播放列表"},{name:"历史记录"}],activeItem:0}},filters:{formatIndex(t){return t<9?"0"+(t+1):t+1}},methods:{tabItemClick(t){this.activeItem=t},playSongClick(t){(0,u.GL)(t.id).then((e=>{(0,u.mo)({id:t.id}).then((t=>{this.$store.dispatch("saveSongUrl",t.data.data[0].url)})),this.$store.dispatch("changePlayState",!0),this.$store.dispatch("saveSongDetail",t)})).catch((e=>{this.$message({message:"暂时无法播放，换首试试",type:"warning",center:!0}),this.$store.dispatch("deleteSong",t.id)}))},deleteSong(t){this.$store.dispatch("deleteSong",t.id)},deleteAll(){this.$store.dispatch("deleteAll"),this.$store.dispatch("saveCurrentLyric",[])},playHistorySong(t){this.playSongClick(t),this.$store.dispatch("addPlayinglist",t)},deleteAllHistory(){this.$store.dispatch("deleteAllHistory")},deleteHistory(t){this.$store.dispatch("deleteHistory",t.id)},tableRowClassName({row:t,rowIndex:e}){if(t.index=e,e%2!==0)return"rowEven"},toSinger(t){this.$router.push(`/artist?q=${t}`)}},mounted(){let t=document.querySelector("#playing-song-list"),e=document.querySelector("#footer");document.addEventListener("mousedown",(s=>{t&&(t.contains(s.target)||e.contains(s.target)||this.$emit("closePlayList"))}))}},ht=dt,gt=(0,I.Z)(ht,it,nt,!1,null,"1b5af9e5",null),pt=gt.exports,mt={name:"foot",components:{PlayingList:pt,Progress:st},data(){return{totalSecond:this.getItem("totalSecond")?this.getItem("totalSecond"):0,totalTime:this.getItem("totalTime")?this.getItem("totalTime"):"00:00",currentTime:this.getItem("currentTime")?this.getItem("currentTime"):"00:00",songProgress:this.getItem("songProgress")?this.getItem("songProgress"):0,voiceProgress:this.getItem("voiceProgress")?this.getItem("voiceProgress"):50,playModel:this.getItem("playModel")?this.getItem("playModel"):1,nowVolume:50,islike:!1,showMask:!1,isShowDrawer:!1,formatlyric:[],currentIndex:null}},computed:{...(0,C.mapGetters)(["isLogin","userInfo","songUrl","isPlaying","playingList","nowSongDetail","likeSongIds","currentSecond","currentLyric","isShowSongDetail"]),cover(){return this.nowSongDetail.al.picUrl+"?param=60y60"}},created(){0!=Object.keys(this.nowSongDetail).length&&this.getNowLyricBy(this.nowSongDetail.id)},mounted(){this.$refs.audioplay.volume=this.voiceProgress/100,this.pauseMusic(),this.isLikeNowSong()},methods:{showSongDetail(){this.$store.commit("showSongDetail")},showFloatLyric(){this.$store.commit("showFloatLyric")},changeState(t){this.$store.dispatch("changePlayState",t)},playMusic(){0==this.playingList.length?this.$message({message:"播放列表为空",type:"warning",center:!0}):(this.$refs.audioplay.currentTime=this.currentSecond," "!=this.songUrl?this.$refs.audioplay.play():(0,u.mo)({id:this.nowSongDetail.id}).then((t=>{this.$store.dispatch("saveSongUrl",t.data.data[0].url)})))},pauseMusic(){this.$refs.audioplay.pause()},onLoadedmetadata(t){this.totalSecond=t.target.duration,this.totalTime=K(this.totalSecond),this.setItem("totalTime",this.totalTime),this.setItem("totalSecond",this.totalSecond)},onTimeupdate(t){this.$store.dispatch("saveCurrentSeconds",t.target.currentTime),this.currentTime=K(t.target.currentTime),this.setItem("currentTime",this.currentTime);let e=Math.ceil(t.target.currentTime/this.totalSecond*100);e==1/0||isNaN(e)||(this.setItem("songProgress",e),this.songProgress=this.getItem("songProgress"))},changeSongProgress(t){let e=Math.ceil(t/100*this.totalSecond);this.$refs.audioplay.currentTime=e,this.currentLyric.forEach(((t,s)=>{e>=t.time&&this.$store.commit("saveCurrentRow",s)}))},formatTooltip(t){return K(t/100*this.totalSecond)},muteVolume(){this.nowVolume=this.voiceProgress,this.voiceProgress=0,this.$refs.audioplay.volume=0},cancelMute(){this.voiceProgress=this.nowVolume,this.$refs.audioplay.volume=this.voiceProgress/100},changeVoiceProgress(t){this.setItem("voiceProgress",t),this.$refs.audioplay.volume=t/100},getSongUrlBy(t){(0,u.GL)(t.id).then((e=>{(0,u.mo)({id:t.id}).then((e=>{this.$store.dispatch("saveSongUrl",e.data.data[0].url),this.$store.dispatch("saveSongDetail",t)}))})).catch((e=>{this.$store.dispatch("deleteSong",t.id),this.orderPlay(1)}))},toggleSong(t){0!=this.playingList.length?1==this.playingList.length?(this.$message({message:"当前播放列表只有一首歌",type:"warning",center:!0}),this.playMusic()):1===this.playModel||3===this.playModel?this.orderPlay(t):2===this.playModel&&this.randomPlay():this.$message({message:"播放列表为空",type:"warning",center:!0})},changePlayModel(t){this.$refs.audioplay.loop=!1,this.playModel=t,this.setItem("playModel",t)},orderPlay(t){let e,s=this.playingList.findIndex((t=>this.nowSongDetail.id==t.id));switch(s){case-1:e=0;break;case 0:e=0===t?this.playingList.length-1:s+1;break;case this.playingList.length-1:e=0===t?s-1:0;break;default:e=0===t?s-1:s+1;break}let i=this.playingList[e];this.getSongUrlBy(i)},randomPlay(){let t=Q(0,this.playingList.length-1),e=this.playingList[t];this.getSongUrlBy(e)},loopPlay(){this.$refs.audioplay.loop=!0,this.$refs.audioplay.play()},getLikSongListBy(){(0,u.Qh)(this.userInfo.userid).then((t=>{console.log("获取喜欢的歌曲id列表",t),this.$store.dispatch("saveLikeSongIds",t.data.ids),this.islike=this.likeSongIds.includes(this.nowSongDetail.id)}))},isLikeNowSong(){this.isLogin?0!=this.likeSongIds.length?this.islike=this.likeSongIds.includes(this.nowSongDetail.id):this.getLikSongListBy():this.islike=!1},likeNowSongBy(){if(!this.$store.state.isLogin)return void this.$message({type:"warning",message:"登录后才能收藏",showClose:!0,center:!0});let t=!this.islike;(0,u.Oq)(this.nowSongDetail.id,t).then((e=>{this.getLikSongListBy(),1==t?this.$message({message:"已添加到我喜欢的音乐",type:"success",center:!0}):this.$message({message:"取消喜欢成功",type:"success",center:!0})}))},downloadCurrentMusic(){let t={url:this.songUrl,name:this.nowSongDetail.name+" - "+this.nowSongDetail.ar[0].name};this.$store.commit("updateDownloadMusicInfo",t)},getNowLyricBy(t){(0,u.gg)(t).then((t=>{if(t.data.nolyric)return;let e=t.data.lrc.lyric;this.formatLyric(e),this.$store.dispatch("saveCurrentLyric",this.formatlyric)}))},formatLyric(t){let e=t.split("\n");for(let s=0;s<e.length;s++){let t=e[s],i=t.split("]"),n=i.pop();i.forEach(((t,e)=>{let s={},i=t.substr(1,t.length-1).split(":"),o=60*i[0]+Math.ceil(i[1]);0!==n.trim().length&&(s.time=o,s.text=n,this.formatlyric.push(s))}))}this.formatlyric.sort(((t,e)=>t.time-e.time))}},watch:{nowSongDetail(){this.isLikeNowSong()},likeSongIds(){this.isLikeNowSong()},playingList(t){0==t.length&&(this.removeItem("songProgress"),this.songProgress=0,this.removeItem("totalTime"),this.totalTime="00:00")},nowSongDetail(){0!=Object.keys(this.nowSongDetail).length&&(this.formatlyric=[],this.getNowLyricBy(this.nowSongDetail.id),this.$store.commit("saveCurrentRow",null))}}},ft=mt,vt=(0,I.Z)(ft,Z,G,!1,null,null,null),yt=vt.exports,St={name:"app",components:{top:M,index:q,foot:yt}},wt=St,Ct=(0,I.Z)(wt,a,r,!1,null,null,null),bt=Ct.exports,kt=VueRouter,Lt=s.n(kt);o().use(Lt());const _t=Lt().prototype.push;Lt().prototype.push=function(t){return _t.call(this,t).catch((t=>t))};const Pt=new(Lt())({mode:"hash",routes:[{path:"/",redirect:"/discovery"},{path:"/discovery",component:()=>Promise.resolve().then(s.bind(s,8118))},{path:"/playlists",component:()=>s.e(972).then(s.bind(s,2972))},{path:"/songs",component:()=>s.e(138).then(s.bind(s,1686))},{path:"/mvs",component:()=>s.e(430).then(s.bind(s,9430))},{path:"/result",component:()=>s.e(547).then(s.bind(s,7547))},{path:"/playlist",component:()=>s.e(852).then(s.bind(s,852))},{path:"/mv",component:()=>s.e(291).then(s.bind(s,1291))},{path:"/leaderboard",component:()=>s.e(767).then(s.bind(s,1767))},{path:"/artists",component:()=>s.e(21).then(s.bind(s,2021))},{path:"/artist",component:()=>s.e(118).then(s.bind(s,7118))},{path:"/login",component:()=>s.e(707).then(s.bind(s,1707))},{path:"/userInfo",component:()=>s.e(222).then(s.bind(s,5222))}]});var It=Pt,xt={filters:{LocaleDateString(t){if(!t)return"";let e=new Date(t);return e.toLocaleDateString()+" "},formatDuration(t){let e=Math.floor(t/1e3/60).toString().padStart(2,"0"),s=Math.floor(t%60).toString().padStart(2,"0");return e+":"+s},LocaleString(t){if(!t)return"";let e=new Date(t);return e.toLocaleString()},ellipsisPlayVolume(t){return t<1e4?t:t<1e8?parseInt(t/1e4)+"万":parseInt(t/1e8)+"亿"}}};const Bt={isLogin:!!sessionStorage.getItem("isLogin")&&JSON.parse(sessionStorage.getItem("isLogin")),token:sessionStorage.getItem("token")?JSON.parse(sessionStorage.getItem("token")):null,cookie:sessionStorage.getItem("cookie")?JSON.parse(sessionStorage.getItem("cookie")):null,userInfo:sessionStorage.getItem("userInfo")?JSON.parse(sessionStorage.getItem("userInfo")):{username:"",avater:"",userid:""},userSongList:localStorage.getItem("userSongList")?JSON.parse(localStorage.getItem("userSongList")):[],likeSongIds:localStorage.getItem("likeSongIds")?JSON.parse(localStorage.getItem("likeSongIds")):[],userFollowsList:[],subAlbumlist:[],subSingerlist:[],subMvlist:[],loginStatus:!1,showLogin:!1,navPhoneOpen:!1,isPlaying:!1,downloadMusicInfo:{},isShowSongDetail:!1,showFloatLyric:!1,currentLyric:[],songUrl:" ",nowSongDetail:localStorage.getItem("nowSongDetail")?JSON.parse(localStorage.getItem("nowSongDetail")):{},playingList:localStorage.getItem("playingList")?JSON.parse(localStorage.getItem("playingList")):[],historyPlay:localStorage.getItem("historyPlay")?JSON.parse(localStorage.getItem("historyPlay")):[],currentSecond:localStorage.getItem("currentSecond")?JSON.parse(localStorage.getItem("currentSecond")):0,currentRow:localStorage.getItem("currentRow")?JSON.parse(localStorage.getItem("currentRow")):0};var $t=Bt;const Dt={updateLogin(t,e){t.isLogin=e,sessionStorage.setItem("isLogin",JSON.stringify(t.isLogin))},saveUserInfo(t,e){t.userInfo=e},saveUserSongList(t,e){t.userSongList=e},saveUserFollowsList(t,e){t.userFollowsList=e},saveFavoriteAlbum(t,e){t.subAlbumlist=e},saveFavoriteSinger(t,e){t.subSingerlist=e},saveFavoriteMv(t,e){t.subMvlist=e},updataNavPhone(t,e){t.navPhoneOpen=e},saveLikeSongIds(t,e){t.likeSongIds=e,localStorage.setItem("likeSongIds",JSON.stringify(t.likeSongIds))},changePlayState(t,e){t.isPlaying=e},saveSongUrl(t,e){t.songUrl=e},saveSongDetail(t,e){t.nowSongDetail=e,localStorage.setItem("nowSongDetail",JSON.stringify(t.nowSongDetail));let s=t.historyPlay.findIndex((t=>t.id==e.id));-1==s&&(t.historyPlay.unshift(e),localStorage.setItem("historyPlay",JSON.stringify(t.historyPlay)))},addPlayinglist(t,e){let s=t.playingList.findIndex((t=>t.id==e.id));-1==s&&(t.playingList.unshift(e),localStorage.setItem("playingList",JSON.stringify(t.playingList)))},addAllSong(t,e){t.playingList=e,localStorage.setItem("playingList",JSON.stringify(t.playingList))},deleteSong(t,e){let s=t.playingList.findIndex((t=>e==t.id));t.playingList.splice(s,1),localStorage.setItem("playingList",JSON.stringify(t.playingList))},deleteAll(t){t.playingList=[],t.songUrl="",t.nowSongDetail={},t.isPlaying=!1,localStorage.removeItem("playingList"),localStorage.removeItem("nowSongDetail"),localStorage.removeItem("currentRow")},deleteAllHistory(t){t.historyPlay=[],localStorage.setItem("historyPlay",JSON.stringify(t.historyPlay))},deleteHistory(t,e){let s=t.historyPlay.findIndex((t=>e==t.id));t.historyPlay.splice(s,1),localStorage.setItem("historyPlay",JSON.stringify(t.historyPlay))},showSongDetail(t){t.isShowSongDetail=!t.isShowSongDetail},saveCurrentSeconds(t,e){t.currentSecond=e,localStorage.setItem("currentSecond",JSON.stringify(t.currentSecond))},saveCurrentRow(t,e){t.currentRow=e,localStorage.setItem("currentRow",JSON.stringify(t.currentRow))},saveCurrentLyric(t,e){t.currentLyric=e},showFloatLyric(t){t.showFloatLyric=!t.showFloatLyric},updateDownloadMusicInfo(t,e){t.downloadMusicInfo=e},updataUsrInfo(t,e){t.userInfo=e,sessionStorage.setItem("userInfo",JSON.stringify(t.userInfo))},updataToken(t,e){t.token=e,sessionStorage.setItem("token",JSON.stringify(t.token))},updataCookie(t,e){t.cookie=e,sessionStorage.setItem("cookie",JSON.stringify(t.cookie)),document.cookie=t.cookie}};var Nt=Dt;const Mt={updateLogin({commit:t},e){t("updateLogin",e)},saveUserInfo({commit:t},e){t("saveUserInfo",e)},saveUserSongList({commit:t},e){t("saveUserSongList",e)},saveUserFollowsList({commit:t},e){t("saveUserFollowsList",e)},saveFavoriteAlbum({commit:t},e){t("saveFavoriteAlbum",e)},saveFavoriteSinger({commit:t},e){t("saveFavoriteSinger",e)},saveFavoriteMv({commit:t},e){t("saveFavoriteMv",e)},saveLikeSongIds({commit:t},e){t("saveLikeSongIds",e)},changeNavPhone({commit:t},e){t("updataNavPhone",e)},changePlayState({commit:t},e){t("changePlayState",e)},saveSongUrl({commit:t},e){t("saveSongUrl",e)},saveSongDetail({commit:t},e){t("saveSongDetail",e)},addPlayinglist({commit:t},e){t("addPlayinglist",e)},addAllSong({commit:t},e){t("addAllSong",e)},deleteSong({commit:t},e){t("deleteSong",e)},deleteAll({commit:t}){t("deleteAll")},deleteAllHistory({commit:t}){t("deleteAllHistory")},deleteHistory({commit:t},e){t("deleteHistory",e)},saveCurrentSeconds({commit:t},e){t("saveCurrentSeconds",e)},saveCurrentLyric({commit:t},e){t("saveCurrentLyric",e)}};var Tt=Mt;const Ot=t=>t.isLogin,Ut=t=>t.userInfo,At=t=>t.userSongList,Rt=t=>t.userFollowsList,Ft=t=>t.subAlbumlist,zt=t=>t.subSingerlist,jt=t=>t.subMvlist,Et=t=>t.likeSongIds,Vt=t=>t.navPhoneOpen,Ht=t=>t.isPlaying,Jt=t=>t.songUrl,qt=t=>t.downloadMusicInfo,Zt=t=>t.nowSongDetail,Gt=t=>t.playingList,Kt=t=>t.historyPlay,Qt=t=>t.isShowSongDetail,Xt=t=>t.currentSecond,Wt=t=>t.currentLyric,Yt=t=>t.currentRow,te=t=>t.showFloatLyric;o().use(b());var ee=new(b().Store)({state:$t,mutations:Nt,actions:Tt,getters:i}),se=s(8847);const ie=(t,e)=>{"object"===typeof e&&(e=JSON.stringify(e)),window.localStorage.setItem(t,e)},ne=t=>{const e=window.localStorage.getItem(t);try{return JSON.parse(e)}catch(s){return e}},oe=t=>{window.localStorage.removeItem(t)};It.afterEach(((t,e,s)=>{document.querySelector(".index-contain .main").scrollTop=0})),o().use(se.ZP,{preLoad:1.3,error:s.e(67).then(s.t.bind(s,8067,17)),loading:"https://m1.im5i.com/2022/08/31/UqnBNq.gif",attempt:3}),o().use(p()),o().prototype.$ELEMENT={size:"small",zIndex:3e3},o().mixin(xt),o().config.productionTip=!1,o().prototype.$Bus=new(o()),o().prototype.setItem=ie,o().prototype.getItem=ne,o().prototype.removeItem=oe,new(o())({render:t=>t(bt),el:"#app",router:It,store:ee}).$mount("#app")},1833:function(t,e,s){s.d(e,{Ik:function(){return I},pK:function(){return g},GL:function(){return F},hE:function(){return b},Bf:function(){return M},Qh:function(){return j},Dh:function(){return d},mo:function(){return h},td:function(){return N},uS:function(){return v},if:function(){return B},Oq:function(){return z},ix:function(){return O},JC:function(){return U},Ff:function(){return R},gg:function(){return x},Uw:function(){return P},QD:function(){return S},Tz:function(){return L},E4:function(){return w},y7:function(){return f},Db:function(){return m},AL:function(){return p},OF:function(){return k},jr:function(){return $},GB:function(){return D},tQ:function(){return A},FR:function(){return _},wj:function(){return T},oN:function(){return C},RI:function(){return y}});var i=s(7467),n=s.n(i),o=s(5959),a=s(1070),r=s.n(a);let l="https://autumnfish.cn/";const c=n().create({baseURL:l,timeout:5e3,changeOrigin:!0,withCredentials:!1,XMLHttpRequest:!0});c.interceptors.request.use((t=>(r().start(),t))),c.interceptors.response.use((t=>(r().done(),t))),c.interceptors.response.use((t=>200==t.status?Promise.resolve(t):Promise.reject(t)),(t=>{t&&(0,o.Message)({type:"error",message:"API接口出了点问题~ 请重新刷新~ ",showClose:!0})}));var u=c;function d(t){return u({url:"/top/song",method:"get",params:t})}function h(t){return u({url:"/song/url",method:"get",params:t})}function g(){return u({url:"/banner",method:"get"})}function p(t){return u({url:"/personalized",method:"get",params:t})}function m(t){return u({url:"/personalized/newsong",method:"get",params:{limit:t}})}function f(t){return u({url:"/personalized/mv",method:"get",params:{limit:t}})}function v(t){return u({url:"/top/playlist/highquality",method:"get",params:t})}function y(t){return u({url:"/top/playlist",method:"get",params:t})}function S(t){return u({url:"/mv/all",method:"get",params:t})}function w(t){return u({url:"/playlist/detail",method:"get",params:t})}function C(t){return u({url:"/song/detail",method:"get",params:t})}function b(t,e){return u({url:"/comment/"+e,method:"get",params:t})}function k(t){return u({url:"/cloudsearch",method:"get",params:t})}function L(t){return u({url:"/mv/url",method:"get",params:t})}function _(t){return u({url:"/simi/mv",method:"get",params:t})}function P(t){return u({url:"/mv/detail",method:"get",params:t})}function I(t,e=""){let s=""==e?"/artists":"/artist/"+e;return"simi"==e&&(s="/simi/artist"),u({url:s,method:"get",params:t})}function x(t){return u({url:"/lyric",method:"get",params:{id:t}})}function B(){return u({url:"/search/hot/detail",method:"get"})}function $(){return u({url:"/search/default",method:"get"})}function D(t){return u({url:"/search/search/suggest",method:"get",params:t})}function N(){return u({url:"/toplist",method:"get"})}function M(t){return u({url:"/artist/list",method:"get",params:t})}function T(t){return u({url:"/artists",method:"get",params:t})}function O(t){return u({url:"/login/cellphone",method:"post",params:t})}function U(t){return u({url:"/login/cellphone",method:"post",params:t})}function A(t){return u({url:"/captcha/sent",method:"post",params:t})}function R(){return u({url:"/login/status"})}function F(t){return u({url:"/check/music",params:{id:t}})}function z(t,e){return u({url:"/like",params:{id:t,like:e,timestamp:Date.parse(new Date)}})}function j(t){return u({url:"/likelist",params:{uid:t,timestamp:Date.parse(new Date)}})}},8118:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"discovery-container"},[e("div",{staticClass:"banner-pc"},[e("el-carousel",{attrs:{interval:4e3,type:"card",height:"200px"}},t._l(t.banners,(function(s,i){return e("el-carousel-item",{key:i},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.imageUrl,expression:"item.imageUrl"}],attrs:{alt:""},on:{click:function(e){return t.PlayBanner(s)}}}),e("h3",{staticClass:"medium"},[t._v(t._s(s))])])})),1)],1),e("div",{staticClass:"banner-phone"},[e("el-carousel",{attrs:{"indicator-position":"outside"}},t._l(t.banners,(function(s,i){return e("el-carousel-item",{key:i},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.imageUrl,expression:"item.imageUrl"}],attrs:{alt:""},on:{click:function(e){return t.PlayBanner(s)}}}),e("h3",{staticClass:"medium"},[t._v(t._s(s))])])})),1)],1),e("div",{staticClass:"recommend"},[e("h3",{staticClass:"title"},[t._v("推荐歌单")]),e("div",{staticClass:"items"},t._l(t.list,(function(s,i){return e("div",{key:i,staticClass:"item"},[e("div",{staticClass:"img-wrap"},[e("div",{staticClass:"desc-wrap"},[e("span",{staticClass:"desc"},[t._v("播放量："+t._s(t._f("ellipsisPlayVolume")(s.playCount)))])]),e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.picUrl,expression:"item.picUrl"}],attrs:{alt:""},on:{click:function(e){return t.toPlaylist(s.id)}}}),e("span",{staticClass:"iconfont icon-play",on:{click:function(e){return t.toPlaylist(s.id)}}})]),e("p",{staticClass:"name"},[t._v(t._s(s.name)+" ")])])})),0)]),e("div",{staticClass:"news"},[e("h3",{staticClass:"title"},[t._v("最新音乐")]),e("div",{staticClass:"items"},t._l(t.songs,(function(s,i){return e("div",{key:i,staticClass:"item",on:{dblclick:function(e){return t.PlayMusic(s)}}},[e("div",{staticClass:"img-wrap"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.picUrl,expression:"item.picUrl"}],attrs:{alt:""}}),e("span",{staticClass:"iconfont icon-play",on:{click:function(e){return t.PlayMusic(s)}}})]),e("div",{staticClass:"song-wrap"},[e("div",{staticClass:"song-name"},[t._v(t._s(s.name))]),e("div",{staticClass:"singer"},[t._v(t._s(s.song.artists[0].name))])])])})),0)]),e("div",{staticClass:"mvs"},[e("h3",{staticClass:"title"},[t._v("MV推荐")]),e("div",{staticClass:"items"},t._l(t.mvs,(function(s,i){return e("div",{key:i,staticClass:"item",on:{click:function(e){return t.toMvDetail(s.id)}}},[e("div",{staticClass:"img-wrap"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.picUrl,expression:"item.picUrl"}],attrs:{alt:""}}),e("span",{staticClass:"iconfont icon-play icon1"}),e("div",{staticClass:"num-wrap"},[e("span",{staticClass:"iconfont icon-play icon2"}),e("div",{staticClass:"num"},[t._v(t._s(s.playCount))])])]),e("div",{staticClass:"info-wrap"},[e("div",{staticClass:"name"},[t._v(t._s(s.name))]),e("div",{staticClass:"singer"},[t._v(t._s(s.artistName))])])])})),0)])])},n=[],o=s(1833),a={name:"discovery",data(){return{banners:[],list:[],songs:[],mvs:[],newSongLimit:15}},created(){(0,o.pK)().then((t=>{this.banners=t.data.banners})).then((()=>{this.loading=!1})),(0,o.AL)({limit:15}).then((t=>{this.list=t.data.result})),(0,o.Db)(this.newSongLimit).then((t=>{this.songs=t.data.result})),(0,o.y7)().then((t=>{this.mvs=t.data.result}))},methods:{PlayMusic(t){(0,o.GL)(t.id).then((e=>{(0,o.mo)({id:t.id}).then((t=>{this.$store.dispatch("saveSongUrl",t.data.data[0].url)}));const s={ids:t.id};(0,o.oN)(s).then((t=>{this.$store.dispatch("changePlayState",!0),this.$store.dispatch("saveSongDetail",t.data.songs[0]),this.$store.dispatch("addPlayinglist",t.data.songs[0])}))})).catch((t=>{console.log(t),this.$message({message:"暂时无法播放，换首试试",type:"warning",center:!0})}))},PlayBanner(t){if(0!=t.targetId)if(1==t.targetType||300==t.typeTitle){(0,o.mo)({id:t.targetId}).then((t=>{this.$store.dispatch("saveSongUrl",t.data.data[0].url)})).catch((t=>t));const e={ids:t.targetId};(0,o.oN)(e).then((t=>{this.$store.dispatch("saveSongDetail",t.data.songs[0]),this.$store.dispatch("addPlayinglist",t.data.songs[0])})).catch((t=>t))}else{if(1e3==t.targetType)return;if(10==t.targetType)return}},toPlaylist(t){this.$router.push(`/playlist?q=${t}`)},toMvDetail(t){this.$router.push(`/mv?q=${t}`)}}},r=a,l=s(2349),c=(0,l.Z)(r,i,n,!1,null,null,null),u=c.exports},5959:function(t){t.exports=ELEMENT},6294:function(t){t.exports=Vuex},7467:function(t){t.exports=axios}},e={};function s(i){var n=e[i];if(void 0!==n)return n.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(e,i,n,o){if(!i){var a=1/0;for(u=0;u<t.length;u++){i=t[u][0],n=t[u][1],o=t[u][2];for(var r=!0,l=0;l<i.length;l++)(!1&o||a>=o)&&Object.keys(s.O).every((function(t){return s.O[t](i[l])}))?i.splice(l--,1):(r=!1,o<a&&(a=o));if(r){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[i,n,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};s.t=function(i,n){if(1&n&&(i=this(i)),8&n)return i;if("object"===typeof i&&i){if(4&n&&i.__esModule)return i;if(16&n&&"function"===typeof i.then)return i}var o=Object.create(null);s.r(o);var a={};t=t||[null,e({}),e([]),e(e)];for(var r=2&n&&i;"object"==typeof r&&!~t.indexOf(r);r=e(r))Object.getOwnPropertyNames(r).forEach((function(t){a[t]=function(){return i[t]}}));return a["default"]=function(){return i},s.d(o,a),o}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.f={},s.e=function(t){return Promise.all(Object.keys(s.f).reduce((function(e,i){return s.f[i](t,e),e}),[]))}}(),function(){s.u=function(t){return"js/"+t+"."+{21:"f8d3a282",67:"f4e282a7",118:"d1daee31",138:"f1f10a63",222:"5fe2d402",291:"37354db3",430:"8306e03f",547:"e4f19cca",707:"53ca1440",767:"bf454697",852:"83c2efa2",972:"1aca5a9e"}[t]+".js"}}(),function(){s.miniCssF=function(t){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="cloud-music:";s.l=function(i,n,o,a){if(t[i])t[i].push(n);else{var r,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==e+o){r=d;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,s.nc&&r.setAttribute("nonce",s.nc),r.setAttribute("data-webpack",e+o),r.src=i),t[i]=[n];var h=function(e,s){r.onerror=r.onload=null,clearTimeout(g);var n=t[i];if(delete t[i],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((function(t){return t(s)})),e)return e(s)},g=setTimeout(h.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=h.bind(null,r.onerror),r.onload=h.bind(null,r.onload),l&&document.head.appendChild(r)}}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p=""}(),function(){var t={143:0};s.f.j=function(e,i){var n=s.o(t,e)?t[e]:void 0;if(0!==n)if(n)i.push(n[2]);else{var o=new Promise((function(s,i){n=t[e]=[s,i]}));i.push(n[2]=o);var a=s.p+s.u(e),r=new Error,l=function(i){if(s.o(t,e)&&(n=t[e],0!==n&&(t[e]=void 0),n)){var o=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;r.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",r.name="ChunkLoadError",r.type=o,r.request=a,n[1](r)}};s.l(a,l,"chunk-"+e,e)}},s.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,o,a=i[0],r=i[1],l=i[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(l)var u=l(s)}for(e&&e(i);c<a.length;c++)o=a[c],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(u)},i=self["webpackChunkcloud_music"]=self["webpackChunkcloud_music"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(3492)}));i=s.O(i)})();
//# sourceMappingURL=app.f0f992d3.js.map