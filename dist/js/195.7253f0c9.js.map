{"version":3,"file":"js/195.7253f0c9.js","mappings":"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","sources":["webpack://cloud-music/./src/views/pc/06.playlist.vue?fd90","webpack://cloud-music/src/views/pc/06.playlist.vue","webpack://cloud-music/./src/views/pc/06.playlist.vue?94f4","webpack://cloud-music/./src/views/pc/06.playlist.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"playlist-container\"},[_c('div',{staticClass:\"top-wrap\"},[_c('div',{staticClass:\"img-wrap\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.playlist.coverImgUrl),expression:\"playlist.coverImgUrl\"}],attrs:{\"alt\":\"\"}})]),_c('div',{staticClass:\"info-wrap\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.playlist.name))]),_c('div',{staticClass:\"author-wrap\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.playlist.creator.avatarUrl),expression:\"playlist.creator.avatarUrl\"}],staticClass:\"avatar\"}),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.playlist.creator.nickname))]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"LocaleDateString\")(_vm.playlist.createTime))+\" 创建\")])]),_c('div',{staticClass:\"play-wrap\"},[_c('span',{staticClass:\"iconfont icon-circle-play\"}),_c('span',{staticClass:\"text\",on:{\"click\":_vm.PlayAll}},[_vm._v(\"播放全部\")])]),_c('div',{staticClass:\"tag-wrap\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"标签:\")]),_c('ul',_vm._l((_vm.playlist.tags),function(item,index){return _c('li',{key:index},[_vm._v(\" \"+_vm._s(item)+\" \")])}),0)]),_c('div',{staticClass:\"desc-wrap\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"简介:\")]),_c('span',{staticClass:\"desc\"},[_vm._v(\" \"+_vm._s(_vm.playlist.description)+\" \")])])])]),_c('el-tabs',{model:{value:(_vm.activeIndex),callback:function ($$v) {_vm.activeIndex=$$v},expression:\"activeIndex\"}},[_c('el-tab-pane',{attrs:{\"label\":\"歌曲列表\",\"name\":\"1\"}},[_c('table',{staticClass:\"el-table playlist-table\"},[_c('thead',[_c('th'),_c('th'),_c('th',[_vm._v(\"音乐标题\")]),_c('th',[_vm._v(\"歌手\")]),_c('th',[_vm._v(\"专辑\")]),_c('th',[_vm._v(\"时长\")])]),_c('tbody',_vm._l((_vm.playlist.tracks),function(item,index){return _c('tr',{key:index,staticClass:\"el-table__row\",on:{\"dblclick\":function($event){return _vm.PlayMusic(item)}}},[_c('td',[_vm._v(_vm._s(index + 1))]),_c('td',[_c('div',{staticClass:\"img-wrap\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.al.picUrl),expression:\"item.al.picUrl\"}],attrs:{\"alt\":\"\"}}),_c('span',{staticClass:\"iconfont icon-play\",on:{\"click\":function($event){return _vm.PlayMusic(item)}}})])]),_c('td',[_c('div',{staticClass:\"song-wrap\"},[_c('div',{staticClass:\"name-wrap\"},[_c('span',[_vm._v(_vm._s(item.name))]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"添加到播放列表\",\"enterable\":false,\"placement\":\"bottom\"}},[_c('span',{staticClass:\"iconfont add-music icon-add-list\",on:{\"click\":function($event){return _vm.AddMusic(item)}}})])],1)])]),_c('td',[_vm._v(_vm._s(item.ar[0].name))]),_c('td',[_vm._v(_vm._s(item.al.name))]),_c('td',[_vm._v(_vm._s(_vm._f(\"formatDuration\")(item.dt)))])])}),0)])]),_c('el-tab-pane',{attrs:{\"label\":'评论(' + (_vm.commentInfo.total + _vm.commentInfo.hotComments.length) + ')',\"name\":\"2\"}},[(_vm.commentInfo.hotComments.length > 0)?_c('div',{staticClass:\"comment-wrap\"},[_c('p',{staticClass:\"title\"},[_vm._v(\" 热门评论\"),_c('span',{staticClass:\"number\"},[_vm._v(_vm._s(_vm.commentInfo.hotComments.length))])]),_c('div',{staticClass:\"comments-wrap\"},_vm._l((_vm.commentInfo.hotComments),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('div',{staticClass:\"icon-wrap\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.user.avatarUrl),expression:\"item.user.avatarUrl\"}],attrs:{\"alt\":\"\"}})]),_c('div',{staticClass:\"content-wrap\"},[_c('div',{staticClass:\"content\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.user.nickname)+\"：\")]),_c('span',{staticClass:\"comment\"},[_vm._v(_vm._s(item.content))])]),(item.beReplied[0])?_c('div',{staticClass:\"re-content\"},[_c('span',{staticClass:\"name\"},[_vm._v(\" \"+_vm._s(item.beReplied[0].user.nickname)+\"：\")]),_c('span',{staticClass:\"comment\"},[_vm._v(\" \"+_vm._s(item.beReplied[0].content)+\" \")])]):_vm._e(),_c('div',{staticClass:\"date\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm._f(\"LocaleDateString\")(item.time))+\" \")]),_c('span',{staticClass:\"iconfont icon-zan float-right\"},[_vm._v(\" \"+_vm._s(item.likedCount)+\" \")])])])])}),0)]):_vm._e(),(_vm.commentInfo.comments.length > 0)?_c('div',{staticClass:\"comment-wrap\"},[_c('p',{staticClass:\"title\"},[_vm._v(\" 最新评论\"),_c('span',{staticClass:\"number\"},[_vm._v(_vm._s(_vm.commentInfo.total))])]),_c('div',{staticClass:\"comments-wrap\"},_vm._l((_vm.commentInfo.comments),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('div',{staticClass:\"icon-wrap\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.user.avatarUrl),expression:\"item.user.avatarUrl\"}],attrs:{\"alt\":\"\"}})]),_c('div',{staticClass:\"content-wrap\"},[_c('div',{staticClass:\"content\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.user.nickname)+\"：\")]),_c('span',{staticClass:\"comment\"},[_vm._v(_vm._s(item.content))])]),(item.beReplied[0])?_c('div',{staticClass:\"re-content\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.beReplied[0].user.nickname)+\"：\")]),_c('span',{staticClass:\"comment\"},[_vm._v(_vm._s(item.beReplied[0].content))])]):_vm._e(),_c('div',{staticClass:\"date\"},[_vm._v(_vm._s(_vm._f(\"LocaleDateString\")(item.time)))])])])}),0)]):_vm._e(),_c('el-pagination',{attrs:{\"hide-on-single-page\":true,\"background\":\"\",\"current-page\":_vm.page,\"page-sizes\":[5, 10, 20, 30, 50],\"page-size\":10,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.commentInfo.total},on:{\"current-change\":_vm.handleCurrentChange}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"playlist-container\">\r\n    <div class=\"top-wrap\">\r\n      <div class=\"img-wrap\">\r\n        <!-- 封面 -->\r\n        <img v-lazy=\"playlist.coverImgUrl\" alt=\"\" />\r\n      </div>\r\n      <!-- 详细信息 -->\r\n      <div class=\"info-wrap\">\r\n        <!-- 名字 -->\r\n        <p class=\"title\">{{ playlist.name }}</p>\r\n        <div class=\"author-wrap\">\r\n          <!-- 头像 -->\r\n          <img v-lazy=\"playlist.creator.avatarUrl\" class=\"avatar\" />\r\n          <!-- 作者名字 -->\r\n          <span class=\"name\">{{ playlist.creator.nickname }}</span>\r\n          <!-- 创建日期 -->\r\n          <span class=\"time\">{{ playlist.createTime | LocaleDateString }} 创建</span>\r\n        </div>\r\n\r\n        <!-- 播放框框 -->\r\n        <div class=\"play-wrap\">\r\n          <span class=\"iconfont icon-circle-play\"></span>\r\n          <span class=\"text\" @click=\"PlayAll\">播放全部</span>\r\n        </div>\r\n        <!-- 标签处 -->\r\n        <div class=\"tag-wrap\">\r\n          <span class=\"title\">标签:</span>\r\n          <!-- 分类标签 -->\r\n          <ul>\r\n            <li v-for=\"(item, index) in playlist.tags\" :key=\"index\">\r\n              {{ item }}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <!-- 简介 -->\r\n        <div class=\"desc-wrap\">\r\n          <span class=\"title\">简介:</span>\r\n          <!-- 简介 -->\r\n          <span class=\"desc\">\r\n            {{ playlist.description }}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 歌曲列表部分，由activeIndex控制  -->\r\n    <el-tabs v-model=\"activeIndex\">\r\n      <el-tab-pane label=\"歌曲列表\" name=\"1\">\r\n        <!-- 表格 -->\r\n        <table class=\"el-table playlist-table\">\r\n          <!-- 表头 -->\r\n          <thead>\r\n            <th></th>\r\n            <th></th>\r\n            <th>音乐标题</th>\r\n            <th>歌手</th>\r\n            <th>专辑</th>\r\n            <th>时长</th>\r\n          </thead>\r\n          <!-- 表身体 -->\r\n          <tbody>\r\n            <!-- 表格中的每一行，tr表示一行 -->\r\n            <tr class=\"el-table__row\" v-for=\"(item, index) in playlist.tracks\" :key=\"index\" @dblclick=\"PlayMusic(item)\">\r\n              <!-- td代表HTML表格中的一个单元格。 -->\r\n              <td>{{ index + 1 }}</td>\r\n              <td>\r\n                <!-- 歌曲封面 -->\r\n                <div class=\"img-wrap\">\r\n                  <img v-lazy=\"item.al.picUrl\" alt=\"\" />\r\n                  <span class=\"iconfont icon-play\" @click=\"PlayMusic(item)\"></span>\r\n                </div>\r\n              </td>\r\n              <!-- 音乐标题 -->\r\n              <td>\r\n                <div class=\"song-wrap\">\r\n                  <div class=\"name-wrap\">\r\n                    <!-- 歌名 -->\r\n                    <span>{{ item.name }}</span>\r\n                    <!-- 增加列表 -->\r\n                    <el-tooltip class=\"item\" effect=\"dark\" content=\"添加到播放列表\" :enterable=\"false\" placement=\"bottom\">\r\n                      <span class=\"iconfont add-music icon-add-list\" @click=\"AddMusic(item)\"></span>\r\n                    </el-tooltip>\r\n                  </div>\r\n                </div>\r\n              </td>\r\n              <!-- 歌手名称 -->\r\n              <td>{{ item.ar[0].name }}</td>\r\n              <!-- 专辑名称 -->\r\n              <td>{{ item.al.name }}</td>\r\n              <!-- 音乐时长 -->\r\n              <td>{{ item.dt | formatDuration }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </el-tab-pane>\r\n\r\n      <!-- 歌曲列表部分，由activeIndex控制  -->\r\n      <el-tab-pane :label=\"\r\n        '评论(' + (commentInfo.total + commentInfo.hotComments.length) + ')'\r\n      \" name=\"2\">\r\n        <!-- 热门评论 -->\r\n        <div v-if=\"commentInfo.hotComments.length > 0\" class=\"comment-wrap\">\r\n          <p class=\"title\">\r\n            热门评论<span class=\"number\">{{\r\n                commentInfo.hotComments.length\r\n            }}</span>\r\n          </p>\r\n          <div class=\"comments-wrap\">\r\n            <div class=\"item\" v-for=\"(item, index) in commentInfo.hotComments\" :key=\"index\">\r\n              <!-- 热门评论用户头像 -->\r\n              <div class=\"icon-wrap\">\r\n                <img v-lazy=\"item.user.avatarUrl\" alt=\"\" />\r\n              </div>\r\n              <!-- 评论内容 -->\r\n              <div class=\"content-wrap\">\r\n                <div class=\"content\">\r\n                  <span class=\"name\">{{ item.user.nickname }}：</span>\r\n                  <span class=\"comment\">{{ item.content }}</span>\r\n                </div>\r\n                <!-- 评论的评论，如果存在的话，将其弄出来 -->\r\n                <div class=\"re-content\" v-if=\"item.beReplied[0]\">\r\n                  <!-- 评论的评论的人名字 -->\r\n                  <span class=\"name\">\r\n                    {{ item.beReplied[0].user.nickname }}：</span>\r\n                  <!-- 评论的评论的人评论内容 -->\r\n                  <span class=\"comment\"> {{ item.beReplied[0].content }} </span>\r\n                </div>\r\n                <!-- 评论时间 -->\r\n                <div class=\"date\">\r\n                  <span> {{ item.time | LocaleDateString }} </span>\r\n                  <!-- 点赞数 -->\r\n                  <span class=\"iconfont icon-zan float-right\">\r\n                    {{ item.likedCount }}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- 最新评论 -->\r\n        <div v-if=\"commentInfo.comments.length > 0\" class=\"comment-wrap\">\r\n          <p class=\"title\">\r\n            最新评论<span class=\"number\">{{ commentInfo.total }}</span>\r\n          </p>\r\n          <!-- 评论 -->\r\n          <div class=\"comments-wrap\">\r\n            <div class=\"item\" v-for=\"(item, index) in commentInfo.comments\" :key=\"index\">\r\n              <div class=\"icon-wrap\">\r\n                <img v-lazy=\"item.user.avatarUrl\" alt=\"\" />\r\n              </div>\r\n              <div class=\"content-wrap\">\r\n                <div class=\"content\">\r\n                  <span class=\"name\">{{ item.user.nickname }}：</span>\r\n                  <span class=\"comment\">{{ item.content }}</span>\r\n                </div>\r\n                <!-- 评论的评论 -->\r\n                <div class=\"re-content\" v-if=\"item.beReplied[0]\">\r\n                  <span class=\"name\">{{ item.beReplied[0].user.nickname }}：</span>\r\n                  <span class=\"comment\">{{ item.beReplied[0].content }}</span>\r\n                </div>\r\n                <!-- 评论时间 -->\r\n                <div class=\"date\">{{ item.time | LocaleDateString }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- 分页器 -->\r\n        <el-pagination :hide-on-single-page=\"true\" background @current-change=\"handleCurrentChange\" :current-page=\"page\"\r\n          :page-sizes=\"[5, 10, 20, 30, 50]\" :page-size=\"10\" layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"commentInfo.total\">\r\n        </el-pagination>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 导入 axios\r\nimport axios from \"axios\";\r\nimport { mapActions } from 'vuex';\r\nimport { playlistDetailAPI, commentsAPI } from '@/utils/api'\r\nimport { checkMusic, getSongUrl, getEverySongDetail } from '@/utils/playmusic'\r\nimport { FormItem } from 'element-ui';\r\nexport default {\r\n  name: \"playlist\",\r\n  data() {\r\n    return {\r\n      // 歌曲、评论两个栏切换\r\n      activeIndex: \"1\",\r\n      // 总条数\r\n      total: 0,\r\n      // 页码\r\n      page: 1,\r\n      // 歌单详细数据\r\n      // tracks 歌曲列表\r\n      playlist: {\r\n        creator: {\r\n          avatarUrl: \"\",\r\n        },\r\n      },\r\n      // 评论信息\r\n      commentInfo: {\r\n        // 普通评论\r\n        comments: [],\r\n        // 热门评论\r\n        hotComments: [],\r\n        // 评论总数\r\n        total: 0,\r\n      },\r\n    };\r\n  },\r\n  //生命周期钩子 回调函数\r\n  created() {\r\n    // 获取歌单详情\r\n    this.GetLists();\r\n    // 获取评论信息\r\n    this.GetComments();\r\n  },\r\n  // 调用方法\r\n  methods: {\r\n    //播放音乐\r\n    PlayMusic(song) {\r\n      // 先检查歌曲是否可用\r\n      checkMusic(song.id)\r\n        .then(res => {\r\n          // 获取歌曲url\r\n          getSongUrl(song.id).then(res => {\r\n            this.$store.dispatch(\"saveSongUrl\", res.data.data[0].url);\r\n          });\r\n          getEverySongDetail(song.id).then(res => {\r\n            console.log('detail', res)\r\n            // 更新播放状态\r\n            this.$store.dispatch(\"changePlayState\", true);\r\n            //提交vuex保存当前歌曲详情\r\n            this.$store.dispatch(\"saveSongDetail\", res.data.songs[0]);\r\n            // 提交vuex添加到播放列表\r\n            this.$store.dispatch(\"addPlayinglist\", res.data.songs[0]);\r\n            // console.log('nowSongDetail',this.nowSongDetail)\r\n          })\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          this.$message({\r\n            message: \"暂时无法播放，换首试试\",\r\n            type: \"warning\",\r\n            center: true,\r\n          });\r\n        });\r\n    },\r\n\r\n    // 点击添加按钮\r\n    AddMusic(song) {\r\n      // 提交vuex添加到播放列表\r\n      this.$store.dispatch(\"addPlayinglist\", song);\r\n      this.$message({\r\n        message: \"已添加到播放列表\",\r\n        type: \"success\",\r\n        center: true,\r\n      });\r\n    },\r\n\r\n    handleCurrentChange(val) {\r\n      // console.log(`当前页: ${val}`);\r\n      // 保存页码\r\n      this.page = val;\r\n      // 重新获取数据\r\n      this.GetComments()\r\n    },\r\n\r\n    // 获取歌单详情\r\n    async GetLists() {\r\n      let params = {\r\n        id: this.$route.query.q,\r\n        limit: 10,\r\n        // 根据页码计算\r\n        offset: (this.page - 1) * 10,\r\n      }\r\n      playlistDetailAPI(params).then((res) => {\r\n        // console.log(\"歌单详情\", res);\r\n        this.playlist = res.data.playlist;\r\n        // console.log('这个歌单',res)\r\n      });\r\n    },\r\n    // 增加歌单全部歌曲到播放列表 \r\n    AddAplayer() {\r\n\r\n    },\r\n\r\n    // 播放全部\r\n    PlayAll() {\r\n\r\n    },\r\n\r\n    // 获取歌单评论\r\n    async GetComments() {\r\n      let params = {\r\n        // id 用传入的id\r\n        id: this.$route.query.q,\r\n        // 评论一页获取个数\r\n        limit: 10,\r\n        // 分页\r\n        offset: (this.page - 1) * 10,\r\n      }\r\n      // 传入params和type = 'playlist'获取歌单评论\r\n      commentsAPI(params, 'playlist').then((res) => {\r\n        // console.log(\"评论\", res);\r\n        // 评论页大于1的时候，重新赋值新的评论\r\n        if (this.page > 1) {\r\n          // 赋值评论信息\r\n          this.commentInfo.comments = res.data.comments;\r\n        } else {\r\n          // 新建一个newData保存评论喝个数\r\n          let newData = {\r\n            // 评论数组赋值\r\n            comments: res.data.comments,\r\n            // 这是普通评论的总个数\r\n            total: res.data.total,\r\n          };\r\n          // 热门评论\r\n          newData.hotComments = res.data.hotComments || res.data.topComments;\r\n          // 评论信息赋值\r\n          this.commentInfo = newData;\r\n        }\r\n      });\r\n    },\r\n\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./06.playlist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./06.playlist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./06.playlist.vue?vue&type=template&id=7299e692&\"\nimport script from \"./06.playlist.vue?vue&type=script&lang=js&\"\nexport * from \"./06.playlist.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","playlist","expression","attrs","_v","_s","creator","nickname","_f","createTime","on","PlayAll","_l","item","index","key","description","model","callback","$$v","activeIndex","$event","PlayMusic","al","AddMusic","ar","dt","commentInfo","total","hotComments","length","user","content","beReplied","_e","time","likedCount","comments","page","handleCurrentChange","staticRenderFns","data","avatarUrl","created","GetLists","GetComments","methods","song","checkMusic","id","then","res","getSongUrl","getEverySongDetail","console","catch","err","message","type","center","$store","dispatch","$message","val","async","params","$route","query","q","limit","offset","playlistDetailAPI","AddAplayer","commentsAPI","newData","topComments","component"],"sourceRoot":""}